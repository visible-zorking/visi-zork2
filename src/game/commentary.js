window.gamedat_commentary = {"ABOUT":["Welcome to the commentary track!"],"CONST:ZORK-NUMBER":["The number of the Zorks shall be two.",["br"],"(\u201cThree, sir!\u201d)",["br"],"Yes, but ",["emph","this"]," one is Zork 2."],"RTN:V-VERSION":["Print the title, release, and serial number.",["br"],"This function is shared between all three Zorks, which is why it has code to print all three titles. The passages meant for Zork 1 and 3 were ignored when compiling Zork 2. (Skipped code is shown in grey.)"],"SRC:GVERBS-89":["The TRS-80 interpreter set a special bit which told the game to change certain behavior for no-doubt-contractual reasons. For Zork 2, it adds the line \u201cLicensed to Tandy Corporation\u201d.",["br"],"For a complete list of \u201cTandy bit\u201d behavior changes in Infocom games, ",["extlink","https://ifarchive.org/if-archive/infocom/info/tandy_bits.html","see this page"],"."],"GRAMMAR-LEGEND":["This is the list of verb forms which the game recognizes. (Simple directions like ",["code","NORTH"]," are a special case; they\u2019re not listed here.) These are compiled from the ",["src","GSYNTAX-71","SRC","GSYNTAX"]," file.",["br"],"Objects in a verb line have various flags which give hints about their usage. An object attribute (like ",["code","LIGHTBIT"],") means that if the player doesn\u2019t name an object, the parser will try to guess one with that attribute.",["br"],"The other flag letters have specific meanings: the object must be ",["bold","h"],"eld; the object will be ",["bold","t"],"aken if not held; the object should be ",["bold","i"],"n the room or ",["bold","o"],"n the ground; the object should be ",["bold","p"],"ossessed or ",["bold","c"],"arried in a container. (Yes, they\u2019re confusing. Infocom\u2019s own docs say \u201cNo one really understands them except Stu\u201d (Galley).)"],"ATTR:RMUNGBIT":["Not applied to real objects. ",["code","RMUNGBIT"]," is a hack used in grammar lines; it means the object is optional (but the preposition before it is required). This allows the parser to accept commands like ",["src","GSYNTAX-289","SRC","LOOK AROUND"],"."],"GLOB:P-SYNTAX":["The grammar line found when the most recent command was parsed. (Except for simple direction commands, which are a special case.) See the Grammar tab."],"OBJTREE-LEGEND":["In this list, ",["code","Rooms"]," are rooms and ",["code","Items"]," are regular items. (Sometimes portable, sometimes not.)",["br"],["code","Scen"]," indicates scenery objects. These exist in multiple places; for example, the ",["src","MOSS","OBJ",""]," is visible from many locations near the entrance.",["br"],["code","Glob"]," indicates a global object, which is ",["emph","always"]," visible, or at least mentionable. For example, ",["src","GRUE","OBJ",""]," is global \u2013 not because grues are always present, but so you can always ask ",["code","WHAT IS A GRUE"],"."],"OBJ:LOCAL-GLOBALS":["This is a container for scenery objects like ",["src","MOSS","OBJ",""],", which are visible from many locations in the game."],"SRC:GGLOBALS-26":["This refers to the word ",["code","ZZMGCK"]," in ",["src","LOCAL-GLOBALS","OBJ",""],", above.",["br"],"Why is this synonym necessary? Does it need to be alphabetically last? Not clear! Most Infocom games have it (or a variation), but some say \u201cNo, this synonym doesn\u2019t need to exist\u201d instead.",["br"],"If you type ",["code","EXAMINE ZZMGCK"],", the parser finds ",["src","LOCAL-GLOBALS","OBJ",""],". But that object is nameless, so you get a garbage reply. Go on, try it."],"OBJ:ADVENTURER":["Yes, the player\u2019s printed name is \u201ccretin\u201d, although the game rarely says so. (The death message for ",["code","ATTACK HEADS"]," mentions it.) This sort of sarcastic insult hasn\u2019t aged too well, but MIT culture had a lot of it. Compare ",["comsrc","WINNER","GLOB",""],", and also the old MIT ",["extlink","https://jargon-file.org/archive/jargon-1.0.0.33.dos.txt","Jargon File"],".",["br"],"Note that if you refer to ",["code","ME"]," (or ",["code","CRETIN"],"), you get the ",["comsrc","ME","OBJ",""]," global object, not the ",["code","ADVENTURER"],"."],"OBJ:ME":["A global object which is always in scope. Commands referring to ",["code","ME"]," hit this, rather than ",["comsrc","ADVENTURER","OBJ",""],", which is a stub that moves around the map.",["br"],"Because of this, parser messages mostly refer to you as \u201cyou\u201d, even though the ",["comsrc","ADVENTURER","OBJ",""],"\u2019s printed name is \u201ccretin\u201d."],"GLOB:PLAYER":[["code","PLAYER"]," is always the ",["src","ADVENTURER","OBJ",""],". Compare ",["comsrc","WINNER","GLOB",""],"."],"GLOB:WINNER":[["code","WINNER"]," is the actor in the current command. (Compare ",["comsrc","PLAYER","GLOB",""],".)",["br"],["code","WINNER"]," is usually ",["src","ADVENTURER","OBJ",""],", but for a command like ",["code","ROBOT, GO EAST"]," it shifts to the named NPC.",["br"],"\u201cWinner\u201d is just as sarcastic as \u201c",["comsrc","ADVENTURER","OBJ","cretin"],"\u201d, but from the other side."],"GLOB:HERE":["The location of the ",["comsrc","WINNER","GLOB",""],"."],"GLOB:LIT":["Whether the current location has light. Set by calling the ",["comsrc","LIT?","RTN",""]," routine."],"GLOB:ALWAYS-LIT":["Whether the player is inherently emitting light. The Wizard might cast ",["code","FLUORESCE"]," on you if he ",["comsrc","2ACTIONS-3443","SRC","finds you in the dark"],"."],"RTN:LIT?":["Determine whether a given location has light. This is true if the room or anything in it has ",["com","ONBIT","ATTR",""],". It\u2019s also true if the player is ",["comsrc","ALWAYS-LIT","GLOB",""],".",["br"],"This routine is used to set the ",["comsrc","LIT","GLOB",""]," variable. It\u2019s also used to determine visibility in some other situations. For example, if you peer out from inside a sphere, or look through the keyhole, the game checks whether you can see only darkness."],"GLOB:LOW-DIRECTION":["Properties with this value and above are directions."],"ATTR:ONBIT":["Set for glowing objects and naturally-illuminated rooms.",["br"],"This is different from ",["com","LIGHTBIT","ATTR",""],", which indicates objects that the player can ",["code","TURN ON"],". See also ",["com","FLAMEBIT","ATTR",""],", objects which are on fire."],"ATTR:FLAMEBIT":["Set for objects which are on fire. Such objects normally also have ",["com","ONBIT","ATTR",""],".",["br"],"This is different from ",["com","BURNBIT","ATTR",""],", which indicates objects that the player can ",["code","BURN"],"."],"ATTR:LIGHTBIT":["Set for objects which the player can sensibly ",["code","TURN ON/OFF"]," (e.g. the ",["src","LAMP","OBJ",""],"). Objects which have been ",["code","FLUORESCE"],"d also have this, although only to tell you \u201cYou can\u2019t turn that off.\u201d",["br"],"This is different from ",["com","ONBIT","ATTR",""],", which indicates objects that are currently lit up. See also ",["com","BURNBIT","ATTR",""],", objects which the player can ",["code","BURN"],"."],"ATTR:BURNBIT":["Set for objects which the player can ",["code","BURN"],". (It might be a bad idea, but you can do it.)",["br"],"This is different from ",["com","FLAMEBIT","ATTR",""],", which indicates objects that are currently on fire. See also ",["com","LIGHTBIT","ATTR",""],", objects which the player can ",["code","TURN ON"],"."],"ATTR:RLANDBIT":["Set for rooms which are solid ground. (Most of them.) The alternative is ",["com","NONLANDBIT","ATTR",""],", but several rooms have both."],"ATTR:NONLANDBIT":["Set for \u201crooms\u201d in which you float in the air \u2013 or might float, at least. If the room has any walkable floor, it will also have ",["com","RLANDBIT","ATTR",""],".",["br"],"This flag is also set for objects which are (temporarily) much larger than you. This happens to anything you\u2019re not holding when you shrink yourself in the Tea Room."],"ATTR:NWALLBIT":["Set for \u201crooms\u201d which are in the open air. The game does not use this flag for anything, however."],"ATTR:STAGGERED":["Set for valuable objects \u2013 not just the demon\u2019s treasures, but the spheres, the wand, and the collar. However, the game generally relies on the ",["com","VALUE","PROP",""]," property rather than ",["code","STAGGERED"],"."],"PROP:VALUE":["Set for valuable objects, and rooms which are difficult to reach. Picking up the object or entering the room awards you this many points. (And then the property is set to zero, to indicate that you\u2019ve scored it.)",["br"],"Valuable objects also have the ",["com","STAGGERED","ATTR",""]," flag, but the game almost never checks this.",["br"],"The ",["code","VALUE"]," property is also used to check whether the demon (and gnome, etc) approves of an object. The ",["emph","value"]," of ",["code","VALUE"]," is not important here \u2013 just whether the property exists at all. (After all, any treasure you\u2019re holding necessarily has ",["code","VALUE"]," zero.)"],"ATTR:SACREDBIT":["Not used in Zork 2."],"GLOB:SPRAYED?":["Whether you\u2019ve been sprayed with grue repellant."],"GLOB:FANTASIES":["A table of hallucinations which can result from the ",["code","FANTASIZE"]," spell. Unfortunately, the code that displays ",["code","FANTASIES"]," has been lost, so the spell has no effect! See the ",["src","GVERBS-1712","SRC","PRINT-CONT"]," routine."],"SRC:GVERBS-1712":["In earlier versions of Zork 2, there was code here to display ",["src","FANTASIES","GLOB",""]," if you were under the ",["code","FANTASIZE"]," spell. Unfortunately, when renovating the Zorks in 1984, this code was somehow lost. The ",["code","FANTASIZE"]," spell is now broken."],"GLOB:P-WON":["Set if the parser successfully parsed a command. (As opposed to a blank line or an error.)",["br"],"No relation to whether the ",["emph","player"]," has won; that\u2019s ",["comsrc","WON-FLAG","GLOB",""],"."],"GLOB:WON-FLAG":["Set when you reach the ",["src","ZORK3","OBJ","final room"]," (with the wand) and thus win the game. Since the game then ends immediately, the flag is only used in reporting your ",["src","2ACTIONS-3877","SRC","final score"],"."],"GLOB:LUCKY":["In Zork 2, you are always lucky."],"GLOB:C-INTS":["Indicates how much of the timer table (",["comsrc","C-TABLE","GLOB",""],") is used. This counts down from ",["code","C-TABLELEN"],", which is 180."],"GLOB:C-DEMONS":["Indicates how much of the timer table is used for daemons. (No relation to the wizard\u2019s ",["src","GENIE","OBJ","demon"],"!)",["br"],"The difference between daemons and timers is that timers run every turn; daemons run every ",["emph","input"],", even if no turn passes. But Zork 2 does not use daemons."],"GLOB:C-TABLE":["The timer table. See the \u201cTimers\u201d tab for a current listing."],"TIMERS-LEGEND":["A list of the timers running (or paused) in the timer table (",["src","C-TABLE","GLOB",""],"). Positive numbers count down (while enabled) and call the named function after that many turns. Negative numbers are called every turn while the timer is enabled.",["br"],"This list only grows as you play; timers can be added, started, and stopped, but not removed.",["br"],"Note that enabled negative timers, like ",["comsrc","I-SWORD","RTN",""],", count down towards \u201cnegative infinity\u201d. They\u2019ll wrap and stop working after 65535 turns, but back then nobody worried about this!"],"RTN:GO":["Set up the world at the start of the game. Start the timers. Print the banner. Set all those useful globals like ",["src","HERE","GLOB",""]," and ",["src","PLAYER","GLOB",""],"."],"OBJ:GENIE":["The game generally refers to the Big Bad as a \u201cdemon\u201d, but \u201cgenie\u201d is occasionally used as well."],"OBJ:SWORD":["The sword has ",["com","VALUE","PROP",""]," zero. Any object with a ",["code","VALUE"]," property is considered a treasure (even if the value is zero). This means that the sword is accepted as a gift by the ",["src","GNOME-FCN","RTN","gnomes"],", the ",["src","2ACTIONS-2376","SRC","dragon"],"... and the genie. See ",["comsrc","2ACTIONS-3259","SRC","this bug"],"."],"RTN:I-SWORD":["This routine runs every turn that you are carrying the ",["comsrc","SWORD","OBJ",""],". It checks adjacent rooms for enemies and displays the \u201csword is glowing\u201d message.",["br"],"The sword\u2019s glow level is stored in the ",["comsrc","SWORD-GLOW","GLOB",""]," variable."],"GLOB:SWORD-GLOW":["Set by ",["comsrc","I-SWORD","RTN",""],"."],"CONST:TREASURES-MAX":["The number of treasures that the genie desires. See ",["comsrc","2ACTIONS-3259","SRC","this bug"],"."],"SRC:2ACTIONS-3259":["The genie accepts any object with the ",["com","VALUE","PROP",""]," property. As noted at ",["src","TREASURES-MAX","CONST",""],", his treasure count does ",["emph","not"]," include the ",["src","PALANTIR-1","OBJ","spheres"],", the ",["src","CANDY","OBJ","candy"],", the ",["src","COLLAR","OBJ","collar"],", and the ",["src","WAND","OBJ","wand"],". Those objects are used up or unreachable while the genie is active.",["br"],"However, in this version of Zork 2, the ",["src","SWORD","OBJ",""]," also has the ",["com","VALUE","PROP",""]," property. So you can use it to bribe the ",["src","GNOME-FCN","RTN","gnomes"],", which makes sense \u2013 and the genie, which doesn\u2019t!",["br"],"By offering the sword to the genie, you can skip collecting any of the other treasures. Or give the sword to the genie as a bonus, and win the game with 402 points."],"RTN:I-LANTERN":["This routine sits in the timers table. When it fires, it prints a \u201clantern has gotten dimmer\u201d message and re-queues itself for the next dimming stage. (Until the lantern goes out entirely, of course.) The messages themselves (and their durations) are found in ",["comsrc","LAMP-TABLE","GLOB",""],"."],"GLOB:LAMP-TABLE":["This table shows the successive stages of the lamp going out. The ",["emph","first"]," stage is 200 turns, which is set in ",["src","GO","RTN",""],", not here."],"RTN:I-WIZARD":["This routine is the ",["src","WIZARD","OBJ",""],"\u2019s heartbeat. Every four turns (normally), he has a chance of showing up and casting something irritating on you. The Wizard also has a number of other possible reactions, depending on your current situation.",["br"],"Once a spell has been cast on you, this routine acts as the timer for its expiration. Then it goes back to handling the Wizard.",["br"],"(Want to ",["com","TRY-SPELL","","test the Wizard\u2019s spells"],"?)"],"SRC:2ACTIONS-3443":["If you are in the dark, your lamp is busted, and your score is over 200, the Wizard may \u201chelpfully\u201d cast ",["code","FLUORESCE"]," on you. This sets ",["comsrc","ALWAYS-LIT","GLOB",""],".",["br"],"(The flag is never removed, so the spell is permanent. This will cause you trouble in the Crypt.)"],"SRC:2ACTIONS-3484":["The more spheres you carry, the less likely the Wizard is to cast a spell on you."],"GLOB:SPELL?":["If you are currently the victim of a spell, this says which it is. The values are the constants defined under ",["src","SPELLS","CONST",""],".",["br"],"(This does not include ",["code","FLUORESCE"],", which is instead indicated by ",["comsrc","ALWAYS-LIT","GLOB",""],".)"],"CONST:SPELLS":["The number of spells that the Wizard might randomly afflict you with."],"GLOB:SPELL-NAMES":["The printed names of the spells defined under ",["src","SPELLS","CONST",""],"."],"GLOB:SPELL-HINTS":["These messages are used when the Wizard casts a spell on you."],"GLOB:SPELL-STOPS":["These messages are used when a spell expires."],"OBJ:PALANTIR-1":["The game lets you refer to the spheres as ",["code","PALANTIRS"],", but it doesn\u2019t do so itself. No doubt the specter of Tolkien lawsuits loomed large. (Similarly, you can refer to the ",["src","SWORD","OBJ",""]," as ",["code","ORCRIST"]," or ",["code","GLAMDRING"]," if you want to be a nerd.)"],"OBJ:PALANTIR-2":["The game lets you refer to the spheres as ",["code","PALANTIRS"],", but it doesn\u2019t do so itself. No doubt the specter of Tolkien lawsuits loomed large. (Similarly, you can refer to the ",["src","SWORD","OBJ",""]," as ",["code","ORCRIST"]," or ",["code","GLAMDRING"]," if you want to be a nerd.)"],"OBJ:PALANTIR-3":["The game lets you refer to the spheres as ",["code","PALANTIRS"],", but it doesn\u2019t do so itself. No doubt the specter of Tolkien lawsuits loomed large. (Similarly, you can refer to the ",["src","SWORD","OBJ",""]," as ",["code","ORCRIST"]," or ",["code","GLAMDRING"]," if you want to be a nerd.)"],"OBJ:PALANTIR-4":["The game lets you refer to the spheres as ",["code","PALANTIRS"],", but it doesn\u2019t do so itself. No doubt the specter of Tolkien lawsuits loomed large. (Similarly, you can refer to the ",["src","SWORD","OBJ",""]," as ",["code","ORCRIST"]," or ",["code","GLAMDRING"]," if you want to be a nerd.)"],"RTN:I-SPHERE":["This is the timer routine for dying in the ",["src","IN-CAGE","OBJ","cage"],"."],"SRC:2ACTIONS-176":["This section handles much of the ",["src","RECEPTACLE","OBJ",""]," logic. However, it only applies when you are ",["emph","in"]," the ",["src","BALLOON","OBJ",""],". (The player\u2019s location can override actions in the ",["code","M-BEG"]," phase of ",["src","GMAIN-196","SRC","PERFORM"],".) The receptacle is reachable from outside the balloon, which leads to a few bugs.",["br"],["credit","Torbj\u00f6rn Andersson"]],"SRC:2ACTIONS-271":["The description aligns neatly with the ",["extlink","../zork1/#OBJ:CANYON-VIEW","CANYON-VIEW"]," in Zork 1."],"OBJ:COIN":["The source has wonderful ASCII-art renditions of some of the treasures. These are carried over from MIT Zork, but they are commented out here \u2013 no doubt to save space.",["br"],"The art doesn\u2019t render very well in the source pane, but you can see the original coin ",["extlink","pic/coin-art.png","here"],"."],"OBJ:STAMP":["The source has wonderful ASCII-art renditions of some of the treasures. These are carried over from MIT Zork, but they are commented out here \u2013 no doubt to save space.",["br"],"The art doesn\u2019t render very well in the source pane, but you can see the original stamp ",["extlink","pic/stamp-art.png","here"],"."],"OBJ:BILLS":["The source has wonderful ASCII-art renditions of some of the treasures. These are carried over from MIT Zork, but they are commented out here \u2013 no doubt to save space.",["br"],"The art doesn\u2019t render very well in the source pane, but you can see the original bills ",["extlink","pic/bills-art.png","here"],"."],"OBJ:PORTRAIT":["The source has wonderful ASCII-art renditions of some of the treasures. These are carried over from MIT Zork, but they are commented out here \u2013 no doubt to save space.",["br"],"The art doesn\u2019t render very well in the source pane, but you can see the original portrait ",["extlink","pic/portrait-art.png","here"],"."],"OBJ:DIAMOND-5":["The Map tab shows the rooms as laid out by their direction properties. (",["src","DIAMOND-2","OBJ",""]," is ",["code","NORTH"]," of ",["src","DIAMOND-5","OBJ",""]," and so on.) But the puzzle solution has nothing to do with this layout! See ",["comsrc","DIAMOND-MOTION","RTN",""],".",["br"],"Once the maze is solved (",["src","DIAMOND-SOLVE","GLOB",""],"), you are no longer confused and movement follows the map as shown."],"RTN:DIAMOND-MOTION":["Everybody loves a ",["com","COM-MAZE-1","","maze"],".",["br"],"This routine handles travel in the Oddly-angled Rooms, and the mechanics of solving it.",["br"],"Let\u2019s follow the logic...",["br"],"...Is the maze ",["comsrc","2ACTIONS-2185","SRC","solved"]," or ",["comsrc","2ACTIONS-2187","SRC","unsolved"],"? This is the ",["src","DIAMOND-SOLVE","GLOB",""]," variable."],"SRC:2ACTIONS-2185":["If the maze is solved, ",["comsrc","DIAMOND-MOTION","RTN",""]," returns with no special effect. Travel then follows normal directions. From the ",["src","DIAMOND-5","OBJ","center room"],", you can go both ",["code","UP"]," and ",["code","DOWN"],"."],"SRC:2ACTIONS-2187":["If the maze is still unsolved...",["br"],"...are you in an ",["comsrc","2ACTIONS-2190","SRC","even room"]," or an ",["comsrc","2ACTIONS-2213","SRC","odd room"],"?"],"SRC:2ACTIONS-2190":["If you are in an even room (2/4/6/8)...",["br"],"Have you made the ",["comsrc","2ACTIONS-2191","SRC","correct next move"]," or a ",["comsrc","2ACTIONS-2210","SRC","wrong move"],"?",["br"],"The correct next move is defined by ",["src","DIDIRS","GLOB",""],"). You must first move ",["code","SE"],", then ",["code","NE"],", then ",["code","NW"],", then ",["code","SW"],".",["br"],"Note that it doesn\u2019t at all matter ",["emph","which"]," even room you\u2019re in. Indeed, if you weren\u2019t playing in the Visible Zorker, you would have no way to tell!"],"SRC:2ACTIONS-2191":["For a correct move, we increment ",["src","DIAMOND-COUNT","GLOB",""],". If that reaches 5 (meaning you\u2019ve made your fourth correct move in a row), we also set ",["src","DIAMOND-SOLVE","GLOB",""],". Good job!",["br"],"Regardless, we then transport you along the cycle of even rooms: 2 \u2192 4 \u2192 8 \u2192 6 \u2192 2. Again, this has nothing to do with the move you just made."],"SRC:2ACTIONS-2210":["A wrong move from an even room always calls ",["comsrc","DIAMOND-LOSS","RTN",""],"."],"SRC:2ACTIONS-2213":["If you are in an odd room (1/3/5/7/9)...",["br"],"...did you ",["comsrc","2ACTIONS-2215","SRC","go up from the center"],"? (The exit stairs.)",["br"],"...or did you ",["comsrc","2ACTIONS-2216","SRC","make any other move at all"],"?"],"SRC:2ACTIONS-2215":["Going ",["code","UP"]," from the ",["src","DIAMOND-5","OBJ","center room"]," always works. (This is how you return to the ",["src","MENHIR-ROOM","OBJ","Menhir Room"],".) Of course, ",["emph","finding"]," the center room is tricky! It\u2019s only a 20% chance in ",["comsrc","DIAMOND-LOSS","RTN",""],"."],"SRC:2ACTIONS-2216":["Any move in an odd room (aside from ",["code","UP"]," the center stairs) gives a completely random result. Roll a die! (Notionally.)",["br"],"...",["comsrc","2ACTIONS-2219","SRC","rolled 1 or 2"],"?",["br"],"...",["comsrc","2ACTIONS-2222","SRC","rolled 3"],"?",["br"],"...",["comsrc","2ACTIONS-2226","SRC","rolled 4, 5, 6"],"?"],"SRC:2ACTIONS-2219":["After any move in an odd room, you have a 33% chance of a \u201ccan\u2019t go that way\u201d message."],"SRC:2ACTIONS-2222":["After any move in an odd room, you have a 16% chance of ",["comsrc","DIAMOND-LOSS","RTN",""],".",["br"],"(Yeah, the code says ",["code","PROB 25"],". But that\u2019s after the ",["src","2ACTIONS-2216","SRC","33% chance above"]," has failed.)"],"SRC:2ACTIONS-2226":["After any move in an odd room, you have a 50% chance of being sent to a random ",["emph","even"]," room.",["br"],"If the ",["src","BAT","OBJ",""]," hasn\u2019t yet turned up, it will turn up now. (But if you leave the bat alone, it will remain in that even room thereafter.)"],"RTN:DIAMOND-LOSS":["This handles some of the false moves in the maze. (Not all of them!)",["br"],"We increment ",["src","DIAMOND-MOVES","GLOB",""],", which counts up towards the Wizard appearing to taunt you. Then we transport the player to a randomly-selected odd room (1/3/5/7/9).",["br"],"Note that this is the only way to return to the ",["comsrc","DIAMOND-5","OBJ","stairway"]," if the maze is unsolved. And that\u2019s only a 20% chance. Inconsiderate!"],"GLOB:DIAMOND-MOVES":["This tracks how many wrong moves you\u2019ve made in the maze. At 20, the Wizard ",["src","DIAMOND-LOSS","RTN","taunts you"],"."],"GLOB:DIAMOND-BASE":["This tracks the farthest progress you\u2019ve ever made in the maze. The Wizard uses this as part of his taunt: \u201cYou\u2019ll never get past ",["emph","second"]," base!\u201d"],"RTN:I-BUCKET":["When you pour water into the bucket, it slowly evaporates. This timer routine handles its eventual disappearance."],"SRC:2ACTIONS-844":["\u201cKick the bucket,\u201d as in \u201cdie.\u201d Get it?"],"GLOB:EVAPORATED":["If set, the bucket is descending because the water evaporated (rather than because you removed the water yourself)."],"SRC:2ACTIONS-789":["This move can\u2019t happen. See ",["comsrc","SALTY-WATER","OBJ",""],"."],"SRC:2ACTIONS-791":["You can lower the bucket with ",["code","GET WATER"],". This is pragmatic \u2013 otherwise you\u2019d have to wait for the water to ",["comsrc","I-BUCKET","RTN","evaporate"],". But scraping a puddle into a teapot makes no physical sense. Yes, this bothered me when I was twelve."],"OBJ:FOOTPAD":["There is no footpad. (The Thief died in Zork 1, remember?) This object exists so that you can ask ",["code","WHAT IS A FOOTPAD"]," after reading the sign in the ",["src","CAGE-ROOM","OBJ",""],"."],"OBJ:SALTY-WATER":["This is supposed to represent water from the ",["src","POOL-ROOM","OBJ",""],". However, the logic in ",["src","2ACTIONS-789","SRC","WATER-FCN"]," doesn\u2019t work; it\u2019s impossible to take the ",["code","SALTY-WATER"],". So the object is useless.",["br"],"(In previous versions of Zork 2, you could get the ",["code","SALTY-WATER"],", but it was very buggy.)"],"OBJ:IN-AQUARIUM":["You can\u2019t enter the aquarium (and live). The room only exists to provide a description for peering into the blue sphere."],"FILES-LEGEND":["The last file, crufty.zil, is a bit odd. See ",["comsrc","ZORK2-34","SRC","this note"],"."],"SRC:CRUFTY-1":["Weirdly, nothing ever includes this file. See ",["comsrc","ZORK2-34","SRC","zork.zil"],".",["br"],"The ",["comsrc","I-LANTERN","RTN",""]," routine is definitely part of the game file. So we know the compiler read this file in. But it\u2019s not obvious how."],"SRC:ZORK2-34":["Notice something missing? There\u2019s no ",["code","IFILE"]," line (\u201cinclude file\u201d) for ",["src","CRUFTY-1","SRC","crufty.zil"],".",["br"],"The ",["comsrc","I-LANTERN","RTN",""]," routine is definitely part of the game file. So we know the compiler read crufty.zil in. But it\u2019s not obvious how.",["br"],"Furthermore, when I analyzed the game file, I found that functions were ",["emph","not"]," generated in the order of the ",["code","IFILE"]," lines here. (In Zork 1, functions ",["emph","were"]," generated in ",["code","IFILE"]," order.)",["br"],"My best guess is that the zork2.zil file was rewritten after July 26 1984, but the game was never recompiled."],"GLOB:DUMMY":[["code","DUMMY"]," gives random responses for silly commands, like ",["code","CLOSE DOOR"]," when the door isn\u2019t open.",["br"],"This table is defined in two places in the source, with different contents. See ",["src","GVERBS-2133","SRC","GVERBS"],". The compiler apparently didn\u2019t report this as an error, and the developers didn\u2019t notice."],"SRC:GVERBS-2133":["The ",["src","DUMMY","GLOB",""]," table is defined elsewhere, so this declaration has no effect.",["br"],"I\u2019ve colored it grey, as if it were not compiled, but that\u2019s not strictly correct. This version of the table can be found in memory (address 10795); but nothing refers to it, so its contents are never printed."],"SRC:GVERBS-912":["This is clearly intended to be the response to ",["code","ODYSSEUS"],", but it is never printed. In fact the compiler has discarded the string entirely. The ",["code","CYCLOPS"]," code above, which is only compiled in Zork 1, seems to have confused the rest of the function.",["br"],"(Interestingly, the carriage return ",["code","CR"]," ",["emph","is"]," printed. So the compiler didn\u2019t discard the entire line \u2013 only the string. See ",["comsrc","BLAST","RTN",""]," for a similar incident.)"],"RTN:BLAST":["This provides a custom response in the Dusty Room. Sadly, the ",["code","BLAST"]," routine is never called, so the effort is wasted. (The command ",["code","BLAST"]," is handled by ",["src","V-BLAST","RTN",""],".)",["br"],"The compiler has discarded the string but not the routine, which is an interesting optimization choice."],"SRC:GVERBS-523":["You can cast ",["code","FLUORESCE"]," with the wand, but the implementation is a bit broken. First, the spell is permanent; it\u2019s not removed in ",["src","V-DISENCHANT","RTN",""],". Fair enough \u2013 it\u2019s permanent when the ",["comsrc","ALWAYS-LIT","GLOB","Wizard casts it"]," too. But it also sets ",["code","LIGHTBIT"],", meaning the player can then turn the fluorescing object on and off at will!"],"COM-MAZE-1":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-4","","north"],", ",["com","COM-MAZE-2","","east"],", or ",["com","COM-MAZE-3","","west"],"."],"COM-MAZE-2":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-1","","south"],", ",["com","COM-MAZE-3","","down"],", or ",["com","COM-MAZE-1","","north"],"."],"COM-MAZE-3":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-2","","west"],", ",["com","COM-MAZE-1","","northwest"],", or ",["com","COM-MAZE-1","","north"],"."],"COM-MAZE-4":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-5","","west"],", ",["com","COM-MAZE-6","","northeast"],", or ",["com","COM-MAZE-7","","north"],"."],"COM-MAZE-5":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-6","","southeast"],", ",["com","COM-MAZE-4","","north"],", or ",["com","COM-MAZE-6","","east"],"."],"COM-MAZE-6":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-4","","north"],", ",["com","COM-MAZE-5","","south"],", or ",["com","COM-MAZE-5","","up"],"."],"COM-MAZE-7":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-8","","down"],", ",["com","COM-MAZE-10","","north"],", or ",["com","COM-MAZE-9","","east"],"."],"COM-MAZE-8":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-7","","north"],", ",["com","COM-MAZE-9","","west"],", or ",["com","COM-MAZE-9","","east"],"."],"COM-MAZE-9":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-8","","up"],", ",["com","COM-MAZE-8","","west"],", or ",["com","COM-MAZE-7","","north"],"."],"COM-MAZE-10":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-13","","north"],", ",["com","COM-MAZE-11","","west"],", or ",["com","COM-MAZE-12","","southeast"],"."],"COM-MAZE-11":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-12","","south"],", ",["com","COM-MAZE-12","","down"],", or ",["com","COM-MAZE-10","","north"],"."],"COM-MAZE-12":["You are in a small room with evenly-angled walls.",["br"],"You can go ",["com","COM-MAZE-11","","south"],", ",["com","COM-MAZE-10","","north"],", or ",["com","COM-MAZE-11","","northeast"],"."],"COM-MAZE-13":["You have reached a dead end. There is a massive vending machine here.",["br"],["com","BATTERIES","","Press the button"]," to receive fresh batteries for your lantern!"],"BATTERIES":["Your lantern is now refreshed.",["br"],"(Take a look at the \u201cTimers\u201d tab.)"],"TRY-SPELL":["The Wizard has a list of twelve ",["src","SPELL-NAMES","GLOB","spells"]," that he casts on you. Select one:",["br"],"\u201c",["com","TRY-SPELL-FEEBLE","","Feeble"],"\u201d, \u201c",["com","TRY-SPELL-FUMBLE","","Fumble"],"\u201d, \u201c",["com","TRY-SPELL-FEAR","","Fear"],"\u201d, \u201c",["com","TRY-SPELL-FILCH","","Filch"],"\u201d, \u201c",["com","TRY-SPELL-FREEZE","","Freeze"],"\u201d, \u201c",["com","TRY-SPELL-FALL","","Fall"],"\u201d, \u201c",["com","TRY-SPELL-FERMENT","","Ferment"],"\u201d, \u201c",["com","TRY-SPELL-FIERCE","","Fierce"],"\u201d, \u201c",["com","TRY-SPELL-FLOAT","","Float"],"\u201d, \u201c",["com","TRY-SPELL-FIREPROOF","","Fireproof"],"\u201d, \u201c",["com","TRY-SPELL-FENCE","","Fence"],"\u201d, \u201c",["com","TRY-SPELL-FANTASIZE","","Fantasize"],"\u201d. Or \u201c",["com","TRY-SPELL-FLUORESCE","","Fluoresce"],"\u201d, which he only casts in ",["comsrc","2ACTIONS-3443","SRC","specific circumstances"],"."],"TRY-SPELL-FEEBLE":["The Wizard will cast \u201cFeeble\u201d at the next opportunity."],"TRY-SPELL-FUMBLE":["The Wizard will cast \u201cFumble\u201d at the next opportunity."],"TRY-SPELL-FEAR":["The Wizard will cast \u201cFear\u201d at the next opportunity."],"TRY-SPELL-FILCH":["The Wizard will cast \u201cFilch\u201d at the next opportunity."],"TRY-SPELL-FREEZE":["The Wizard will cast \u201cFreeze\u201d at the next opportunity."],"TRY-SPELL-FALL":["The Wizard will cast \u201cFall\u201d at the next opportunity."],"TRY-SPELL-FERMENT":["The Wizard will cast \u201cFerment\u201d at the next opportunity."],"TRY-SPELL-FIERCE":["The Wizard will cast \u201cFierce\u201d at the next opportunity."],"TRY-SPELL-FLOAT":["The Wizard will cast \u201cFloat\u201d at the next opportunity."],"TRY-SPELL-FIREPROOF":["The Wizard will cast \u201cFireproof\u201d at the next opportunity."],"TRY-SPELL-FENCE":["The Wizard will cast \u201cFence\u201d at the next opportunity."],"TRY-SPELL-FANTASIZE":["The Wizard will cast \u201cFantasize\u201d at the next opportunity. But remember that this spell ",["comsrc","GVERBS-1712","SRC","does not work"]," in this release of Zork 2."],"TRY-SPELL-FLUORESCE":["You are now glowing, as if the Wizard had cast ",["code","FLUORESCE"]," on you.",["br"],"(This is an out-of-band update to the game state. Type ",["code","LOOK"]," to see the effect.)"],"TRY-SPELL-FLUORESCE-ALREADY":["You are already fluorescing. Do you want to ",["com","TRY-SPELL-FLUORESCE-END","","cancel the spell"],"?",["br"],"(This is cheating; ",["code","FLUORESCE"]," is supposed to be permanent.)"],"TRY-SPELL-FLUORESCE-END":["You are no longer glowing.",["br"],"(This is an out-of-band update to the game state. You will not see the effect until the end of the next turn.)"],"TRY-SPELL-TOO-LATE":["The Wizard no longer casts spells at this stage of the game."],"TRY-SPELL-FAIL":["Something went wrong with the test."]};
window.gamedat_commentarymap = {"A":[5,"CONST:ZORK-NUMBER",34,"SRC:ZORK2-34"],"B":[13,"GLOB:SWORD-GLOW",15,"RTN:I-SWORD",176,"SRC:2ACTIONS-176",271,"SRC:2ACTIONS-271",509,"RTN:BLAST",744,"GLOB:EVAPORATED",746,"RTN:I-BUCKET",789,"SRC:2ACTIONS-789",791,"SRC:2ACTIONS-791",844,"SRC:2ACTIONS-844",1217,"RTN:I-SPHERE",1915,"GLOB:LAMP-TABLE",2020,"GLOB:DUMMY",2141,"GLOB:DIAMOND-MOVES",2142,"GLOB:DIAMOND-BASE",2168,"RTN:DIAMOND-MOTION",2185,"SRC:2ACTIONS-2185",2187,"SRC:2ACTIONS-2187",2190,"SRC:2ACTIONS-2190",2191,"SRC:2ACTIONS-2191",2210,"SRC:2ACTIONS-2210",2213,"SRC:2ACTIONS-2213",2215,"SRC:2ACTIONS-2215",2216,"SRC:2ACTIONS-2216",2219,"SRC:2ACTIONS-2219",2222,"SRC:2ACTIONS-2222",2226,"SRC:2ACTIONS-2226",2238,"RTN:DIAMOND-LOSS",3259,"SRC:2ACTIONS-3259",3299,"CONST:TREASURES-MAX",3401,"RTN:I-WIZARD",3443,"SRC:2ACTIONS-3443",3484,"SRC:2ACTIONS-3484",3584,"GLOB:SPELL?",3586,"CONST:SPELLS",3600,"GLOB:SPELL-NAMES",3605,"GLOB:SPELL-HINTS",3622,"GLOB:SPELL-STOPS",3838,"GLOB:FANTASIES"],"C":[7,"RTN:GO",771,"OBJ:DIAMOND-5",1057,"OBJ:PALANTIR-4",1199,"OBJ:PALANTIR-3",1227,"OBJ:IN-AQUARIUM",1860,"OBJ:PALANTIR-1",2056,"OBJ:COIN",2093,"OBJ:STAMP",2284,"OBJ:BILLS",2321,"OBJ:PORTRAIT",2472,"OBJ:PALANTIR-2",2549,"OBJ:SALTY-WATER",2590,"OBJ:GENIE",2615,"OBJ:SWORD",2687,"OBJ:FOOTPAD"],"D":[7,"GLOB:C-TABLE",9,"GLOB:C-DEMONS",11,"GLOB:C-INTS"],"E":[12,"OBJ:LOCAL-GLOBALS",26,"SRC:GGLOBALS-26",233,"OBJ:ME",274,"OBJ:ADVENTURER"],"G":[5,"GLOB:PLAYER",7,"GLOB:P-WON"],"H":[26,"GLOB:P-SYNTAX",34,"GLOB:HERE",36,"GLOB:WINNER",1141,"GLOB:ALWAYS-LIT",1143,"RTN:LIT?"],"J":[78,"RTN:V-VERSION",89,"SRC:GVERBS-89",523,"SRC:GVERBS-523",912,"SRC:GVERBS-912",1563,"GLOB:LIT",1565,"GLOB:SPRAYED?",1712,"SRC:GVERBS-1712",1767,"GLOB:WON-FLAG",1808,"GLOB:LUCKY",2133,"SRC:GVERBS-2133"],"K":[1,"SRC:CRUFTY-1",7,"RTN:I-LANTERN"]};
