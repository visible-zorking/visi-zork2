window.gamedat_sourcefiles = {"zork2.zil":[[["Str","\"ZORK2 for"]],[["Str","\t        Zork II: The Wizard of Frobozz"]],[["Str","\t(c) Copyright 1983 Infocom, Inc.  All Rights Reserved.\""]],[],["<SETG ",["Iddef","ZORK-NUMBER"]," 2>"],[],["<GC 0 T 5>"],[],["<BLOAT 70000 0 0 2700 0 0 0 0 0 256>"],[],["<SET REDEFINE T>"],[],["<GLOBAL ",["Iddef","BIGFIX"]," 10000>"],[],["<OR <GASSIGNED? ZILCH>"],["    <SETG WBREAKS <STRING !\\\" !,WBREAKS>>>"],[],["<DEFINE IFILE (STR \"OPTIONAL\" (FLOAD? <>) \"AUX\" (TIM <TIME>))"],["\t<INSERT-FILE .STR .FLOAD?>>"],[],["<PRINC ",["Str","\"Renovated ZORK II: The Wizard of Frobozz"]],[["Str","\""],">"],[],["<OR <GASSIGNED? INSERT-CRUFTY>"],["    <DEFINE INSERT-CRUFTY (STR) <INSERT-FILE .STR T>>>"],[],["<COND (<GASSIGNED? PREDGEN>"],["       <ID 0>)>"],[],["<IFILE ",["Str","\"GMACROS\""]," T>"],[],["<IFILE ",["Str","\"GSYNTAX\""]," T>"],["<IFILE ",["Str","\"2DUNGEON\""]," T>"],["<IFILE ",["Str","\"GGLOBALS\""]," T>"],[],["<PROPDEF SIZE 5>"],["<PROPDEF CAPACITY 0>"],["<PROPDEF VALUE 0>"],[["Comment",";<PROPDEF TVALUE 0>"]],[],["<IFILE ",["Str","\"GCLOCK\""]," T>"],["<IFILE ",["Str","\"GMAIN\""]," T>"],["<IFILE ",["Str","\"GPARSER\""]," T>"],["<IFILE ",["Str","\"GVERBS\""]," T>"],["<IFILE ",["Str","\"2ACTIONS\""]," T>"],[],["<GC 0 T>"],[],["<DEFINE CNT (STR OBL)"],["\t<PRINC .STR>"],["\t<PRIN1 <MAPF ,+ ,LENGTH .OBL>>"],["\t<CRLF>>"],[],["<COND (<NOT <GASSIGNED? PREDGEN>>"],["       <GC-MON T>)>"],[]],"2actions.zil":[[["Str","\"ACTIONS2 for"]],[["Str","\t\t      Zork II: The Wizard of Frobozz"]],[["Str","\t(c) Copyright 1981, 1983 Infocom, Inc.  All Rights Reserved.\""]],[],["<ROUTINE ",["Iddef","SWORD-FCN"]," ()"],["\t <COND (<AND <VERB? TAKE>"],["\t\t     <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-SWORD"]," -1>>"],["\t\t<RFALSE>)>>"],[],[["Str","\"SWORD demon\""]],[],["<GLOBAL ",["Iddef","SWORD-GLOW"]," 0>"],[],["<ROUTINE ",["Iddef","I-SWORD"]," (\"AUX\" (",["Localid","DEM"]," <",["Id","INT"]," ",["Iddef","I-SWORD"],">) (",["Localid","NG"]," 0) ",["Localid","G"]," ",["Localid","P"]," ",["Localid","TX"]," ",["Localid","L"],")"],["\t <SET ",["Localid","G"]," ,",["Id","SWORD-GLOW"],">"],["\t <COND (<IN? ,",["Id","SWORD"]," ,",["Id","ADVENTURER"],">"],["\t\t<COND (<",["Id","INFESTED?"]," ,",["Id","HERE"],"> <SET ",["Localid","NG"]," 2>)"],["\t\t      (T"],["\t\t       <SET ",["Localid","P"]," 0>"],["\t\t       <REPEAT ()"],["\t\t\t       <COND (<0? <SET ",["Localid","P"]," <NEXTP ,",["Id","HERE"]," .",["Localid","P"],">>>"],["\t\t\t\t      <RETURN>)"],["\t\t\t\t     (<NOT <L? .",["Localid","P"]," ,",["Id","LOW-DIRECTION"],">>"],["\t\t\t\t      <SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","P"],">>"],["\t\t\t\t      <SET ",["Localid","L"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t\t\t      <COND (<EQUAL? .",["Localid","L"]," ,",["Id","UEXIT"]," ,",["Id","CEXIT"]," ,",["Id","DEXIT"],">"],["\t\t\t\t\t     <COND (<",["Id","INFESTED?"]," <GETB .",["Localid","TX"]," 0>>"],["\t\t\t\t\t\t    <SET ",["Localid","NG"]," 1>"],["\t\t\t\t\t\t    <RETURN>)>)>)>>)>"],["\t\t<COND (<EQUAL? .",["Localid","NG"]," .",["Localid","G"],"> <RFALSE>)"],["\t\t      (<EQUAL? .",["Localid","NG"]," 2>"],["\t\t       <TELL ",["Str","\"Your sword has begun to glow very brightly.\""]," CR>)"],["\t\t      (<1? .",["Localid","NG"],">"],["\t\t       <TELL ",["Str","\"Your sword is glowing with a faint blue glow.\""]],["\t\t\t     CR>)"],["\t\t      (<0? .",["Localid","NG"],">"],["\t\t       <TELL ",["Str","\"Your sword is no longer glowing.\""]," CR>)>"],["\t\t<SETG ",["Id","SWORD-GLOW"]," .",["Localid","NG"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<PUT .",["Localid","DEM"]," ,",["Id","C-ENABLED?"]," 0>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","INFESTED?"]," (",["Localid","R"]," \"AUX\" (",["Localid","F"]," <FIRST? .",["Localid","R"],">))"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","F"],"> <RFALSE>)"],["\t\t       (<AND <FSET? .",["Localid","F"]," ,",["Implid","ACTORBIT"],">"],["\t\t\t     <NOT <FSET? .",["Localid","F"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t     <NOT <EQUAL? .",["Localid","F"]," ,",["Id","ROBOT"],">>>"],["\t\t\t<RETURN .",["Localid","F"],">)"],["\t\t       (<NOT <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>> <RFALSE>)>>>"],[],["<ROUTINE ",["Iddef","CAROUSEL-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are in a large circular room whose high ceiling is lost in gloom. Eight"]],[["Str","identical passages leave the room.\""]," CR>"],["\t\t<COND (<NOT ,",["Id","CAROUSEL-FLIP-FLAG"],">"],["\t\t       <TELL"],[["Str","\"A loud whirring sound comes from all around, and you feel"]],[["Str","sort of disoriented in here.\""]," CR>)>"],["\t\t<RTRUE>)"],["\t       (<AND <NOT ,",["Id","CAROUSEL-FLIP-FLAG"],">"],["\t\t     <EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t     <VERB? WALK>>"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?UP"]," ,",["Implid","P?DOWN"],">"],["\t\t       <RFALSE>)>"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?OUT"],">"],["\t\t       <TELL"],[["Str","\"Feeling dizzy, you pick a direction at random.\""]," CR CR>"],["\t\t       <SETG ",["Id","PRSO"]," ,",["Implid","P?EAST"],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"You're not sure which direction is which. This"]],[["Str","room is very disorienting.\""]," CR CR>)>"],["\t\t<COND (<OR <EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?WEST"],"> <PROB 80>>"],["\t\t       <SETG ",["Id","PRSO"]," <GET ,",["Id","EIGHT-DIRECTIONS"]," <- <RANDOM 7> 1>>>)>"],["\t\t<",["Id","V-WALK"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","VIOLIN-FCN"]," ()"],["\t <COND (<AND <VERB? PLAY>"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Id","VIOLIN"],">>"],["\t        <TELL"],[["Str","\"An amazingly offensive noise issues from the violin.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","EIGHT-DIRECTIONS"]],["\t<TABLE ",["Implid","P?NORTH"]," ",["Implid","P?EAST"]," ",["Implid","P?SOUTH"]," ",["Implid","P?NE"]," ",["Implid","P?SE"]," ",["Implid","P?SW"]," ",["Implid","P?NW"],">>"],[],["<GLOBAL ",["Iddef","MUNGED-ROOM"]," <>>"],[],["<ROUTINE ",["Iddef","OPEN-CLOSE"]," (",["Localid","OBJ"]," ",["Localid","STROPN"]," ",["Localid","STRCLS"],")"],["\t #DECL ((",["Localid","OBJ"],") OBJECT (",["Localid","STROPN"]," ",["Localid","STRCLS"],") STRING)"],["\t <COND (<VERB? OPEN>"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL <",["Id","RANDOM-ELEMENT"]," ,",["Id","DUMMY"],">>)"],["\t\t      (T"],["\t\t       <TELL .",["Localid","STROPN"],">"],["\t\t       <FSET .",["Localid","OBJ"]," ,",["Implid","OPENBIT"],">)>"],["\t\t<CRLF>)"],["\t       (<VERB? CLOSE>"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL .",["Localid","STRCLS"],">"],["\t\t       <FCLEAR .",["Localid","OBJ"]," ,",["Implid","OPENBIT"],">"],["\t\t       T)"],["\t\t      (T <TELL <",["Id","RANDOM-ELEMENT"]," ,",["Id","DUMMY"],"> CR>)>"],["\t\t<CRLF>)>>"],[],[["Comment",";\"SUBTITLE THE VOLCANO\""]],[],["<GLOBAL ",["Iddef","BTIE-FLAG"]," <>>"],["<GLOBAL ",["Iddef","BINF-FLAG"]," <>>"],["<GLOBAL ",["Iddef","BLAB-FLAG"]," <>>"],["<GLOBAL ",["Iddef","SAFE-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","BALLOON-FCN"]," (\"OPTIONAL\" (",["Localid","RARG"]," <>) \"AUX\" ",["Localid","M"]," ",["Localid","R"]," ",["Localid","RC"],")"],["\t #DECL ((",["Localid","RARG"],") <OR FIX FALSE> (",["Localid","M"],") <OR FALSE TABLE> (",["Localid","R"],") OBJECT)"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<COND (,",["Id","BINF-FLAG"]],["\t\t       <TELL ",["Str","\"The cloth bag is inflated and \""],">"],["\t\t       <COND (<FSET? ,",["Id","RECEPTACLE"]," ,",["Implid","OPENBIT"],">"],["\t\t\t      <TELL"],[["Str","\"there is a \""]," D ,",["Id","BINF-FLAG"]," ",["Str","\" burning in the receptacle.\""],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"some smoke is leaking out of the closed receptacle.\""],">)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The cloth bag is draped over the side"]],[["Str","of the basket. Directly in the middle of the basket is a metal receptacle"]],[["Str","which is \""],">"],["\t\t       <COND (<FSET? ,",["Id","RECEPTACLE"]," ,",["Implid","OPENBIT"],">"],["\t\t\t      <TELL ",["Str","\"open\""],">"],["\t\t\t      <SET ",["Localid","RC"]," <FIRST? ,",["Id","RECEPTACLE"],">>"],["\t\t\t      <COND (.",["Localid","RC"]],["\t\t\t\t     <TELL ",["Str","\". A \""]],["\t\t\t\t\t   D .",["Localid","RC"]],["\t\t\t\t\t   ",["Str","\" is \""]],["\t\t\t\t\t   <COND (<EQUAL? ,",["Id","BINF-FLAG"]," .",["Localid","RC"],">"],["\t\t\t\t\t\t  ",["Str","\"burning\""],")"],["\t\t\t\t\t\t (T"],["\t\t\t\t\t\t  ",["Str","\"nestled\""],")>"],["\t\t\t\t\t   ",["Str","\" inside\""],">)>)"],["\t\t\t     (T <TELL ",["Str","\"closed\""],">)>"],["\t\t       <TELL ",["Str","\".\""],">)>"],["\t\t<COND (,",["Id","BTIE-FLAG"]],["\t\t       <TELL"],[["Str","\" The balloon is tied to a hook by the braided wire.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\" A braided wire is dangling over the side of the basket.\""]," CR>)>"],["\t\t<RTRUE>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-OBJDESC"],">"],["\t\t<TELL"],[["Str","\"There is a large and extremely heavy wicker basket here. An"]],[["Str","enormous cloth bag \""],">"],["\t\t<COND (,",["Id","BINF-FLAG"]],["\t\t       <TELL"],[["Str","\"attached to the basket is inflated. A metal receptacle is fastened to"]],[["Str","the center of the basket. \""],">"],["\t\t       <COND (<FSET? ,",["Id","RECEPTACLE"]," ,",["Implid","OPENBIT"],">"],["\t\t\t      <TELL ",["Str","\"In it is a burning \""]," D ,",["Id","BINF-FLAG"],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"Some smoke leaks out around its closed lid\""],">)>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"is draped over the side and is firmly attached to the basket. A metal"]],[["Str","receptacle is fastened to the center of the basket\""],">)>"],["\t\t<COND (,",["Id","BTIE-FLAG"]],["\t\t       <TELL"],[["Str","\". A piece of wire tied to a hook holds the balloon in place.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\". Dangling from the basket is a piece of braided wire.\""]," CR>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<VERB? WALK>"],["\t\t       <COND (<SET ",["Localid","M"]," <GETPT ,",["Id","HERE"]," ,",["Id","PRSO"],">>"],["\t\t\t      <COND (,",["Id","BTIE-FLAG"]],["\t\t\t\t     <TELL ",["Str","\"You are tied to the ledge.\""]," CR>"],["\t\t\t\t     <RTRUE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <AND <EQUAL? <PTSIZE .",["Localid","M"],"> 1>"],["\t\t\t\t\t  <NOT <FSET? <SET ",["Localid","R"]," <GETB .",["Localid","M"]," 0>>"],["\t\t\t\t\t\t      ,",["Implid","RMUNGBIT"],">>"],["\t\t\t\t\t  <SETG ",["Id","BLOC"]," .",["Localid","R"],">>"],["\t\t\t\t     <ENABLE <",["Id","QUEUE"]," ",["Id","I-BALLOON"]," 3>>"],["\t\t\t\t     <RFALSE>)>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You can't control the balloon this way.\""]," CR>"],["\t\t\t      <RTRUE>)>)"],["\t\t      (<AND <VERB? OPEN>"],["\t\t\t    ,",["Id","BINF-FLAG"]],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","RECEPTACLE"],">"],["\t\t\t    <FIRST? ,",["Id","RECEPTACLE"],">>"],["\t\t       <TELL ",["Str","\"Opening it reveals a burning \""]],["\t\t\t     D ,",["Id","BINF-FLAG"]," ",["Str","\".\""]," CR>"],["\t\t       <FSET ,",["Id","RECEPTACLE"]," ,",["Implid","OPENBIT"],">"],["\t\t       <RTRUE>)"],["\t\t      (<AND <VERB? TAKE>"],["\t\t\t    <EQUAL? ,",["Id","BINF-FLAG"]," ,",["Id","PRSO"],">>"],["\t\t       <TELL ",["Str","\"You don't really want to hold a burning \""]],["\t\t\t     D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t\t       <RTRUE>)"],["\t\t      (<AND <VERB? PUT>"],["\t\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","RECEPTACLE"],">"],["\t\t\t    <FIRST? ,",["Id","RECEPTACLE"],">>"],["\t\t       <TELL ",["Str","\"The receptacle is already occupied.\""]," CR>"],["\t\t       <RTRUE>)"],["\t\t      (<AND <VERB? PUT>"],["\t\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","RECEPTACLE"],">>"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","NDESCBIT"],">"],["\t\t       <RFALSE>)"],["\t\t      (<VERB? INFLATE>"],["\t\t       <TELL"],[["Str","\"It takes more than words to inflate a balloon.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","I-BALLOON"]," ()"],["\t <COND (<AND <FSET? ,",["Id","RECEPTACLE"]," ,",["Implid","OPENBIT"],"> ,",["Id","BINF-FLAG"],">"],["\t\t<",["Id","RISE-AND-SHINE"],">)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","LEDGE-1"]," ,",["Id","LEDGE-2"],">"],["\t\t<",["Id","RISE-AND-SHINE"],">)"],["\t       (T"],["\t\t<",["Id","DECLINE-AND-FALL"],">)>>"],[],["<ROUTINE ",["Iddef","BALLOON-BURN"]," ()"],[" \t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" burns inside the receptacle.\""]," CR>"],["\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-BURNUP"]," <* <GETP ,",["Id","PRSO"]," ,",["Implid","P?SIZE"],"> 20>>>"],["\t<FSET ,",["Id","PRSO"]," ,",["Implid","FLAMEBIT"],">"],["\t<FSET ,",["Id","PRSO"]," ,",["Implid","ONBIT"],">"],["\t<FCLEAR ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">"],["\t<FCLEAR ,",["Id","PRSO"]," ,",["Implid","READBIT"],">"],["\t<COND (,",["Id","BINF-FLAG"]," <RTRUE>)"],["\t      (T"],["\t       <TELL"],["\t\t",["Str","\"The cloth bag inflates as it fills with hot air.\""]," CR>"],["\t       <COND (<NOT ,",["Id","BLAB-FLAG"],">"],["\t\t      <TELL"],[["Str","\"A small label drops from the bag into the basket.\""]," CR>"],["\t\t      <MOVE ,",["Id","BALLOON-LABEL"]," ,",["Id","BALLOON"],">)>"],["\t       <SETG ",["Id","BLAB-FLAG"]," T>"],["\t       <SETG ",["Id","BINF-FLAG"]," ,",["Id","PRSO"],">"],["\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-BALLOON"]," 3>>)>>"],[],["<ROUTINE ",["Iddef","PUT-BALLOON"]," (",["Localid","THERE"]," ",["Localid","STR"],")"],["\t#DECL ((",["Localid","THERE"],") OBJECT (",["Localid","STR"],") STRING)"],["\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","LEDGE-1"]," ,",["Id","LEDGE-2"]," ,",["Id","VOLCANO-BOTTOM"],">"],["\t       <TELL ",["Str","\"You watch as the balloon slowly \""]," .",["Localid","STR"]," CR>)>"],["\t<MOVE ,",["Id","BALLOON"]," .",["Localid","THERE"],">"],["\t<SETG ",["Id","BLOC"]," .",["Localid","THERE"],">>"],[],["<GLOBAL ",["Iddef","BALLOON-UPS"]],["\t<LTABLE ",["Id","VAIR-1"]," ",["Id","VAIR-2"]," ",["Id","VAIR-3"]," ",["Id","VAIR-4"],">>"],[],["<GLOBAL ",["Iddef","BALLOON-FLOATS"]],["\t<LTABLE ",["Id","LEDGE-1"]," ",["Id","VAIR-2"]," ",["Id","LEDGE-2"]," ",["Id","VAIR-4"],">>"],[],["<GLOBAL ",["Iddef","BALLOON-DOWNS"]],["\t<LTABLE ",["Id","VAIR-4"]," ",["Id","VAIR-3"]," ",["Id","VAIR-2"]," ",["Id","VAIR-1"],">>"],[],["<ROUTINE ",["Iddef","RISE-AND-SHINE"]," (\"AUX\" (",["Localid","IN"]," <IN? ,",["Id","WINNER"]," ,",["Id","BALLOON"],">) ",["Localid","R"],")"],["\t#DECL ((",["Localid","IN"],") <OR ATOM FALSE> (",["Localid","R"],") <OR FALSE OBJECT>)"],["\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-BALLOON"]," 3>>"],["\t<COND (<EQUAL? ,",["Id","BLOC"]," ,",["Id","VAIR-4"],">"],["\t       <DISABLE <",["Id","INT"]," ",["Id","I-BURNUP"],">>"],["\t       <DISABLE <",["Id","INT"]," ",["Id","I-BALLOON"],">>"],["\t       <REMOVE ,",["Id","BALLOON"],">"],["\t       <COND (.",["Localid","IN"]],["\t\t      <",["Id","JIGS-UP"]],[["Str","\"The balloon floats majestically out of the volcano, revealing a"]],[["Str","breathtaking view of a wooded river valley surrounded by impassable"]],[["Str","mountains. In a clearing stands a white house. You drift into high winds,"]],[["Str","which carry you towards the snow-capped peaks. Oh, no! You crash into the"]],[["Str","jagged cliffs of the Flathead Mountains!\""],">)"],["\t\t     (<EQUAL? ,",["Id","HERE"]," ,",["Id","LEDGE-1"]," ,",["Id","LEDGE-2"]," ,",["Id","VOLCANO-BOTTOM"],">"],["\t\t      <TELL"],[["Str","\"You watch the balloon drift out over the rim and away on the wind.\""]," CR>)>"],["\t       <SETG ",["Id","BLOC"]," ,",["Id","VOLCANO-BOTTOM"],">)"],["\t      (<SET ",["Localid","R"]," <",["Id","LKP"]," ,",["Id","BLOC"]," ,",["Id","BALLOON-UPS"],">>"],["\t       <COND (.",["Localid","IN"]],["\t\t      <TELL ",["Str","\"The balloon ascends.\""]," CR CR>"],["\t\t      <SETG ",["Id","BLOC"]," .",["Localid","R"],">"],["\t\t      <",["Id","GOTO"]," .",["Localid","R"],">)"],["\t\t     (T"],["\t\t      <",["Id","PUT-BALLOON"]," .",["Localid","R"]," ",["Str","\"ascends.\""],">)>)"],["\t      (<SET ",["Localid","R"]," <",["Id","LKP"]," ,",["Id","BLOC"]," ,",["Id","BALLOON-FLOATS"],">>"],["\t       <COND (.",["Localid","IN"]],["\t\t      <TELL ",["Str","\"The balloon leaves the ledge.\""]," CR CR>"],["\t\t      <SETG ",["Id","BLOC"]," .",["Localid","R"],">"],["\t\t      <",["Id","GOTO"]," .",["Localid","R"],">)"],["\t\t     (T"],["\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-GNOME"]," 10>>"],["\t\t      <",["Id","PUT-BALLOON"]," .",["Localid","R"]],[["Str","\"floats away. It seems to be ascending, due to its light load.\""],">"],["\t\t      <FSET ,",["Id","RECEPTACLE"]," ,",["Implid","OPENBIT"],">)>)"],["\t      (.",["Localid","IN"]],["\t       <SETG ",["Id","BLOC"]," ,",["Id","VAIR-1"],">"],["\t       <TELL ",["Str","\"The balloon rises slowly from the ground.\""]," CR CR>"],["\t       <",["Id","GOTO"]," ,",["Id","VAIR-1"],">)"],["\t      (T"],["\t       <",["Id","PUT-BALLOON"]," ,",["Id","VAIR-1"]," ",["Str","\"lifts off.\""],">)>>"],[],["<ROUTINE ",["Iddef","DECLINE-AND-FALL"]," (\"AUX\" (",["Localid","IN"]," <IN? ,",["Id","WINNER"]," ,",["Id","BALLOON"],">) ",["Localid","R"],")"],["    #DECL ((",["Localid","IN"],") <OR ATOM FALSE> (",["Localid","R"],") <OR FALSE OBJECT>)"],["    <ENABLE <",["Id","QUEUE"]," ",["Id","I-BALLOON"]," 3>>"],["    <COND (<EQUAL? ,",["Id","BLOC"]," ,",["Id","VAIR-1"],">"],["\t   <COND (.",["Localid","IN"]],["\t\t  <SETG ",["Id","BLOC"]," ,",["Id","VOLCANO-BOTTOM"],">"],["\t\t  <COND (,",["Id","BINF-FLAG"]],["\t\t\t <TELL ",["Str","\"The balloon has landed.\""]," CR CR>"],["\t\t\t <",["Id","GOTO"]," ,",["Id","VOLCANO-BOTTOM"],">"],["\t\t\t ",["Comment",";<QUEUE I-BALLOON 0>"],")"],["\t\t\t(T"],["\t\t\t <REMOVE ,",["Id","BALLOON"],">"],["\t\t\t <MOVE ,",["Id","DEAD-BALLOON"]," ,",["Id","BLOC"],">"],["\t\t\t <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t\t <DISABLE <",["Id","INT"]," ",["Id","I-BALLOON"],">>"],["\t\t\t <TELL"],["\t\t\t  ",["Str","\"You have landed, but the balloon did not survive.\""]],["\t\t\t  CR CR>"],["\t\t\t <",["Id","GOTO"]," ,",["Id","VOLCANO-BOTTOM"],">)>)"],["\t\t (T <",["Id","PUT-BALLOON"]," ,",["Id","VOLCANO-BOTTOM"]," ",["Str","\"lands.\""],">)>)"],["\t   (<SET ",["Localid","R"]," <",["Id","LKP"]," ,",["Id","BLOC"]," ,",["Id","BALLOON-DOWNS"],">>"],["\t    <COND (.",["Localid","IN"]],["\t\t   <TELL ",["Str","\"The balloon descends.\""]," CR CR>"],["\t\t   <SETG ",["Id","BLOC"]," .",["Localid","R"],">"],["\t\t   <",["Id","GOTO"]," .",["Localid","R"],">)"],["\t\t  (T <",["Id","PUT-BALLOON"]," .",["Localid","R"]," ",["Str","\"descends.\""],">)>)>>"],[],["<ROUTINE ",["Iddef","BCONTENTS"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is an integral part of the basket and cannot"]],[["Str","be removed.\""],">"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BRAIDED-WIRE"],">"],["\t\t       <TELL ",["Str","\" The wire might possibly be tied, though.\""],">)>"],["\t\t<CRLF>)"],["\t       (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","CLOTH-BAG"],">"],["\t\t     <VERB? LOOK-INSIDE OPEN>>"],["\t\t<COND (<VERB? OPEN>"],["\t\t       <TELL"],[["Str","\"The bag is enormous. The concept of opening it here is ludicrous.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"It doesn't appear that there's anything inside.\""]," CR>)>)"],["\t       (<AND <VERB? EXAMINE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","RECEPTACLE"],">>"],["\t\t<TELL ",["Str","\"The receptacle is \""],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],"> <TELL ",["Str","\"open.\""]," CR>)"],["\t\t      (T <TELL ",["Str","\"closed.\""]," CR>)>)"],["\t       (<VERB? FIND EXAMINE>"],["\t        <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is part of the basket. It may be manipulated"]],[["Str","within the basket but cannot be removed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","WIRE-FCN"]," ()"],["        <COND (<VERB? TAKE FIND EXAMINE>"],["\t       <",["Id","BCONTENTS"],">)"],["\t      (<VERB? TIE>"],["\t       <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","BRAIDED-WIRE"],">"],["\t\t\t   <EQUAL? ,",["Id","PRSI"]," ,",["Id","HOOK-1"]," ,",["Id","HOOK-2"],">>"],["\t\t      <SETG ",["Id","BTIE-FLAG"]," ,",["Id","PRSI"],">"],["\t\t      <FSET ,",["Id","PRSI"]," ,",["Implid","NDESCBIT"],">"],["\t\t      <DISABLE <",["Id","INT"]," ",["Id","I-BALLOON"],">>"],["\t\t      <TELL ",["Str","\"The balloon is fastened to the hook.\""]," CR>)>)"],["\t      (<AND <VERB? UNTIE>"],["\t            <EQUAL? ,",["Id","PRSO"]," ,",["Id","BRAIDED-WIRE"],">>"],["\t       <COND (,",["Id","BTIE-FLAG"]],["\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-BALLOON"]," 3>>"],["\t       \t      <FCLEAR ,",["Id","BTIE-FLAG"]," ,",["Implid","NDESCBIT"],">"],["\t\t      <SETG ",["Id","BTIE-FLAG"]," <>>"],["\t              <TELL ",["Str","\"The wire falls off of the hook.\""]," CR>)"],["\t\t     (T <TELL ",["Str","\"The wire is not tied to anything.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","I-BURNUP"]," (\"AUX\" (",["Localid","OBJ"]," <FIRST? ,",["Id","RECEPTACLE"],">))"],["    #DECL ((",["Localid","OBJ"],") OBJECT)"],["    <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","BLOC"],">"],["\t   <TELL"],[["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" has now burned out, and the cloth bag starts to deflate.\""]," CR>)>"],["    <REMOVE .",["Localid","OBJ"],">"],["    <SETG ",["Id","BINF-FLAG"]," <>>"],["    T>"],[],["<ROUTINE ",["Iddef","SAFE-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are in a dusty old room which is featureless, except"]],[["Str","for an exit on the north side.\""]," CR>"],["\t\t<COND (<NOT ,",["Id","SAFE-FLAG"],">"],["\t\t       <TELL"],[["Str","\"Imbedded in the far wall is a rusty box. It appears to be somewhat"]],[["Str","damaged, since an oblong hole has been chipped out of the front of it.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"On the far wall is a rusty box, whose door has been blown off.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","SAFE-FCN"]," ()"],["\t<COND (<VERB? TAKE>"],["\t       <TELL ",["Str","\"The box is imbedded in the wall.\""]," CR>)"],["\t      (<VERB? OPEN>"],["\t       <COND (,",["Id","SAFE-FLAG"]," <TELL ",["Str","\"The box has no door!\""]," CR>)"],["\t\t     (T <TELL ",["Str","\"The box is rusted and will not open.\""]," CR>)>)"],["\t      (<VERB? CLOSE>"],["\t       <COND (,",["Id","SAFE-FLAG"]," <TELL ",["Str","\"The box has no door!\""]," CR>)"],["\t\t     (T <TELL ",["Str","\"The box isn't open!\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","BRICK-FCN"]," ()"],["\t <COND (<VERB? BURN>"],["\t\t<REMOVE ,",["Id","BRICK"],">"],["\t\t<",["Id","JIGS-UP"]," ,",["Id","OTHER-PROPERTIES"],">)>>"],[],["<GLOBAL ",["Iddef","OTHER-PROPERTIES"]],[["Str","\"Now you've done it. It seems that the brick has other properties"]],[["Str","than weight, namely the ability to blow you to smithereens.\""],">"],[],["<ROUTINE ",["Iddef","FUSE-FCN"]," ()"],["\t<COND (<OR <VERB? BURN>"],["\t\t   <AND <VERB? LAMP-ON>"],["\t\t\t<IN? ,",["Id","MATCH"]," ,",["Id","WINNER"],">"],["\t\t\t<FSET? ,",["Id","MATCH"]," ,",["Implid","ONBIT"],">>>"],["\t       <TELL ",["Str","\"The string starts to burn.\""]," CR>"],["\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-FUSE"]," 2>>)>>"],[],["<ROUTINE ",["Iddef","I-FUSE"]," (\"AUX\" (",["Localid","BRICK-ROOM"]," <LOC ,",["Id","BRICK"],">) ",["Localid","F"],")"],["\t <COND (<IN? ,",["Id","FUSE"]," ,",["Id","BRICK"],">"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .",["Localid","BRICK-ROOM"],"> <RFALSE>)"],["\t\t\t      (<IN? .",["Localid","BRICK-ROOM"]," ,",["Id","ROOMS"],">"],["\t\t\t       <RETURN>)"],["\t\t\t      (T"],["\t\t\t       <SET ",["Localid","BRICK-ROOM"]," <LOC .",["Localid","BRICK-ROOM"],">>)>>"],["\t\t<MOVE ,",["Id","EXPLOSION"]," .",["Localid","BRICK-ROOM"],">"],["\t\t<FCLEAR .",["Localid","BRICK-ROOM"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<COND (<EQUAL? .",["Localid","BRICK-ROOM"]," ,",["Id","HERE"],">"],["\t\t       <",["Id","MUNG-ROOM"]," .",["Localid","BRICK-ROOM"]],["\t\t\t  ",["Str","\"The way is blocked by debris from an explosion.\""],">"],["\t\t       <",["Id","JIGS-UP"]," ,",["Id","OTHER-PROPERTIES"],">)"],["\t\t      (<EQUAL? .",["Localid","BRICK-ROOM"]," ,",["Id","SAFE-ROOM"],">"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-SAFE"]," 5>>"],["\t\t       <SETG ",["Id","MUNGED-ROOM"]," ,",["Id","SAFE-ROOM"],">"],["\t\t       <TELL ",["Str","\"There is an explosion nearby.\""]," CR>"],["\t\t       <COND (<IN? ,",["Id","BRICK"]," ,",["Id","SLOT"],">"],["\t\t\t      <FSET ,",["Id","SLOT"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t      <FSET ,",["Id","SAFE"]," ,",["Implid","OPENBIT"],">"],["\t\t\t      <FCLEAR ,",["Id","SAFE-ROOM"]," ,",["Implid","TOUCHBIT"],">"],["\t\t\t      <SETG ",["Id","SAFE-FLAG"]," T>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There is an explosion nearby.\""]," CR>"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-SAFE"]," 5>>"],["\t\t       <SETG ",["Id","MUNGED-ROOM"]," .",["Localid","BRICK-ROOM"],">"],["\t\t       <COND (<SET ",["Localid","F"]," <FIRST? .",["Localid","BRICK-ROOM"],">>"],["\t\t\t      <REPEAT ()"],["\t\t\t\t      <COND (<FSET? .",["Localid","F"]," ,",["Implid","TAKEBIT"],">"],["\t\t\t\t\t     <FSET .",["Localid","F"]," ,",["Implid","INVISIBLE"],">)>"],["\t\t\t\t      <COND (<NOT <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>"],["\t\t\t\t\t     <RETURN>)>>)>)>"],["\t\t<REMOVE ,",["Id","BRICK"],">)"],["\t       (<EQUAL? <LOC ,",["Id","FUSE"],"> ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t<TELL ",["Str","\"The string rapidly burns into nothingness.\""]," CR>)>"],["\t <REMOVE ,",["Id","FUSE"],">>"],[],["<ROUTINE ",["Iddef","I-SAFE"]," ()"],["\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","MUNGED-ROOM"],">"],["\t       <",["Id","JIGS-UP"]],[["Str","\"The room trembles and 5000 tons of rock fall on you, turning you"]],[["Str","into a pancake.\""],">)"],["\t      (<NOT ,",["Id","DEAD"],">"],["\t       <TELL"],[["Str","\"You may recall that recent explosion. Probably as a result of it, you"]],[["Str","hear an ominous rumbling, as if a nearby room had collapsed.\""]," CR>"],["\t       <COND (<EQUAL? ,",["Id","MUNGED-ROOM"]," ,",["Id","SAFE-ROOM"],">"],["\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-LEDGE"]," 8>>)>)>"],["\t<",["Id","MUNG-ROOM"]," ,",["Id","MUNGED-ROOM"]],["\t\t   ",["Str","\"The way is blocked by debris from an explosion.\""],">>"],[],["<ROUTINE ",["Iddef","I-LEDGE"]," (\"AUX\" (",["Localid","RM"]," ,",["Id","LEDGE-2"],"))"],["    <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","LEDGE-2"],">"],["\t   <COND (<IN? ,",["Id","WINNER"]," ,",["Id","BALLOON"],">"],["\t\t  <COND (,",["Id","BTIE-FLAG"]],["\t\t\t <SETG ",["Id","BLOC"]," ,",["Id","VOLCANO-BOTTOM"],">"],["\t\t\t <REMOVE ,",["Id","BALLOON"],">"],["\t\t\t <MOVE ,",["Id","DEAD-BALLOON"]," ,",["Id","VOLCANO-BOTTOM"],">"],["\t\t\t <SETG ",["Id","BTIE-FLAG"]," <>>"],["\t\t\t <SETG ",["Id","BINF-FLAG"]," <>>"],["\t\t\t <DISABLE <",["Id","INT"]," ",["Id","I-BALLOON"],">>"],["\t\t\t <DISABLE <",["Id","INT"]," ",["Id","I-BURNUP"],">>"],["\t\t\t <",["Id","JIGS-UP"]],[["Str","\"The ledge collapses, probably as a result of the explosion, and plummets"]],[["Str","to the ground far below. Sadly, you were still attached to the ledge.\""],">)"],["\t\t\t(T"],["\t\t\t <TELL"],[["Str","\"The ledge collapses, leaving you with no place to land.\""]," CR>)>)"],["\t\t (T"],["\t\t  <",["Id","JIGS-UP"]],[["Str","\"The force of the recent explosion has caused the ledge to collapse.\""],">)>)"],["\t  (<NOT ,",["Id","DEAD"],">"],["\t   <TELL ",["Str","\"The ledge collapses. (That was a narrow escape!)\""]," CR>)>"],["    <",["Id","MUNG-ROOM"]," .",["Localid","RM"]," ",["Str","\"The ledge has collapsed and cannot be landed on.\""],">>"],[],["<ROUTINE ",["Iddef","LEDGE-FCN"]," (",["Localid","RARG"],")"],["    <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t   <TELL"],[["Str","\"You are on a wide ledge high in the volcano. The rim of the volcano is"]],[["Str","about 200 feet above and there is a precipitous drop to the bottom.\""],">"],["\t   <COND (<FSET? ,",["Id","SAFE-ROOM"]," ,",["Implid","RMUNGBIT"],">"],["\t\t  <TELL ",["Str","\" The way to the south is blocked by rubble.\""]," CR>)"],["\t\t (T <TELL ",["Str","\" There is a small door to the south.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","BLAST"]," ()"],["    <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","SAFE-ROOM"],">)"],["\t  (T"],["\t   <TELL ",["Ifndef","\"You must explain how to do that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","I-GNOME"]," ()"],["    <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","LEDGE-1"]," ,",["Id","LEDGE-2"],">"],["\t   <TELL"],[["Str","\"A volcano gnome seems to walk straight out of the wall and \""],">"],["\t   <COND (<IN? ,",["Id","WAND"]," ,",["Id","WINNER"],">"],["\t\t  <TELL"],[["Str","\"noticing the wand, straight back in.\""]," CR>)"],["\t\t (T"],["\t\t  <TELL"],[["Str","\"says"]],[["Str","\\\"I have a busy appointment schedule and little time to waste on"]],[["Str","trespassers, but for a small fee I'll show you the way out.\\\" You"]],[["Str","notice the gnome nervously glancing at his watch.\""]," CR>"],["\t\t  <MOVE ,",["Id","GNOME"]," ,",["Id","HERE"],">)>)"],["\t  (T"],["\t   <ENABLE <",["Id","QUEUE"]," ",["Iddef","I-GNOME"]," 1>>"],["\t   <RFALSE>)>>"],[],["<GLOBAL ",["Iddef","GNOME-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","GNOME-FCN"]," ()"],["    <COND (<AND <VERB? GIVE THROW> <EQUAL? ,",["Id","PRSI"]," ,",["Id","GNOME"],">>"],["\t   <COND (<GETPT ,",["Id","PRSO"]," ,",["Implid","P?VALUE"],">"],["\t\t  <TELL"],[["Str","\"\\\"Thank you very much for the \""]," D ,",["Id","PRSO"]," ",["Str","\". I don't believe"]],[["Str","I've ever seen one as beautiful. Follow me,\\\" he says, and a door"]],[["Str","appears on the west end of the ledge. Through the door, you can see"]],[["Str","a narrow chimney sloping steeply downward. The gnome moves quickly,"]],[["Str","and disappears from sight.\""]," CR>"],["\t\t  <REMOVE ,",["Id","PRSO"],">"],["\t\t  <REMOVE ,",["Id","GNOME"],">"],["\t\t  <SETG ",["Id","GNOME-DOOR-FLAG"]," T>)"],["\t\t (<",["Id","BOMB?"]," ,",["Id","PRSO"],">"],["\t\t  <MOVE ,",["Id","BRICK"]," ,",["Id","HERE"],">"],["\t\t  <REMOVE ,",["Id","GNOME"],">"],["\t\t  <DISABLE <",["Id","INT"]," ",["Id","I-GNOME"],">>"],["\t\t  <DISABLE <",["Id","INT"]," ",["Id","I-NERVOUS"],">>"],["\t\t  <TELL"],[["Str","\"\\\"That certainly wasn't what I had in mind,\\\" he says, and disappears.\""]," CR>)"],["\t\t (T"],["\t\t  <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t  <TELL"],[["Str","\"\\\"That wasn't quite what I had in mind,\\\" he says, crunching the"]],[["Str","\""]," D ,",["Id","PRSO"]," ",["Str","\" in his rock-hard hands.\""]," CR>)>)"],["\t  (T"],["\t   <TELL"],[["Str","\"The gnome appears increasingly nervous.\""]," CR>"],["\t   <COND (<NOT ,",["Id","GNOME-FLAG"],">"],["\t\t  <ENABLE <",["Id","QUEUE"]," ",["Id","I-NERVOUS"]," 5>>)>"],["\t   <SETG ",["Id","GNOME-FLAG"]," T>)>>"],[],["<ROUTINE ",["Iddef","I-NERVOUS"]," ()"],["\t <COND (<IN? ,",["Id","GNOME"]," ,",["Id","HERE"],">"],["\t\t<TELL"],[["Str","\"The gnome glances at his watch. \\\"Oops. I'm late for an"]],[["Str","appointment!\\\" He disappears, leaving you alone on the ledge.\""]," CR>)>"],["\t <REMOVE ,",["Id","GNOME"],">>"],[],["<ROUTINE ",["Iddef","PURPLE-BOOK-FCN"]," ()"],["\t <COND (<AND <VERB? READ>"],["\t\t     <IN? ,",["Id","STAMP"]," ,",["Id","PURPLE-BOOK"],">"],["\t\t     <NOT <FSET? ,",["Id","PURPLE-BOOK"]," ,",["Implid","OPENBIT"],">>>"],["\t\t<TELL <GETP ,",["Id","PURPLE-BOOK"]," ,",["Implid","P?TEXT"],"> CR>"],["\t\t<",["Id","PERFORM"]," ,V?OPEN ,",["Id","PURPLE-BOOK"],">"],["\t\t<RTRUE>)"],["\t       (T <",["Id","RANDOM-BOOK"],">)>>"],[],["<ROUTINE ",["Iddef","RANDOM-BOOK"]," ()"],["\t <COND (<VERB? TAKE MOVE PUT>"],["\t\t<FSET ,",["Id","WHITE-BOOK"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<FSET ,",["Id","PURPLE-BOOK"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<FSET ,",["Id","GREEN-BOOK"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<FSET ,",["Id","BLUE-BOOK"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<RFALSE>)>>"],[],[["Comment","; \"SUBTITLE TOMB OF THE FLATHEADS\""]],[],["<ROUTINE ",["Iddef","HEAD-FCN"]," ()"],["  <COND (<VERB? HELLO>"],["\t <TELL ",["Str","\"The Flatheads are dead; therefore they do not respond.\""]," CR>)"],["\t(<VERB? KICK ATTACK RUB OPEN TAKE BURN>"],["\t <",["Id","JIGS-UP"]],[["Str","\"Although the Flatheads are dead, they foresaw that some cretin"]],[["Str","might tamper with their remains. Therefore, they took steps to"]],[["Str","punish such actions.\""],">)>>"],[],["<ROUTINE ",["Iddef","CRYPT-ANTEROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"The anteroom is large and empty. Marble bas reliefs depict the stirring"]],[["Str","times and afterlife of the Flatheads (the latter a bit optimistically)."]],[["Str","The exit is to the west. A huge marble door stands to the south. \""],">"],["\t\t<TELL ",["Str","\"The door is \""],">"],["\t\t<COND (<FSET? ,",["Id","CRYPT-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"open.\""],">)"],["\t\t      (T <TELL ",["Str","\"closed.\""],">)>"],["\t\t<TELL"],[["Str","\" Above the door is the cryptic inscription: \\\"Feel Free\\\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CRYPT-ROOM-FCN"]," (",["Localid","RARG"]," \"AUX\" ",["Localid","CLIT?"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<FCLEAR ,",["Id","HERE"]," ,",["Implid","ONBIT"],">"],["\t\t<COND (<",["Id","LIT?"]," ,",["Id","HERE"],">"],["\t\t       <TELL"],[["Str","\"The room contains the earthly remains of the mighty Flatheads, twelve"]],[["Str","somewhat flat heads mounted securely on poles. While the room might be"]],[["Str","expected to contain funerary urns or other evidence of the ritual"]],[["Str","practices of the ancient Zorkers, it is empty of all such objects. There"]],[["Str","is writing carved on the crypt. The only apparent exit is to the north"]],[["Str","through the door to the anteroom. The door is \""],">"],["\t\t       <COND (<FSET? ,",["Id","CRYPT-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t\t      <TELL ",["Str","\"open.\""],">)"],["\t\t\t     (T <TELL ",["Str","\"closed.\""],">)>"],["\t\t       <CRLF>"],["\t\t       <COND (<NOT <FSET? ,",["Id","DIM-DOOR"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t      <TELL"],[["Str","\"Looking closely at the south wall, you can see the dim outline of"]],[["Str","a secret door labelled with the letter \\\"F\\\".\""]," CR>)>)"],["\t\t      (T"],["\t\t       <",["Id","DIM-DOOR-APPEARS"],">)>"],["\t\t<FSET ,",["Id","HERE"]," ,",["Implid","ONBIT"],">"],["\t\t<RTRUE>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t<SET ",["Localid","CLIT?"]," ,",["Id","CRYPT-LIT?"],">"],["\t\t<FCLEAR ,",["Id","CRYPT-ROOM"]," ,",["Implid","ONBIT"],">"],["\t\t<SETG ",["Id","CRYPT-LIT?"]," <",["Id","LIT?"]," ,",["Id","CRYPT-ROOM"],">>"],["\t\t<COND (<AND .",["Localid","CLIT?"]],["\t\t\t    <NOT ,",["Id","CRYPT-LIT?"],">>"],["\t\t       <",["Id","DIM-DOOR-APPEARS"],">)>"],["\t\t<FSET ,",["Id","CRYPT-ROOM"]," ,",["Implid","ONBIT"],">)>>"],[],["<GLOBAL ",["Iddef","CRYPT-LIT?"]," T>"],[],["<ROUTINE ",["Iddef","DIM-DOOR-APPEARS"]," ()"],["\t <TELL"],[["Str","\"It is dark, but on the south wall is a faint outline of a rectangle, as"]],[["Str","though light were shining around a doorway. You can also make out a faintly"]],[["Str","glowing letter in the center of this area. It might be an \\\"F\\\".\""]," CR>"],["\t <FCLEAR ,",["Id","DIM-DOOR"]," ,",["Implid","INVISIBLE"],">>"],[],["<ROUTINE ",["Iddef","CRYPT-OBJECT"]," ()"],["\t <COND (<VERB? OPEN> <TELL ",["Str","\"The crypt is sealed for all time.\""]," CR>)"],["\t       (<VERB? RUB> <TELL ",["Str","\"The marble is cool.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CRYPT-DOOR-FCN"]," ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<",["Id","OPEN-CLOSE"]," ,",["Id","PRSO"]],["\t\t\t    ",["Str","\"The crypt door squeaks open.\""]],["\t\t\t    ",["Str","\"The crypt door squeaks closed.\""],">)>>"],[],["<ROUTINE ",["Iddef","TOMB-PSEUDO"]," ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?EAST"],">"],["\t\tT)>>"],[],["<GLOBAL ",["Iddef","DIM-DOOR-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","DIM-DOOR-FCN"]," ()"],["\t <COND (<VERB? KNOCK> <TELL ",["Str","\"A hollow echo responds.\""]," CR>)"],["\t       (<VERB? OPEN CLOSE>"],["\t\t<COND (<VERB? OPEN> <SETG ",["Id","DIM-DOOR-FLAG"]," T>)"],["\t\t      (T <SETG ",["Id","DIM-DOOR-FLAG"]," <>>)>"],["\t\t<",["Id","OPEN-CLOSE"]," ,",["Id","PRSO"]],["\t\t\t    ",["Str","\"The secret door opens noiselessly.\""]],["\t\t\t    ",["Str","\"The secret door closes noiselessly.\""],">)>>"],[],["<ROUTINE ",["Iddef","REPELLENT-FCN"]," ()"],["\t <COND (<VERB? SHAKE>"],["\t\t<COND (,",["Id","SPRAY-USED?"]," <TELL ",["Str","\"The can seems empty.\""]," CR>)"],["\t\t      (T <TELL ",["Str","\"There is a sloshing sound from inside.\""]," CR>)>)"],["\t       (<AND <VERB? SPRAY PUT> <EQUAL? ,",["Id","PRSO"]," ,",["Id","REPELLENT"],">>"],["\t\t<COND (,",["Id","SPRAY-USED?"]],["\t\t       <TELL"],[["Str","\"The repellent is all gone.\""]," CR>)"],["\t\t      (<NOT ,",["Id","PRSI"],">"],["\t\t       <SETG ",["Id","SPRAY-USED?"]," T>"],["\t\t       <TELL"],[["Str","\"The spray stinks amazingly for a few moments, then drifts away.\""]," CR>)"],["\t\t      (T"],["\t\t       <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","ME"],">"],["\t\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-SPRAY"]," 8>>"],["\t\t\t      <SETG ",["Id","SPRAYED?"]," T>)>"],["\t\t       <SETG ",["Id","SPRAY-USED?"]," T>"],["\t\t       <TELL"],[["Str","\"The spray smells like a mixture of old socks and burning rubber. If"]],[["Str","I were a grue I'd sure stay clear!\""]," CR>)>)>>"],[],["<GLOBAL ",["Iddef","SPRAY-USED?"]," <>>"],[],["<ROUTINE ",["Iddef","I-SPRAY"]," ()"],["\t <SETG ",["Id","SPRAYED?"]," <>>"],["\t <TELL ",["Str","\"That horrible smell is much less pungent now.\""]," CR>>"],[],["<ROUTINE ",["Iddef","ZORK3-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"Beyond the door is a roughly hewn staircase leading down into darkness."]],[["Str","The landing on which you stand is covered with carefully drawn magical runes"]],[["Str","like those sketched upon the workbench of the Wizard of Frobozz."]],[["Str","These have been overlaid with sweeping green lines of enormous power, which"]],[["Str","undulate back and forth across the landing. \""],">"],["\t\t<COND (<IN? ,",["Id","WAND"]," ,",["Id","WINNER"],">"],["\t\t       <TELL"],[["Str","\"The wand begins to vibrate in harmony with the motion of the lines."]],[["Str","You feel yourself compelled downward, and you yield, stepping onto the"]],[["Str","staircase. As you pass the green lines, they flare and disappear with a"]],[["Str","burst of light, and you tumble down the staircase!|"]],[["Str","|"]],[["Str","At the bottom, a vast red-lit hall stretches off into the distance."]],[["Str","Sinister statues guard the entrance to a dimly visible room far ahead."]],[["Str","With courage and cunning you have conquered the Wizard of Frobozz and"]],[["Str","become the master of his domain, but the final challenge awaits!|"]],[["Str","|"]],[["Str","(The ultimate adventure concludes in \\\"Zork III: The Dungeon Master\\\".)|"]],[["Str","|"]],[["Str","\""]," CR>"],["\t\t<SETG ",["Id","WON-FLAG"]," T>"],["\t\t<",["Id","FINISH"],">)"],["\t\t      (T"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"The green curves begin to vibrate toward you, as if searching for something."]],[["Str","One by one your possessions glow bright green. Finally, you are attacked by"]],[["Str","these magical wardens, and destroyed!\""],">)>)>>"],[],["\\"],[],[["Comment",";\"SUBTITLE A DROP IN THE BUCKET\""]],[],["<GLOBAL ",["Iddef","BUCKET-TOP-FLAG"]," <>>"],[],["<GLOBAL ",["Iddef","EVAPORATED"]," <>>"],[],["<ROUTINE ",["Iddef","I-BUCKET"]," ()"],["\t <COND (<IN? ,",["Id","WATER"]," ,",["Id","BUCKET"],">"],["\t\t<SETG ",["Id","EVAPORATED"]," T>"],["\t\t<REMOVE ,",["Id","WATER"],">)>"],["\t <RFALSE>>"],[],["<ROUTINE ",["Iddef","WATER-FCN"]," (\"AUX\" ",["Localid","AV"]," ",["Localid","W"]," ",["Localid","PI?"],")"],["\t #DECL ((",["Localid","AV"],") <OR OBJECT FALSE> (",["Localid","W"],") OBJECT (",["Localid","PI?"],") <OR ATOM FALSE>)"],["\t <COND (<VERB? SGIVE> <RFALSE>)"],["\t       (<VERB? THROUGH>"],["\t\t<",["Id","PERFORM"]," ,V?SWIM ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<VERB? FILL>\t",["Comment",";\"fill bottle with water =>\""]],["\t\t<SET ",["Localid","W"]," ,",["Id","PRSI"],">\t   ",["Comment",";\"put water in bottle\""]],["\t\t<SETG ",["Id","PRSA"]," ,V?PUT>"],["\t\t<SETG ",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t\t<SETG ",["Id","PRSO"]," .",["Localid","W"],">"],["\t\t<SET ",["Localid","PI?"]," <>>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","WATER"],">"],["\t\t<SET ",["Localid","W"]," ,",["Id","PRSO"],">"],["\t\t<SET ",["Localid","PI?"]," <>>)"],["\t       (,",["Id","PRSI"]],["\t\t<SET ",["Localid","W"]," ,",["Id","PRSI"],">"],["\t\t<SET ",["Localid","PI?"]," T>)>"],["\t <COND (<EQUAL? .",["Localid","W"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t<SET ",["Localid","W"]," ,",["Id","WATER"],">"],["\t\t<COND (<VERB? TAKE PUT> <REMOVE .",["Localid","W"],">)>)>"],["\t <COND (.",["Localid","PI?"]," <SETG ",["Id","PRSI"]," .",["Localid","W"],">)"],["\t       (T <SETG ",["Id","PRSO"]," .",["Localid","W"],">)>"],["\t <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t <COND (<NOT <FSET? .",["Localid","AV"]," ,",["Implid","VEHBIT"],">> <SET ",["Localid","AV"]," <>>)>"],["\t <COND (<AND <VERB? TAKE PUT> <NOT .",["Localid","PI?"],">>"],["\t\t<COND (<AND .",["Localid","AV"]," <EQUAL? .",["Localid","AV"]," ,",["Id","PRSI"],">>"],["\t\t       <",["Id","PUDDLE"]," .",["Localid","AV"],">)"],["\t\t      (<AND .",["Localid","AV"]," <NOT ,",["Id","PRSI"],"> <NOT <IN? .",["Localid","W"]," .",["Localid","AV"],">>>"],["\t\t       <",["Id","PUDDLE"]," .",["Localid","AV"],">)"],["\t\t      (<AND ,",["Id","PRSI"]," <NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","TEAPOT"],">>>"],["\t\t       <TELL ",["Str","\"The water leaks out of the \""]," D ,",["Id","PRSI"]],["\t\t\t     ",["Str","\" and evaporates immediately.\""]," CR>"],["\t\t       <REMOVE .",["Localid","W"],">)"],["\t\t      (<IN? ,",["Id","TEAPOT"]," ,",["Id","WINNER"],">"],["\t\t       <COND (<NOT <FIRST? ,",["Id","TEAPOT"],">>"],["\t\t\t      <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","POOL-ROOM"],">"],["\t\t\t\t     <MOVE ,",["Id","SALTY-WATER"]," ,",["Id","TEAPOT"],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <MOVE ,",["Id","WATER"]," ,",["Id","TEAPOT"],">)>"],["\t\t\t      <TELL ",["Str","\"The teapot is now full of water.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The teapot isn't currently empty.\""]," CR>"],["\t\t\t      <RTRUE>)>)"],["\t\t      (<AND <IN? ,",["Id","PRSO"]," ,",["Id","TEAPOT"],">"],["\t\t\t    <VERB? TAKE>"],["\t\t\t    <NOT ,",["Id","PRSI"],">>"],["\t\t       <SETG ",["Id","PRSO"]," ,",["Id","TEAPOT"],">"],["\t\t       <",["Id","ITAKE"],">"],["\t\t       <SETG ",["Id","PRSO"]," .",["Localid","W"],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The water slips through your fingers.\""]," CR>)>)"],["\t       (.",["Localid","PI?"]," <TELL ",["Str","\"Nice try.\""]," CR>)"],["\t       (<VERB? DROP GIVE>"],["\t\t<COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t\t    <NOT <",["Id","HELD?"]," ,",["Id","WATER"],">>>"],["\t\t       <TELL ",["Str","\"You don't have any water.\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<REMOVE ,",["Id","WATER"],">"],["\t\t<COND (.",["Localid","AV"]],["\t\t       <",["Id","PUDDLE"]," .",["Localid","AV"],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The water spills to the floor and evaporates.\""]," CR>"],["\t\t       <REMOVE ,",["Id","WATER"],">)>)"],["\t       (<VERB? THROW>"],["\t\t<TELL"],[["Str","\"The water splashes on the walls and evaporates.\""]," CR>"],["\t\t<REMOVE ,",["Id","WATER"],">)>>"],[],["<ROUTINE ",["Iddef","PUDDLE"]," (",["Localid","AV"],")"],["\t<TELL ",["Str","\"There is now a puddle in the bottom of the \""]," D .",["Localid","AV"]," ",["Str","\".\""]," CR>"],["\t<MOVE ,",["Id","PRSO"]," .",["Localid","AV"],">>"],[],["<ROUTINE ",["Iddef","BUCKET-FCN"]," (\"OPTIONAL\" (",["Localid","RARG"]," ,",["Id","M-BEG"],"))"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t       <COND (<AND <VERB? BURN>"],["\t\t\t   <EQUAL? ,",["Id","PRSO"]," ,",["Id","BUCKET"],">>"],["\t\t      <TELL"],["\t\t       ",["Str","\"The bucket is fireproof, and won't burn.\""]," CR>)"],["\t\t     (<AND <VERB? DROP PUT>"],["\t\t\t   <EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t\t   <EQUAL? ,",["Id","PRSI"]," ,",["Id","BUCKET"],">"],["\t\t\t   <IN? ,",["Id","BUCKET"]," ,",["Id","WELL-BOTTOM"],">"],["\t\t\t   <NOT <IN? ,",["Id","WINNER"]," ,",["Id","BUCKET"],">>>"],["\t\t      <TELL ",["Str","\"The bucket swiftly rises up, and is gone.\""]," CR>"],["\t\t      <MOVE ,",["Id","BUCKET"]," ,",["Id","WELL-TOP"],">"],["\t\t      <MOVE ,",["Id","WATER"]," ,",["Id","BUCKET"],">"],["\t\t      <SETG ",["Id","BUCKET-TOP-FLAG"]," T>"],["\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-BUCKET"]," 100>>"],["\t\t      <RTRUE>)"],["\t\t     (<VERB? KICK>"],["\t\t      <",["Id","JIGS-UP"]," ",["Str","\"If you insist.\""],">)>)"],["\t      (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t       <COND (<AND <IN? ,",["Id","WATER"]," ,",["Id","BUCKET"],">"],["\t\t\t   <NOT ,",["Id","BUCKET-TOP-FLAG"],">>"],["\t\t      <TELL ",["Str","\"The bucket rises and comes to a stop.\""]," CR CR>"],["\t\t      <SETG ",["Id","BUCKET-TOP-FLAG"]," T>"],["\t\t      <SETG ",["Id","EVAPORATED"]," <>>"],["\t\t      <",["Id","PASS-THE-BUCKET"]," ,",["Id","WELL-TOP"],">"],["\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-BUCKET"]," 100>>"],["\t\t      <RTRUE>)"],["\t\t     (<AND ,",["Id","BUCKET-TOP-FLAG"]],["\t\t\t   <NOT <IN? ,",["Id","WATER"]," ,",["Id","BUCKET"],">>>"],["\t\t      <COND (,",["Id","EVAPORATED"]],["\t\t\t     <TELL"],[["Str","\"The last of the water evaporates, and the bucket descends.\""]," CR CR>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"The bucket descends and comes to a stop.\""]," CR CR>)>"],["\t\t      <SETG ",["Id","BUCKET-TOP-FLAG"]," <>>"],["\t\t      <",["Id","PASS-THE-BUCKET"]," ,",["Id","WELL-BOTTOM"],">)>)"],["\t      (<VERB? CLIMB-ON>"],["\t       <",["Id","PERFORM"]," ,V?BOARD ,",["Id","PRSO"],">"],["\t       <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","PASS-THE-BUCKET"]," (",["Localid","R"],")"],["    #DECL ((",["Localid","R"],") OBJECT)"],["    <MOVE ,",["Id","BUCKET"]," .",["Localid","R"],">"],["    <COND (<IN? ,",["Id","WINNER"]," ,",["Id","BUCKET"],">"],["\t   <",["Id","GOTO"]," .",["Localid","R"],">)>>"],[],["\\"],[],[["Comment",";\"SUBTITLE CHOMPERS IN WONDERLAND\""]],[],["<ROUTINE ",["Iddef","POSTS-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<AND <VERB? TAKE> <FSET? ,",["Id","PRSO"]," ,",["Implid","NONLANDBIT"],">>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now much larger than you are. You have no hope of"]],[["Str","taking it.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","EATME-FCN"]," (\"AUX\" ",["Localid","F"]," ",["Localid","N"],")"],["    <COND (<AND <VERB? EAT>"],["\t\t<EQUAL? ,",["Id","PRSO"]," ,",["Id","EAT-ME-CAKE"],">"],["\t\t<EQUAL? ,",["Id","HERE"]," ,",["Id","TEA-ROOM"],">>"],["\t   <TELL"],[["Str","\"Suddenly, the room appears to have become very large (although"]],[["Str","everything you are carrying seems to be its normal size).\""]," CR CR>"],["\t   <REMOVE ,",["Id","EAT-ME-CAKE"],">"],["\t   <FSET ,",["Id","ROBOT"]," ,",["Implid","INVISIBLE"],">"],["\t   <FSET ,",["Id","ALICE-TABLE"]," ,",["Implid","INVISIBLE"],">"],["\t   <SET ",["Localid","F"]," <FIRST? ,",["Id","HERE"],">>"],["\t   <REPEAT ()"],["\t\t   <COND (<NOT .",["Localid","F"],"> <RETURN>)"],["\t\t\t (T"],["\t\t\t  <SET ",["Localid","N"]," <NEXT? .",["Localid","F"],">>"],["\t\t\t  <COND (<AND <NOT <EQUAL? .",["Localid","F"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t      <FSET? .",["Localid","F"]," ,",["Implid","TAKEBIT"],">>"],["\t\t\t\t <FSET .",["Localid","F"]," ,",["Implid","NONLANDBIT"],">"],["\t\t\t\t <FSET .",["Localid","F"]," ,",["Implid","TRYTAKEBIT"],">"],["\t\t\t\t <MOVE .",["Localid","F"]," ,",["Id","POSTS-ROOM"],">)>)>"],["\t\t   <SET ",["Localid","F"]," .",["Localid","N"],">>"],["\t   <",["Id","GOTO"]," ,",["Id","POSTS-ROOM"],">)"],["\t  (T <",["Id","CAKE-CRUMBLE"],">)>>"],[],["<ROUTINE ",["Iddef","CAKE-CRUMBLE"]," (\"AUX\" ",["Localid","CAKE"],")"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","FOODBIT"],"> <SET ",["Localid","CAKE"]," ,",["Id","PRSO"],">)"],["\t       (T <SET ",["Localid","CAKE"]," ,",["Id","PRSI"],">)>"],["\t <COND (<OR <EQUAL? ,",["Id","HERE"]," ,",["Id","TEA-ROOM"]," ,",["Id","POSTS-ROOM"]," ,",["Id","POOL-ROOM"],">"],["\t\t    <EQUAL? ,",["Id","HERE"]," ,",["Id","MACHINE-ROOM"]," ,",["Id","MAGNET-ROOM"]," ,",["Id","CAGE-ROOM"],">"],["\t\t    <EQUAL? ,",["Id","HERE"]," ,",["Id","WELL-TOP"]," ,",["Id","IN-CAGE"],">>"],["\t        <RFALSE>)"],["\t       (T"],["\t        <REMOVE .",["Localid","CAKE"],">"],["\t        <TELL"],[["Str","\"The \""]," D .",["Localid","CAKE"]," ",["Str","\" has crumbled to dust.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CAKE-FCN"]," (\"AUX\" ",["Localid","F"]," ",["Localid","N"],")"],["\t<COND (<VERB? READ>"],["\t       <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","NONLANDBIT"],">"],["\t\t      <TELL"],[["Str","\"The cake is much too tall now for you to read the lettering.\""]," CR>)"],["\t\t     (,",["Id","PRSI"]],["\t\t      <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PALANTIR-1"]," ,",["Id","PALANTIR-2"]," ,",["Id","PALANTIR-3"],">"],["\t\t\t     <",["Id","PERFORM"]," ,V?LOOK-INSIDE ,",["Id","PRSI"],">)"],["\t\t\t    (<EQUAL? ,",["Id","PRSI"]," ,",["Id","FLASK"],">"],["\t\t\t     <TELL ",["Str","\"The letters, now visible, say \\\"\""],">"],["\t\t\t     <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","RED-ICING"],">"],["\t\t\t\t    <TELL ",["Str","\"Evaporate\""],">)"],["\t\t\t\t   (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ORANGE-ICING"],">"],["\t\t\t\t    <TELL ",["Str","\"Explode\""],">)"],["\t\t\t\t   (T <TELL ",["Str","\"Enlarge\""],">)>"],["\t\t\t     <TELL ",["Str","\"\\\".\""]," CR>)"],["\t\t\t    (T <TELL ",["Str","\"You can't see through that!\""]," CR>)>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The first letter is a capital E. The rest is too small to read.\""]," CR>)>)"],["\t      (<AND <VERB? EAT>"],["\t\t    <EQUAL? ,",["Id","HERE"]," ,",["Id","TEA-ROOM"]," ,",["Id","POSTS-ROOM"]," ,",["Id","POOL-ROOM"],">>"],["\t       <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ORANGE-ICING"],">"],["\t\t      <REMOVE ,",["Id","PRSO"],">"],["\t\t      <",["Id","ICEBOOM"],">)"],["\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","RED-ICING"],">"],["\t\t      <REMOVE ,",["Id","PRSO"],">"],["\t\t      <",["Id","JIGS-UP"]],[["Str","\"That was delicious, but your dying memory is of feeling horribly dehydrated"]],[["Str","and thirsty.\""],">)"],["\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BLUE-ICING"],">"],["\t\t      <REMOVE ,",["Id","PRSO"],">"],["\t\t      <TELL ",["Str","\"The room around you seems to be getting smaller.\""]],["\t\t\t    CR CR>"],["\t\t      <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","POSTS-ROOM"],">"],["\t\t\t     <FCLEAR ,",["Id","ROBOT"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t     <FCLEAR ,",["Id","ALICE-TABLE"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t     <FSET ,",["Id","POSTS"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t     <SET ",["Localid","F"]," <FIRST? ,",["Id","HERE"],">>"],["\t   \t\t     <REPEAT ()"],["\t\t\t\t<COND (<NOT .",["Localid","F"],"> <RETURN>)"],["\t\t\t\t      (T"],["\t\t\t\t       <SET ",["Localid","N"]," <NEXT? .",["Localid","F"],">>"],["\t\t\t\t       <COND (<AND <NOT <EQUAL? .",["Localid","F"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t\t\t   <FSET? .",["Localid","F"]," ,",["Implid","TAKEBIT"],">>"],["\t\t\t\t\t      <FCLEAR .",["Localid","F"]," ,",["Implid","NONLANDBIT"],">"],["\t\t\t\t\t      <FCLEAR .",["Localid","F"]," ,",["Implid","TRYTAKEBIT"],">"],["\t\t\t\t\t      <MOVE .",["Localid","F"]," ,",["Id","TEA-ROOM"],">)>)>"],["\t\t\t\t<SET ",["Localid","F"]," .",["Localid","N"],">>"],["\t\t\t     <",["Id","GOTO"]," ,",["Id","TEA-ROOM"],">)"],["\t\t\t    (T <",["Id","JIGS-UP"]],[["Str","\"The room seems to have become too small to hold you. The walls are not as"]],[["Str","compressible as your body, which is demolished.\""]," >)>)>)"],["\t      (<AND <VERB? THROW PUT>"],["\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","ORANGE-ICING"],">"],["\t\t    <EQUAL? ,",["Id","HERE"]," ,",["Id","TEA-ROOM"]," ,",["Id","POSTS-ROOM"]," ,",["Id","POOL-ROOM"],">>"],["\t       <REMOVE ,",["Id","PRSO"],">"],["\t       <",["Id","ICEBOOM"],">)"],["\t      (<AND <VERB? THROW PUT>"],["\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","RED-ICING"]," ,",["Id","BLUE-ICING"]," ,",["Id","ORANGE-ICING"],">"],["\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","POOL"],">>"],["\t       <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BLUE-ICING"]," ,",["Id","ORANGE-ICING"],">"],["\t\t      <TELL ",["Str","\"The cake sinks majestically into the pool.\""]," CR>"],["\t\t      <REMOVE ,",["Id","PRSO"],">"],["\t\t      <RTRUE>)>"],["\t       <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t       <REMOVE ,",["Id","PRSI"],">"],["\t       <TELL"],[["Str","\"Most of the pool evaporates, revealing a (slightly damp but"]],[["Str","still valuable) package of rare candies. The red cake must be"]],[["Str","pretty strong stuff, since it remains intact!\""]," CR>"],["\t       <FCLEAR ,",["Id","CANDY"]," ,",["Implid","INVISIBLE"],">)"],["\t      (T <",["Id","CAKE-CRUMBLE"],">)>>"],[],["<ROUTINE ",["Iddef","CANDY-FCN"]," ()"],["\t <COND (<VERB? EXAMINE READ>"],["\t\t<",["Id","FIXED-FONT-ON"],">"],["\t\t<TELL"],[["Str","\"       Frobozz Magic Candy Company|"]],[["Str","         >>Special Assortment<<|"]],[["Str","          Candied Grasshoppers|"]],[["Str","             Chocolated Ants|"]],[["Str","              Worms Glacee|"]],[["Str","(By Appointment to His Majesty, Dimwit I)|"]],[["Str","\""],">"],["\t\t<",["Id","FIXED-FONT-OFF"],">"],["\t\t<RTRUE>)"],["\t       (<VERB? EAT OPEN>"],["\t\t<TELL"],[["Str","\"Such rich food would probably not be good for you.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","TOP-ETCHINGS-F"]," ()"],["\t<COND (<VERB? EXAMINE READ>"],["\t       <",["Id","FIXED-FONT-ON"],">"],["\t       <TELL"],[["Str","\"       o  b  o|"]],[["Str","   r             z|"]],[["Str","f   M  A  G  I  C   z|"]],[["Str","c    W  E   L  L    y|"]],[["Str","   o             n|"]],[["Str","       m  p  a|"]],[["Str","\""],">"],["\t       <",["Id","FIXED-FONT-OFF"],">"],["\t       <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","BOTTOM-ETCHINGS-F"]," ()"],["\t<COND (<VERB? EXAMINE READ>"],["\t       <",["Id","FIXED-FONT-ON"],">"],["\t       <TELL"],[["Str","\"       o  b  o|"]],[["Str","|"]],[["Str","       A  G  I|"]],[["Str","        E   L|"]],[["Str","|"]],[["Str","       m  p  a|"]],[["Str","\""],">"],["\t       <",["Id","FIXED-FONT-OFF"],">"],["\t       <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","CUBE-F"]," ()"],["\t<COND (<VERB? EXAMINE READ>"],["\t       <",["Id","FIXED-FONT-ON"],">"],["\t       <TELL"],[["Str","\"              Bank of Zork|"]],[["Str","                   VAULT|"]],[["Str","                 *722 GUE*|"]],[["Str","        Frobozz Magic Vault Company|"]],[["Str","\""],">"],["\t       <",["Id","FIXED-FONT-OFF"],">"],["\t       <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","FIXED-FONT-ON"]," () <PUT 0 8 <BOR <GET 0 8> 2>>>"],[],["<ROUTINE ",["Iddef","FIXED-FONT-OFF"],"() <PUT 0 8 <BAND <GET 0 8> -3>>>"],[],["<ROUTINE ",["Iddef","POOL-FCN"]," ()"],["\t <COND (<VERB? DRINK>"],["\t\t<TELL"],[["Str","\"The water is extremely salty.\""]," CR>)"],["\t       (<VERB? LOOK-UNDER>"],["\t\t<TELL"],[["Str","\"You'd probably have to enter the pool to see what's below the surface.\""]," CR>)"],["\t       (<VERB? THROUGH>"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"You enter the pool, thrash around for a good while, and then drown."]],[["Str","Sad, but true.\""],">)>>"],[],["<ROUTINE ",["Iddef","FLASK-FCN"]," ()"],["\t <COND (<VERB? LOOK-INSIDE>"],["\t\t<TELL"],[["Str","\"You notice that objects behind the flask appear to be magnified."]],[["Str","You might try looking at something through the flask.\""]," CR>)"],["\t       (<AND <VERB? READ> <EQUAL? ,",["Id","PRSI"]," ,",["Id","FLASK"],">>"],["\t\t<TELL"],[["Str","\"The flask distorts and magnifies the \""]," D ,",["Id","PRSO"]," ",["Str","\", showing details"]],[["Str","not noticed earlier.\""]," CR>"],["\t\t<RFALSE>)"],["\t       (<VERB? OPEN>"],["\t\t<",["Id","MUNG-ROOM"]," ,",["Id","HERE"]," ",["Str","\"Noxious vapors prevent your entry.\""],">"],["\t\t<",["Id","JIGS-UP"]," ,",["Id","FATAL-VAPORS"],">)"],["\t       (<VERB? MUNG THROW>"],["\t\t<TELL ",["Str","\"The flask breaks into pieces.\""]," CR>"],["\t\t<REMOVE ,",["Id","PRSO"],">"],["\t\t<",["Id","JIGS-UP"]," ,",["Id","FATAL-VAPORS"],">)>>"],[],["<GLOBAL ",["Iddef","FATAL-VAPORS"]],[["Str","\"As you pass out, you realize that the vapors from the"]],[["Str","flask's contents are fatal.\""],">"],[],["<ROUTINE ",["Iddef","PLEAK"]," ()"],["    <COND (<VERB? TAKE>"],["\t   <TELL <",["Id","PICK-ONE"]," ,",["Id","YUKS"],"> CR>)"],["\t  (<VERB? PLUG>"],["\t   <TELL ",["Str","\"The leak is too high above you to reach.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","ICEBOOM"]," ()"],["    <",["Id","MUNG-ROOM"]," ,",["Id","HERE"]],[["Str","\"The entrance is blocked by sticky orange rubble. Probably some careless"]],[["Str","adventurer was playing with blasting cakes.\""],">"],["    <",["Id","JIGS-UP"]],[["Str","\"You have been blasted to smithereens (wherever they are).\""],">>"],[],["<ROUTINE ",["Iddef","MAGNET-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <TELL"],[["Str","\"You are in a circular room with a low ceiling. There are exits to"]],[["Str","the east and southeast.\""]," CR>)"],["\t      (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t    ,",["Id","CAROUSEL-FLIP-FLAG"],">"],["\t       <COND (,",["Id","CAROUSEL-ZOOM-FLAG"]],["\t\t      <",["Id","JIGS-UP"]," <COND (<EQUAL? ,",["Id","ADVENTURER"]," ,",["Id","WINNER"],">"],[["Str","\"According to Prof. TAA of GUE Tech, the rapidly changing magnetic"]],[["Str","fields in the room are intense enough to electrocute you."]],[["Str","I really don't know, but in any event, something just killed you.\""]," )"],["\t\t\t\t     (T"],[["Str","\"According to Prof. TAA of GUE Tech, the magnetic fields in the room are"]],[["Str","intense enough to fry the delicate innards of the robot. I really don't"]],[["Str","know, but in any event, smoke pours from its ears and it has stopped moving.\""],")>>)"],["\t\t     (<EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t      <TELL"],[["Str","\"As you enter, your compass starts spinning wildly.\""]," CR>"],["\t\t      <COND (<NOT ,",["Id","COMPASS-KLUDGE"],">"],["\t\t\t     <TELL"],[["Str","\"What compass, you ask? The one which allows you to specify compass directions"]],[["Str","for movement.\""],">"],["\t\t\t     <SETG ",["Id","COMPASS-KLUDGE"]," T>)>"],["\t\t      <CRLF>)>)>>"],[],["<GLOBAL ",["Iddef","COMPASS-KLUDGE"]," <>>"],[],["<ROUTINE ",["Iddef","MAGNET-ROOM-EXIT"]," ()"],["\t<COND (<AND ,",["Id","CAROUSEL-FLIP-FLAG"]," <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t       <TELL ",["Str","\"You cannot get your bearings...\""]," CR CR>"],["\t       <COND (<PROB 50>"],["\t\t      ,",["Id","MACHINE-ROOM"],")"],["\t\t     (T"],["\t\t      ,",["Id","TEA-ROOM"],")>)"],["\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?EAST"],">"],["\t       ,",["Id","MACHINE-ROOM"],")"],["\t      (<OR <EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?SE"],">"],["\t\t   <EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?OUT"],">>"],["\t       ,",["Id","TEA-ROOM"],")"],["\t      (T"],["\t       <TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t       <RFALSE>)>>"],[],["<GLOBAL ",["Iddef","CAROUSEL-ZOOM-FLAG"]," <>>"],[],["<GLOBAL ",["Iddef","CAROUSEL-FLIP-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","BUTTONS"]," ()"],["\t<COND (<VERB? PUSH>"],["\t       <COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t      <",["Id","JIGS-UP"]],[["Str","\"There is a giant spark and you are fried to a crisp.\""],">)"],["\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","SQUARE-BUTTON"],">"],["\t\t      <COND (,",["Id","CAROUSEL-ZOOM-FLAG"]],["\t\t\t     <TELL ",["Str","\"Nothing seems to happen.\""]," CR>)"],["\t\t\t    (<SETG ",["Id","CAROUSEL-ZOOM-FLAG"]," T>"],["\t\t      \t     <TELL ",["Str","\"The whirring increases in intensity.\""]," CR>)>)"],["\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ROUND-BUTTON"],">"],["\t\t      <COND (,",["Id","CAROUSEL-ZOOM-FLAG"]],["\t\t\t     <SETG ",["Id","CAROUSEL-ZOOM-FLAG"]," <>>"],["\t\t      \t     <TELL ",["Str","\"The whirring decreases in intensity.\""]," CR>)"],["\t\t\t    (T"],["\t\t\t     <TELL ",["Str","\"Nothing seems to happen.\""]," CR>)>)"],["\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","TRIANGULAR-BUTTON"],">"],["\t\t      <SETG ",["Id","CAROUSEL-FLIP-FLAG"]," <NOT ,",["Id","CAROUSEL-FLIP-FLAG"],">>"],["\t\t      <COND (<IN? ,",["Id","IRON-BOX"]," ,",["Id","CAROUSEL-ROOM"],">"],["\t\t\t     <TELL"],[["Str","\"A dull thump is heard in the distance.\""]," CR>"],["\t\t\t     <COND (<FSET? ,",["Id","IRON-BOX"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t\t    <FCLEAR ,",["Id","IRON-BOX"]," ,",["Implid","INVISIBLE"],">)"],["\t\t\t\t   (T"],["\t\t\t\t    <FSET ,",["Id","IRON-BOX"]," ,",["Implid","INVISIBLE"],">)>"],["\t\t\t     <COND (<NOT <FSET? ,",["Id","IRON-BOX"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t\t    <FCLEAR ,",["Id","CAROUSEL-ROOM"]," ,",["Implid","TOUCHBIT"],">)>"],["\t\t\t     T)"],["\t\t\t    (T <TELL ",["Str","\"Click.\""]," CR>)>)>)>>"],[],["<GLOBAL ",["Iddef","CAGE-SOLVE-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","SPHERE-FCN"]," (\"AUX\" ",["Localid","FL"],")"],["\t#DECL ((",["Localid","FL"],") <OR ATOM FALSE>)"],["\t<COND (<AND <NOT ,",["Id","CAGE-SOLVE-FLAG"],"> <VERB? TAKE MOVE PUT>>"],["\t       <SET ",["Localid","FL"]," T>)"],["\t      (T <SET ",["Localid","FL"]," <>>)>"],["\t<COND (<AND .",["Localid","FL"]," <EQUAL? ,",["Id","ADVENTURER"]," ,",["Id","WINNER"],">>"],["\t       <TELL"],[["Str","\"As you reach for the sphere, a solid steel cage falls from the ceiling"]],[["Str","to entrap you. To make matters worse, poisonous gas starts coming"]],[["Str","into the room.\""]," CR CR>"],["\t       <COND (<IN? ,",["Id","ROBOT"]," ,",["Id","HERE"],">"],["\t\t      <MOVE ,",["Id","ROBOT"]," ,",["Id","IN-CAGE"],">"],["\t\t      <FSET ,",["Id","ROBOT"]," ,",["Implid","NDESCBIT"],">)>"],["\t       <",["Id","GOTO"]," ,",["Id","IN-CAGE"],">"],["\t       <MOVE ,",["Id","CAGE"]," ,",["Id","HERE"],">"],["\t       <FSET ,",["Id","CAGE"]," ,",["Implid","NDESCBIT"],">"],["\t       <FCLEAR ,",["Id","CAGE"]," ,",["Implid","INVISIBLE"],">"],["\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-SPHERE"]," 6>>"],["\t       T)"],["\t      (.",["Localid","FL"]],["\t       <FSET ,",["Id","PALANTIR-1"]," ,",["Implid","INVISIBLE"],">"],["\t       <REMOVE ,",["Id","ROBOT"],">"],["\t       <FSET ,",["Id","PRSO"]," ,",["Implid","INVISIBLE"],">"],["\t       <MOVE ,",["Id","CAGE"]," ,",["Id","CAGE-ROOM"],">"],["\t       <FCLEAR ,",["Id","CAGE"]," ,",["Implid","INVISIBLE"],">"],["\t       <",["Id","JIGS-UP"]],[["Str","\"As the robot reaches for the sphere, a solid steel cage falls from the"]],[["Str","ceiling, trapping him. You can faintly hear his last words: \\\"Whirr,"]],[["Str","buzz, click!\\\" A cloud of smoke rising from beneath the cage confirms"]],[["Str","your fears about the fate of your brave mechanical friend.\""],">"],["\t       T)"],["\t      (<VERB? LOOK-INSIDE EXAMINE>"],["\t       <",["Id","PALANTIR"],">)>>"],[],["<ROUTINE ",["Iddef","I-SPHERE"]," ()"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","CAGE-ROOM"]," ,",["Id","IN-CAGE"],">"],["\t\t<FSET ,",["Id","PALANTIR-1"]," ,",["Implid","INVISIBLE"],">"],["\t\t<",["Id","MUNG-ROOM"]," ,",["Id","CAGE-ROOM"]],[["Str","\"You are stopped by a cloud of poisonous gas.\""],">"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"Time passes...and you die from some obscure poisoning.\""],">)>>"],[],["<ROUTINE ",["Iddef","IN-CAGE-FCN"]," (",["Localid","RARG"],")"],["    <COND (,",["Id","CAGE-SOLVE-FLAG"]," <SETG ",["Id","HERE"]," ,",["Id","CAGE-ROOM"],">)>>"],[],["<ROUTINE ",["Iddef","ROBOT-FCN"]," (\"OPTIONAL\" (",["Localid","RARG"]," ,",["Id","M-OBJECT"],"))"],["\t<COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","ROBOT"],">"],["\t       <COND (<VERB? SGIVE> <RFALSE>)"],["\t\t     (<VERB? FOLLOW>"],["\t\t      <TELL"],[["Str","\"\\\"My memory circuits are not that advanced. I can move as directed,"]],[["Str","though.\\\"\""]," CR>)"],["\t\t     (<AND <VERB? RAISE TAKE MOVE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","CAGE"],">>"],["\t\t      <TELL"],[["Str","\"The cage shakes and is hurled across the room. It's hard to"]],[["Str","say, but the robot appears to be smiling.\""]," CR CR>"],["\t\t      <DISABLE <",["Id","INT"]," ",["Id","I-SPHERE"],">>"],["\t\t      <SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t      <",["Id","GOTO"]," ,",["Id","CAGE-ROOM"],">"],["\t\t      <MOVE ,",["Id","MANGLED-CAGE"]," ,",["Id","CAGE-ROOM"],">"],["\t\t      <FCLEAR ,",["Id","ROBOT"]," ,",["Implid","NDESCBIT"],">"],["\t\t      <FSET ,",["Id","PALANTIR-1"]," ,",["Implid","TAKEBIT"],">"],["\t\t      <MOVE ,",["Id","ROBOT"]," ,",["Id","CAGE-ROOM"],">"],["\t\t      <SETG ",["Id","CAGE-SOLVE-FLAG"]," T>)"],["\t\t     (<VERB? EAT DRINK>"],["\t\t      <COND (<IN? ,",["Id","ADVENTURER"]," ,",["Id","HERE"],">"],["\t\t\t     <TELL"],[["Str","\"\\\"I am sorry but that is difficult for a being with no mouth.\\\"\""]," CR>)>"],["\t\t      <RTRUE>)"],["\t\t     (<AND <PROB 2>"],["\t\t\t   <IN? ,",["Id","ADVENTURER"]," ,",["Id","HERE"],">>"],["\t\t      <TELL"],[["Str","\"\\\"Buzz! Buzz! Buzz! My circuits are getting rusty. Try again.\\\"\""]," CR>)"],["\t\t     (<VERB? READ EXAMINE>"],["\t\t      <COND (<IN? ,",["Id","ADVENTURER"]," ,",["Id","HERE"],">"],["\t\t\t     <TELL"],[["Str","\"\\\"My vision is not sufficiently acute to do that.\\\"\""]," CR>)>"],["\t\t      <RTRUE>)"],["\t\t     (<VERB? DROP PUT THROW>"],["\t\t      <COND (<NOT <IN? ,",["Id","ADVENTURER"]," ,",["Id","HERE"],">>"],["\t\t\t     <RFALSE>)"],["\t\t\t    (<IN? ,",["Id","PRSO"]," ,",["Id","ROBOT"],">"],["\t\t\t     <TELL ",["Str","\"\\\"Whirr, buzz, click!\\\"\""]," CR>"],["\t\t\t     <RFALSE>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"\\\"Click! I don't have that. Buzz! Whirr!\\\"\""]," CR>)>)"],["\t\t     (<VERB? WALK TAKE PUSH TURN>"],["\t\t      <COND (<NOT <IN? ,",["Id","ADVENTURER"]," ,",["Id","HERE"],">>"],["\t\t\t     <RFALSE>)"],["\t\t\t    (<PROB 80>"],["\t\t\t     <TELL ",["Str","\"\\\"Whirr, buzz, click!\\\"\""]," CR>)"],["\t\t\t    (T"],["\t\t\t     <TELL ",["Str","\"\\\"Buzz, click, whirr!\\\"\""]," CR>)>"],["\t\t      <RFALSE>)"],["\t\t     (T"],["\t\t      <COND (<IN? ,",["Id","ADVENTURER"]," ,",["Id","HERE"],">"],["\t\t\t     <TELL"],[["Str","\"\\\"My programming is insufficient to allow me to perform that task.\\\"\""]," CR>)>"],["\t\t      <RTRUE>)>)"],["\t      (<VERB? OPEN LOOK-INSIDE CLOSE>"],["\t       <TELL ",["Str","\"There's no access panel or door on the robot.\""]," CR>)"],["\t      (<AND <VERB? GIVE>"],["\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","ROBOT"],">>"],["\t       <MOVE ,",["Id","PRSO"]," ,",["Id","ROBOT"],">"],["\t       <TELL ",["Str","\"The robot gladly takes the \""]],["\t\t     D ,",["Id","PRSO"]],["\t\t     ",["Str","\" and nods his head-like appendage in thanks.\""]," CR>)"],["\t      (<VERB? THROW MUNG>"],["\t       <TELL"],[["Str","\"The robot falls to the ground and (being of shoddy construction)"]],[["Str","disintegrates before your eyes.\""]," CR>"],["\t       <REMOVE <COND (<VERB? THROW> ,",["Id","PRSI"],") (,",["Id","PRSO"],")>>)>>"],[],["\\"],[],[["Comment",";\"SUBTITLE BANK OF ZORK\""]],[],["<GLOBAL ",["Iddef","BANK-SOLVE-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","BILLS-OBJECT"]," ()"],["\t<SETG ",["Id","BANK-SOLVE-FLAG"]," T>"],["\t<COND (<VERB? BURN>"],["\t       <TELL ",["Str","\"Nothing like having money to burn!\""]," CR>"],["\t       <RFALSE>)"],["\t      (<VERB? EAT>"],["\t       <TELL ",["Str","\"Talk about eating rich foods!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BKLEAVEE"]," (\"OPTIONAL\" (",["Localid","RM"]," ,",["Id","TELLER-EAST"],"))"],["    #DECL ((",["Localid","RM"],") OBJECT)"],["    <COND (<OR <",["Id","HELD?"]," ,",["Id","BILLS"],"> <",["Id","HELD?"]," ,",["Id","PORTRAIT"],">>"],["\t   <TELL"],[["Str","\"An alarm rings briefly, and an invisible force bars your way.\""]," CR>"],["\t   <RFALSE>)"],["\t  (T .",["Localid","RM"],")>>"],[],["<ROUTINE ",["Iddef","BKLEAVEW"]," ()"],["    <",["Id","BKLEAVEE"]," ,",["Id","TELLER-WEST"],">>"],[],["<GLOBAL ",["Iddef","SCOL-ROOMS"]," <LTABLE"],["       ",["Implid","P?EAST"]],["       ",["Id","VIEWING-EAST"]],["       ",["Implid","P?WEST"]],["       ",["Id","VIEWING-WEST"]],["       ",["Implid","P?NORTH"]],["       ",["Id","SMALL-ROOM"]],["       ",["Implid","P?SOUTH"]],["       ",["Id","VAULT"],">>"],[],["<GLOBAL ",["Iddef","SCOL-WALLS"]," <TABLE"],["       ",["Id","VIEWING-WEST"]],["       ",["Id","SEWL"]],["       ",["Id","VIEWING-WEST"]],["       ",["Id","VIEWING-EAST"]],["       ",["Id","SWWL"]],["       ",["Id","VIEWING-EAST"]],["       ",["Id","SMALL-ROOM"]],["       ",["Id","SSWL"]],["       ",["Id","VAULT"]],["       ",["Id","VAULT"]],["       ",["Id","SNWL"]],["       ",["Id","SMALL-ROOM"],">>"],[],["<GLOBAL ",["Iddef","SCOL-ROOM"]," ",["Id","VIEWING-WEST"],">"],[],["<ROUTINE ",["Iddef","DEPOSITORY-FCN"]," (",["Localid","RARG"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t       <SETG ",["Id","SCOL-ROOM"]," <",["Id","LKP"]," ,",["Id","PRSO"]," ,",["Id","SCOL-ROOMS"],">>)>>"],[],["<ROUTINE ",["Iddef","TELLER-ROOM"]," (",["Localid","RARG"],")"],["    <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t   <TELL"],[["Str","\"You are in a small room, which was used by a bank officer who retrieved"]],[["Str","safety deposit boxes for the customer. On the north side of the room is a"]],[["Str","sign which reads  \\\"Viewing Room\\\". On the \""],">"],["\t   <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","TELLER-WEST"],"> <TELL ",["Str","\"west\""],">)"],["\t\t (T <TELL ",["Str","\"east\""],">)>"],["\t   <TELL ",["Str","\" side of the room, above an open door, is a sign reading||"]],[],[["Str","            BANK PERSONNEL ONLY|"]],[["Str","\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","SCOL-OBJECT"]," (\"OPTIONAL\" (",["Localid","OBJ"]," <>))"],["    <COND (<VERB? PUSH MOVE TAKE RUB>"],["\t   <TELL ",["Str","\"As you try, your hand seems to go through it.\""]," CR>)"],["\t  (<AND <VERB? ATTACK> ,",["Id","PRSI"],">"],["\t   <TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" goes through it.\""]," CR>)"],["\t  (<AND <VERB? THROW OVERBOARD> <EQUAL? ,",["Id","PRSI"]," ,",["Id","CURTAIN"]," .",["Localid","OBJ"],">>"],["\t   <COND (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t  <",["Id","V-THROUGH"]," ,",["Id","PRSO"],">)"],["\t\t (T <TELL ",["Str","\"You don't have that!\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","GET-WALL"]," (",["Localid","RM"]," \"AUX\" ",["Localid","W"],")"],["    #DECL ((",["Localid","RM"],") OBJECT)"],["    <SET ",["Localid","W"]," ,",["Id","SCOL-WALLS"],">"],["    <REPEAT ()"],["\t<COND (<EQUAL? <GET .",["Localid","W"]," 0> .",["Localid","RM"],">"],["\t       <RETURN .",["Localid","W"],">)"],["\t      (T <SET ",["Localid","W"]," <REST .",["Localid","W"]," 6>>)>>>"],[],["<ROUTINE ",["Iddef","SCOLWALL"]," ()"],["    <COND (<AND <VERB? THROW OVERBOARD PUT>"],["\t\t<EQUAL? ,",["Id","HERE"]," ,",["Id","SCOL-ACTIVE"],">"],["\t\t<EQUAL? ,",["Id","PRSI"]," <GET <",["Id","GET-WALL"]," ,",["Id","HERE"],"> 1>>>"],["\t   <",["Id","SCOL-OBJECT"]," ,",["Id","PRSI"],">)>>"],[],["<ROUTINE ",["Iddef","SCOL-GO"]," (",["Localid","OBJ"],")"],["\t #DECL ((",["Localid","OBJ"],") OBJECT)"],["\t <SETG ",["Id","SCOL-ACTIVE"]," ,",["Id","SCOL-ROOM"],">"],["\t <COND (.",["Localid","OBJ"]," <",["Id","SCOL-OBJ"]," .",["Localid","OBJ"]," 0 ,",["Id","SCOL-ROOM"],">)"],["\t       (T"],["\t        <",["Id","SCOL-THROUGH"]," 12 ,",["Id","SCOL-ROOM"],">)>>"],[],["<ROUTINE ",["Iddef","SCOL-OBJ"]," (",["Localid","OBJ"]," ",["Localid","CINT"]," ",["Localid","RM"],")"],["    #DECL ((",["Localid","OBJ"],") OBJECT (",["Localid","CINT"],") FIX (",["Localid","RM"],") OBJECT)"],["    <ENABLE <",["Id","QUEUE"]," ",["Id","I-CURTAIN"]," .",["Localid","CINT"],">>"],["    <MOVE .",["Localid","OBJ"]," .",["Localid","RM"],">"],["    <COND (<EQUAL? .",["Localid","RM"]," ,",["Id","DEPOSITORY"],">"],["\t   <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" passes through the wall and vanishes.\""]," CR>)"],["\t  (T"],["\t   <TELL ",["Str","\"The curtain dims slightly as the \""]],["\t\t D .",["Localid","OBJ"]," ",["Str","\" passes through.\""]," CR>"],["\t   <SETG ",["Id","SCOL-ROOM"]," <>>"],["\t   T)>>"],[],["<ROUTINE ",["Iddef","SCOL-THROUGH"]," (",["Localid","CINT"]," ",["Localid","RM"],")"],["    #DECL ((",["Localid","CINT"],") FIX (",["Localid","RM"],") OBJECT)"],["    <ENABLE <",["Id","QUEUE"]," ",["Id","I-CURTAIN"]," .",["Localid","CINT"],">>"],["    <TELL ",["Str","\"You feel somewhat disoriented as you pass through...\""]," CR CR>"],["    <",["Id","GOTO"]," .",["Localid","RM"],">>"],[],["<GLOBAL ",["Iddef","SCOL-ACTIVE"]," <>>"],[],["<ROUTINE ",["Iddef","I-CURTAIN"]," ()"],["    <SETG ",["Id","SCOL-ACTIVE"]," <>>"],["    <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","VAULT"],">"],["\t   <",["Id","JIGS-UP"]],[["Str","\"A metallic voice says \\\"Hello, Intruder! Your unauthorized presence"]],[["Str","in the vault of the Bank of Zork has set off all sorts of nasty surprises,"]],[["Str","most of which are fatal. This message brought to you by the Frobozz Magic"]],[["Str","Vault Company.\\\"\""],">)"],["\t  (<EQUAL? ,",["Id","HERE"]," ,",["Id","VIEWING-EAST"]," ,",["Id","VIEWING-WEST"]," ,",["Id","SMALL-ROOM"],">"],["\t   <TELL ",["Str","\"You hear a faint voice say \\\"Curtain Door Closed.\\\"\""]," CR>"],["\t   <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","SMALL-ROOM"],">"],["\t          <COND (,",["Id","ZGNOME-FLAG"]," <RTRUE>)"],["\t\t        (T"],["\t\t         <ENABLE <",["Id","QUEUE"]," ",["Id","I-ZGNOME"]," 3>>"],["\t\t         <SETG ",["Id","ZGNOME-FLAG"]," T>)>)>)>>"],[],["<GLOBAL ",["Iddef","ZGNOME-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","I-ZGNOME"]," ()"],["         <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","SMALL-ROOM"],">"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-ZGNOME-OUT"]," 12>>"],["\t\t<TELL"],[["Str","\"An epicene gnome of Zurich wearing a three-piece suit and carrying a"]],[["Str","safety deposit box materializes in the room.\""],">"],["\t\t<COND (<IN? ,",["Id","WAND"]," ,",["Id","WINNER"],">"],["\t\t       <TELL"],[["Str","\" He notices the wand and dematerializes speedily.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\" \\\"You seem to have"]],[["Str","forgotten to deposit your valuables,\\\" he says, tapping the lid of the"]],[["Str","box impatiently. \\\"We don't usually allow customers to use the boxes"]],[["Str","here, but we can make this ONE exception, I suppose...\\\" He looks"]],[["Str","askance at you over his wire-rimmed bifocals.\""]," CR>"],["\t\t       <MOVE ,",["Id","GNOME-OF-ZURICH"]," ,",["Id","HERE"],">)>)>>"],[],["<ROUTINE ",["Iddef","ZGNOME-FCN"]," ()"],["    <COND (<AND <VERB? GIVE THROW> <EQUAL? ,",["Id","PRSI"]," ,",["Id","GNOME-OF-ZURICH"],">>"],["\t   <COND (<GETPT ,",["Id","PRSO"]," ,",["Implid","P?VALUE"],">"],["\t\t  <TELL"],[["Str","\"The gnome carefully places the \""]," D ,",["Id","PRSO"],"  ",["Str","\" in the"]],[["Str","deposit box. \\\"Let me show you the way out,\\\" he says, making it clear"]],[["Str","he will be pleased to see the last of you. Then, you are momentarily"]],[["Str","disoriented, and when you recover you are back at the Bank Entrance.\""]," CR>"],["\t\t  <REMOVE ,",["Id","GNOME-OF-ZURICH"],">"],["\t\t  <REMOVE ,",["Id","PRSO"],">"],["\t\t  <DISABLE <",["Id","INT"]," ",["Id","I-ZGNOME-OUT"],">>"],["\t\t  <",["Id","GOTO"]," ,",["Id","BANK-ENTRANCE"],">"],["\t\t  <RTRUE>)"],["\t\t (<",["Id","BOMB?"]," ,",["Id","PRSO"],">"],["\t\t  <REMOVE ,",["Id","GNOME-OF-ZURICH"],">"],["\t\t  <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t  <DISABLE <",["Id","INT"]," ",["Id","I-ZGNOME"],">>"],["\t\t  <DISABLE <",["Id","INT"]," ",["Id","I-ZGNOME-OUT"],">>"],["\t\t  <TELL"],[["Str","\"\\\"You are so very gracious. I really cannot accept.\\\" he says. He"]],[["Str","disappears, a wry smile on his lips.\""]," CR>)"],["\t\t (T"],["\t\t  <TELL"],[["Str","\"\\\"I wouldn't put THAT in a safety deposit box,\\\" remarks the gnome with"]],[["Str","disdain, tossing it over his shoulder, where it disappears with an"]],[["Str","understated \\\"pop\\\".\""]," CR>"],["\t\t  <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t  <RTRUE>)>)"],["\t  (<VERB? ATTACK>"],["\t   <TELL"],[["Str","\"The gnome says \\\"Well, I never...\\\" and disappears with a snap of his"]],[["Str","fingers, leaving you alone.\""]," CR>"],["\t   <REMOVE ,",["Id","GNOME-OF-ZURICH"],">"],["\t   <DISABLE <",["Id","INT"]," ",["Id","I-ZGNOME-OUT"],">>)"],["\t  (T"],["\t   <TELL"],[["Str","\"The gnome appears increasingly impatient.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","I-ZGNOME-OUT"]," ()"],["         <REMOVE ,",["Id","GNOME-OF-ZURICH"],">"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","SMALL-ROOM"],">"],["\t\t<TELL"],[["Str","\"The gnome looks impatient: \\\"I may have another customer waiting;"]],[["Str","you'll just have to fend for yourself, I'm afraid.\\\" He disappears,"]],[["Str","leaving you alone.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BOMB?"]," (",["Localid","O"],")"],["\t<COND (<AND <EQUAL? .",["Localid","O"]," ,",["Id","BRICK"],">"],["\t            <IN? ,",["Id","FUSE"]," ,",["Id","BRICK"],">"],["\t\t    <NOT <0? <GET <",["Id","INT"]," ",["Id","I-FUSE"],"> ,",["Id","C-ENABLED?"],">>>>"],["\t       <RTRUE>)"],["\t      (T <RFALSE>)>>"],[],["\\"],[],[["Str","\"PALANTIRS, ETC.\""]],[],["<ROUTINE ",["Iddef","GO&LOOK"]," (",["Localid","RM"]," \"AUX\" ",["Localid","OHERE"]," ",["Localid","OLIT"]," (",["Localid","OSEEN"]," <>))"],["\t #DECL ((",["Localid","RM"],") OBJECT)"],["\t <SET ",["Localid","OHERE"]," ,",["Id","HERE"],">"],["\t <COND (<FSET? .",["Localid","OHERE"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<SET ",["Localid","OSEEN"]," T>)>"],["\t <SET ",["Localid","OLIT"]," ,",["Id","LIT"],">"],["\t <SETG ",["Id","HERE"]," .",["Localid","RM"],">"],["\t <SETG ",["Id","LIT"]," <",["Id","LIT?"]," .",["Localid","RM"],">>"],["\t <",["Id","PERFORM"]," ,V?LOOK>"],["\t <COND (<NOT .",["Localid","OSEEN"],"> <FCLEAR .",["Localid","OHERE"]," ,",["Implid","TOUCHBIT"],">)>"],["\t <SETG ",["Id","HERE"]," .",["Localid","OHERE"],">"],["\t <SETG ",["Id","LIT"]," .",["Localid","OLIT"],">"],["\t T>"],[],["<ROUTINE ",["Iddef","TINY-ROOM-FCN"]," (",["Localid","RARG"],")"],["    #DECL ((",["Localid","RARG"],") <OR FIX FALSE>)"],["    <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t   <TELL"],[["Str","\"This is a tiny room carved out of the wall of the ravine. There is"]],[["Str","an exit down a precarious climb. \""],">"],["\t   <",["Id","P-DOOR"]," ",["Str","\"north\""]," ,",["Id","LID-1"]," ,",["Id","KEYHOLE-1"],">"],["\t   <RTRUE>)"],["\t  (<NOT <VERB? LOOK>> <",["Id","PCHECK"],"> <RFALSE>)>>"],[],["<ROUTINE ",["Iddef","DREARY-ROOM-FCN"]," (",["Localid","RARG"],")"],["    #DECL ((",["Localid","RARG"],") <OR FIX FALSE>)"],["    <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t   <TELL"],[["Str","\"This is a small and rather dreary room, eerily illuminated by a red glow"]],[["Str","emanating from a crack in one wall. The light falls upon a dusty wooden table"]],[["Str","in the center of the room. \""],">"],["\t   <",["Id","P-DOOR"]," ",["Str","\"south\""]," ,",["Id","LID-2"]," ,",["Id","KEYHOLE-2"],">"],["\t   <RTRUE>)>"],["          (T <",["Id","PCHECK"],"> <RFALSE>)>"],[],["<ROUTINE ",["Iddef","PCHECK"]," (\"AUX\" (",["Localid","LID"]," <",["Id","PLID"],">))"],["\t#DECL ((",["Localid","LID"],") OBJECT)"],["\t<SETG ",["Id","PLOOK-FLAG"]," <>>"],["\t<COND (<OR <IN? ,",["Id","KEY"]," ,",["Id","KEYHOLE-1"],">"],["\t\t   <IN? ,",["Id","KEY"]," ,",["Id","KEYHOLE-2"],">>"],["\t       <FSET ,",["Id","KEY"]," ,",["Implid","NDESCBIT"],">)"],["\t      (T"],["\t       <FCLEAR ,",["Id","KEY"]," ,",["Implid","NDESCBIT"],">)>"],["\t<COND (<",["Id","HELD?"]," ,",["Id","PLACE-MAT"],">"],["\t       <SETG ",["Id","MUD-FLAG"]," <>>)> ",["Comment",";\"HUH?\""]],["\t<COND (,",["Id","MUD-FLAG"]],["\t       <MOVE ,",["Id","PLACE-MAT"]," ,",["Id","HERE"],">"],["\t       <FSET ,",["Id","PLACE-MAT"]," ,",["Implid","NDESCBIT"],">)"],["\t      (T"],["\t       <FCLEAR ,",["Id","PLACE-MAT"]," ,",["Implid","NDESCBIT"],">)>>"],[],["<ROUTINE ",["Iddef","P-DOOR"]," (",["Localid","STR"]," ",["Localid","LID"]," ",["Localid","KEYHOLE"]," \"AUX\" ",["Localid","F"],")"],["\t#DECL ((",["Localid","STR"],") STRING (",["Localid","LID"]," ",["Localid","KEYHOLE"],") OBJECT)"],["\t<COND (,",["Id","PLOOK-FLAG"]," <SETG ",["Id","PLOOK-FLAG"]," <>> <RFALSE>)>"],["\t<TELL ",["Str","\"On the \""]],["\t      .",["Localid","STR"]],["\t      ",["Str","\" side of the room is a massive wooden door, which has a"]],[["Str","small window barred with iron. A formidable bolt lock is set within the"]],[["Str","door frame. A keyhole \""],">"],["\t<COND (<NOT <FSET? .",["Localid","LID"]," ,",["Implid","OPENBIT"],">>"],["\t       <TELL ",["Str","\"covered by a thin metal lid \""],">)>"],["\t<TELL ",["Str","\"lies within the lock.\""],">"],["\t<COND (<SET ",["Localid","F"]," <FIRST? .",["Localid","KEYHOLE"],">>"],["\t       <TELL ",["Str","\" A \""]," D .",["Localid","F"]],["\t\t     ",["Str","\" is in place within the keyhole.\""],">)>"],["\t<COND (,",["Id","MUD-FLAG"]],["\t       <TELL ",["Str","\" The edge of a place mat is visible under the door.\""],">"],["\t       <COND (,",["Id","MATOBJ"]],["\t\t      <TELL ",["Str","\" Lying on the place mat is a \""]," D ,",["Id","MATOBJ"]," ",["Str","\".\""],">)>)>"],["\t<CRLF>>"],[],["<ROUTINE ",["Iddef","PLID"]," (\"OPTIONAL\" (",["Localid","OBJ1"]," ,",["Id","LID-1"],") (",["Localid","OBJ2"]," ,",["Id","LID-2"],"))"],["    #DECL ((",["Localid","OBJ1"]," ",["Localid","OBJ2"],") OBJECT)"],["    <COND (<IN? .",["Localid","OBJ1"]," ,",["Id","HERE"],">"],["\t   .",["Localid","OBJ1"],")"],["\t  (T .",["Localid","OBJ2"],")>>"],[],["<ROUTINE ",["Iddef","PKH"]," (",["Localid","KEYHOLE"]," \"OPTIONAL\" (",["Localid","THIS"]," <>))"],["    #DECL ((",["Localid","KEYHOLE"],") OBJECT (",["Localid","THIS"],") <OR ATOM FALSE>)"],["    <COND (<AND <EQUAL? .",["Localid","KEYHOLE"]," ,",["Id","KEYHOLE-1"],"> <NOT .",["Localid","THIS"],">>"],["\t   ,",["Id","KEYHOLE-2"],")"],["\t  (<AND <NOT <EQUAL? .",["Localid","KEYHOLE"]," ,",["Id","KEYHOLE-1"],">> .",["Localid","THIS"],">"],["\t   ,",["Id","KEYHOLE-2"],")"],["\t  (T ,",["Id","KEYHOLE-1"],")>>"],[],["<ROUTINE ",["Iddef","PKH-FCN"]," (\"AUX\" ",["Localid","OBJ"]," ",["Localid","KH"],")"],["    #DECL ((",["Localid","OBJ"],") OBJECT)"],["    <COND (<VERB? LOOK-INSIDE>"],["\t   <COND (<AND <FSET? ,",["Id","LID-1"]," ,",["Implid","OPENBIT"],">"],["\t\t       <FSET? ,",["Id","LID-2"]," ,",["Implid","OPENBIT"],">"],["\t\t       <NOT <FIRST? ,",["Id","KEYHOLE-1"],">>"],["\t\t       <NOT <FIRST? ,",["Id","KEYHOLE-2"],">>"],["\t\t       <",["Id","LIT?"]," <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","DREARY-ROOM"],">"],["\t\t\t\t    ,",["Id","TINY-ROOM"],")"],["\t\t\t\t   (T ,",["Id","DREARY-ROOM"],")>>>"],["\t\t  <TELL"],[["Str","\"You can see a lighted room at the other end.\""]," CR>)"],["\t\t (T"],["\t\t  <TELL"],[["Str","\"No light can be seen through the keyhole.\""]," CR>)>)"],["\t  (<VERB? PUT>"],["\t   <COND (<FSET? <",["Id","PLID"],"> ,",["Implid","OPENBIT"],">"],["\t\t  <COND (<FIRST? <",["Id","PKH"]," ,",["Id","PRSI"]," T>>"],["\t\t\t <TELL ",["Str","\"The keyhole is blocked.\""]," CR>)"],["\t\t\t(<EQUAL? ,",["Id","PRSO"]," ,",["Id","LETTER-OPENER"]," ,",["Id","KEY"],">"],["\t\t\t <COND (<FIRST? <SET ",["Localid","KH"]," <",["Id","PKH"]," ,",["Id","PRSI"],">>>"],["\t\t\t\t<TELL"],[["Str","\"There is a faint noise from behind the door and a small cloud of"]],[["Str","dust rises from beneath it.\""]," CR>"],["\t\t\t\t<SET ",["Localid","OBJ"]," <FIRST? .",["Localid","KH"],">>"],["\t\t\t\t<REMOVE .",["Localid","OBJ"],">"],["\t\t\t\t<COND (,",["Id","MUD-FLAG"]],["\t\t\t\t       <SETG ",["Id","MATOBJ"]," .",["Localid","OBJ"],">)>"],["\t\t\t\t<RFALSE>)>)"],["\t\t\t(T <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" doesn't fit.\""]," CR>)>)"],["\t\t (T <TELL ",["Str","\"The lid is in the way.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","PLID-FCN"]," ()"],["    <COND (<VERB? OPEN RAISE MOVE>"],["\t   <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t  <TELL <",["Id","RANDOM-ELEMENT"]," ,",["Id","DUMMY"],"> CR>)"],["\t\t (T <TELL ",["Str","\"The lid is now open.\""]," CR>)>"],["\t   <FSET ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">)"],["\t  (<VERB? CLOSE LOWER>"],["\t   <COND (<FIRST? <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","DREARY-ROOM"],">"],["\t\t\t\t ,",["Id","KEYHOLE-2"],")"],["\t\t\t\t(T ,",["Id","KEYHOLE-1"],")>>"],["\t\t  <TELL ",["Str","\"The keyhole is occupied.\""]," CR>)"],["\t\t (T"],["\t\t  <TELL ",["Str","\"The lid covers the keyhole.\""]," CR>"],["\t\t  <FCLEAR ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">)>)"],["\t  (<VERB? LOOK-BEHIND>"],["\t   <TELL ",["Str","\"There's a keyhole behind the lid.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","MUD-FLAG"]," <>>"],[],["<GLOBAL ",["Iddef","MATOBJ"]," <>>"],[],["<GLOBAL ",["Iddef","PUNLOCK-FLAG"]," <>>"],[],["<GLOBAL ",["Iddef","PLOOK-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","ROOM?"]," (",["Localid","OBJ"]," \"AUX\" ",["Localid","NOBJ"],")"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","NOBJ"]," <LOC .",["Localid","OBJ"],">>"],["\t\t <COND (<NOT .",["Localid","NOBJ"],"> <RFALSE>)"],["\t\t       (<EQUAL? .",["Localid","NOBJ"]," ,",["Id","WINNER"],"> <RFALSE>)"],["\t\t       (<EQUAL? .",["Localid","NOBJ"]," ,",["Id","ROOMS"],"> <RETURN .",["Localid","OBJ"],">)>"],["\t\t <SET ",["Localid","OBJ"]," .",["Localid","NOBJ"],">>>"],[],["<ROUTINE ",["Iddef","PALANTIR"]," ()"],["\t <COND (<VERB? LOOK-INSIDE>"],["\t\t<",["Id","PALANTIR-LOOK"]," <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","PALANTIR-1"],">"],["\t\t\t\t      ,",["Id","PALANTIR-2"],")"],["\t\t\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","PALANTIR-2"],">"],["\t\t\t\t      ,",["Id","PALANTIR-3"],")"],["\t\t\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","PALANTIR-3"],">"],["\t\t\t\t      ,",["Id","PALANTIR-1"],")"],["\t\t\t\t     (T ,",["Id","PALANTIR-4"],")>>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"There is something misty in the sphere. Perhaps if you were to look"]],[["Str","into it...\""]," CR>)"],["\t       (<AND <VERB? TAKE> <==? ,",["Id","PRSO"]," ,",["Id","PALANTIR-3"],">>"],["\t\t<PUTP ,",["Id","PRSO"]," ,",["Implid","P?LDESC"]," <>>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","DEAD-PALANTIR"]," (",["Localid","RARG"]," \"AUX\" ",["Localid","P"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are inside a huge crystalline sphere filled with thin \""]],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEAD-PALANTIR-1"],">"],["\t\t       <SET ",["Localid","P"]," ,",["Id","PALANTIR-1"],">"],["\t\t       ",["Str","\"red\""],")"],["\t\t      (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEAD-PALANTIR-2"],">"],["\t\t       <SET ",["Localid","P"]," ,",["Id","PALANTIR-2"],">"],["\t\t       ",["Str","\"blue\""],")"],["\t\t      (T <SET ",["Localid","P"]," ,",["Id","PALANTIR-3"],"> ",["Str","\"white\""],")>"],[["Str","\" mist. The mist becomes \""]],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEAD-PALANTIR-1"],"> ",["Str","\"blue\""],")"],["\t\t      (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEAD-PALANTIR-2"],"> ",["Str","\"white\""],")"],["\t\t      (T ",["Str","\"black\""],")>"],[["Str","\" to the west.\""]," CR>"],["\t\t<TELL ",["Str","\"You strain to look out through the mist... \""]," CR>"],["\t\t<COND (<FSET? .",["Localid","P"]," ,",["Implid","TOUCHBIT"],">"],["\t\t       <",["Id","PALANTIR-LOOK"]," .",["Localid","P"]," T>)"],["\t\t      (<EQUAL? .",["Localid","P"]," ,",["Id","PALANTIR-1"],">"],["\t\t       <TELL"],[["Str","\"You see a small room with a sign on the wall, but it is too blurry to"]],[["Str","read.\""]," CR>)"],["\t\t      (<EQUAL? .",["Localid","P"]," ,",["Id","PALANTIR-2"],">"],["\t\t       <TELL"],[["Str","\"You look out into a large, dreary room with a great door and a huge table."]],[["Str","There is an odd glow to the mist.\""]," CR>)"],["\t\t      (<EQUAL? .",["Localid","P"]," ,",["Id","PALANTIR-3"],">"],["\t\t       <TELL"],[["Str","\"A strange blurry room is barely visible.\""],">"],["\t\t       <COND (<AND <IN? ,",["Id","SERPENT"]," ,",["Id","AQUARIUM"],"> <PROB 25>>"],["\t\t\t      <TELL"],[["Str","\" An odd sinuous shadow crosses the mist as you look.\""],">)>"],["\t\t       <CRLF>)>"],["\t\t<RTRUE>)"],["\t       (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],"> <EQUAL? ,",["Id","HERE"]," ,",["Id","DEAD-PALANTIR-4"],">>"],["\t\t<TELL"],[["Str","\"You follow a corridor of black mist into a black walled spherical"]],[["Str","room.\""],">"],["\t\t<COND (<IN? ,",["Id","GENIE"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t       <TELL"],[["Str","\" The room is empty. A huge face looks down on you from outside and"]],[["Str","laughs sardonically. It doesn't look like you're getting out of this"]],[["Str","predicament!\""]," CR>"],["\t\t       <",["Id","FINISH"],">)>"],["\t\t<TELL"],[["Str","\" As you enter, a huge and horrible face materializes out of the"]],[["Str","mist.|"]],[["Str","|"]],[["Str","\\\"What brings you here to trouble my imprisonment, wanderer?\\\""]],[["Str","it asks. Hearing no immediate answer, it studies you for a moment.\""]," CR>"],[],["\t\t<COND (<NOT <L? ,",["Id","DEATHS"]," 3>>"],["\t\t       <TELL"],[["Str","\"\\\"Not you again! This is getting tedious. You'll obviously never"]],[["Str","be much help to me. Better luck next time, oh wondrous"]],[["Str","adventurer.\\\" The face disappears and everything goes black.\""]," CR>"],["\t\t       <",["Id","FINISH"],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"\\\"Perhaps you may be of some use to me in gaining my freedom from"]],[["Str","this place. Return to your foolish quest! I shall not destroy you"]],[["Str","this time. Mayhap you will repay this favor in kind someday.\\\" The"]],[["Str","face vanishes and the mist begins to swirl. When it clears you are"]],[["Str","returned to the world of life.\""]," CR>"],["\t\t<SETG ",["Id","DEAD"]," <>>"],["\t\t<",["Id","GOTO"]," ,",["Id","INSIDE-BARROW"],">"],["\t\t",["Comment",";<GOTO ,INSIDE-BARROW <>>"]],["\t\t",["Comment",";<TELL CR \"Inside the Barrow\" CR>"]],["\t\t<RTRUE>)>)>>"],[],["<ROUTINE ",["Iddef","GLOBAL-PALANTIRS"]," ()"],["\t <COND (<VERB? LOOK-INSIDE EXAMINE>"],["\t\t<",["Id","DEAD-PALANTIR"]," ,",["Id","M-LOOK"],">)"],["\t       (<VERB? MUNG> <TELL ",["Str","\"The sphere is unbreakable.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","PALANTIR-LOOK"]," (",["Localid","OBJ"]," \"OPTIONAL\" (",["Localid","INSIDE?"]," <>) \"AUX\" ",["Localid","RM"]," ",["Localid","OHERE"],")"],["\t <COND (<EQUAL? .",["Localid","OBJ"]," ,",["Id","PALANTIR-4"],">"],["\t\t<TELL"],[["Str","\"As you peer into the sphere, a strange vision takes shape...a huge and"]],[["Str","fearful face with yellow eyes. The face peers out at you expectantly.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <SET ",["Localid","RM"]," <",["Id","ROOM?"]," .",["Localid","OBJ"],">>"],["\t <COND (<OR <NOT .",["Localid","RM"],"> <NOT <",["Id","LIT?"]," .",["Localid","RM"],">>>"],["\t\t<TELL ",["Str","\"You see only darkness.\""]," CR>)"],["\t       (<OR <IN? .",["Localid","OBJ"]," .",["Localid","RM"],"> <",["Id","SEE-INSIDE?"]," <LOC .",["Localid","OBJ"],">>>"],["\t\t<SET ",["Localid","OHERE"]," ,",["Id","HERE"],">"],["\t\t<COND (.",["Localid","INSIDE?"]],["\t\t       <TELL"],[["Str","\"As you peer through the mist, a strangely colored vision of a"]],[["Str","huge room takes shape...\""]," CR CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"As you peer into the sphere, a strange vision takes shape of"]],[["Str","a distant room, which can be described clearly....\""]," CR CR>)>"],["\t\t<FSET .",["Localid","OBJ"]," ,",["Implid","INVISIBLE"],">"],["\t\t<",["Id","GO&LOOK"]," .",["Localid","RM"],">"],["\t\t<COND (<EQUAL? .",["Localid","OHERE"]," .",["Localid","RM"],">"],["\t\t       <TELL"],[["Str","\"An astonished adventurer is staring into a crystal sphere.\""]," CR>)>"],["\t\t<FCLEAR .",["Localid","OBJ"]," ,",["Implid","INVISIBLE"],">"],["\t\t<COND (<NOT .",["Localid","INSIDE?"],">"],["\t\t       <TELL"],[["Str","\"The vision fades, revealing only an ordinary crystal sphere.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You see only darkness.\""]," CR>)>"],["\t T>"],[],["<ROUTINE ",["Iddef","PWINDOW-FCN"]," ()"],["    <COND (<VERB? LOOK-INSIDE>"],["\t   <SETG ",["Id","PLOOK-FLAG"]," T>"],["\t   <COND (<FSET? ,",["Id","PDOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t  <TELL ",["Str","\"The door is open, dummy.\""]," CR>)"],["\t\t (<EQUAL? ,",["Id","HERE"]," ,",["Id","DREARY-ROOM"],">"],["\t\t  <",["Id","GO&LOOK"]," ,",["Id","TINY-ROOM"],">)"],["\t\t (T <",["Id","GO&LOOK"]," ,",["Id","DREARY-ROOM"],">)>)"],["\t  (<VERB? THROUGH>"],["\t   <TELL ",["Str","\"Perhaps if you were diced....\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","PDOOR-FCN"]," (\"AUX\" ",["Localid","K"],")"],["    <COND (<AND <VERB? LOOK-UNDER> ,",["Id","MUD-FLAG"],">"],["\t   <TELL ",["Str","\"The place mat is under the door.\""]," CR>)"],["\t  (<VERB? UNLOCK>"],["\t   <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","KEY"],">"],["\t\t  <COND (<AND <SET ",["Localid","K"]," <FIRST? <",["Id","PLID"]," ,",["Id","KEYHOLE-1"]," ,",["Id","KEYHOLE-2"],">>>"],["\t\t\t      <NOT <EQUAL? .",["Localid","K"]," ,",["Id","KEY"],">>>"],["\t\t\t <TELL ",["Str","\"The keyhole is blocked.\""]," CR>)"],["\t\t\t(T"],["\t\t\t <TELL ",["Str","\"The door is now unlocked.\""]," CR>"],["\t\t\t <SETG ",["Id","PUNLOCK-FLAG"]," T>)>)"],["\t\t (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GOLD-KEY"],">"],["\t\t  <TELL ",["Str","\"It doesn't fit the lock.\""]," CR>)"],["\t\t (T <TELL ",["Str","\"It can't be unlocked with that.\""]," CR>)>)"],["\t  (<VERB? LOCK>"],["\t   <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","KEY"],">"],["\t\t  <TELL ",["Str","\"The door is locked.\""]," CR>"],["\t\t  <SETG ",["Id","PUNLOCK-FLAG"]," <>>"],["\t\t  T)"],["\t\t (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GOLD-KEY"],">"],["\t\t  <TELL ",["Str","\"It doesn't fit the lock.\""]," CR>)"],["\t\t (T <TELL ",["Str","\"It can't be locked with that.\""]," CR>)>)"],["\t  (<VERB? PUT-UNDER>"],["\t   <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ROBOT-LABEL"],">"],["\t\t  <TELL"],[["Str","\"The paper is very small and vanishes under the door.\""]," CR>"],["\t\t  <MOVE ,",["Id","PRSO"]," <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","TINY-ROOM"],"> ,",["Id","DREARY-ROOM"],")"],["\t\t\t\t    (T ,",["Id","TINY-ROOM"],")>>)"],["\t\t (<EQUAL? ,",["Id","PRSO"]," ,",["Id","NEWSPAPER"],">"],["\t\t  <TELL"],[["Str","\"The newspaper crumples up and won't go under the door.\""]," CR>)>)"],["\t  (<VERB? OPEN CLOSE>"],["\t   <COND (,",["Id","PUNLOCK-FLAG"]],["\t\t  <",["Id","OPEN-CLOSE"]," ,",["Id","PRSO"]],["\t\t       ",["Str","\"The door is now open.\""]],["\t\t       ",["Str","\"The door is now closed.\""],">)"],["\t\t (T <TELL ",["Str","\"The door is locked.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","PKEY-FCN"]," ()"],["    <COND (<VERB? TURN>"],["\t   <COND (,",["Id","PUNLOCK-FLAG"]],["\t\t  <",["Id","PERFORM"]," ,V?LOCK ,",["Id","PDOOR"]," ,",["Id","PRSO"],">)"],["\t\t (T"],["\t\t  <",["Id","PERFORM"]," ,V?UNLOCK ,",["Id","PDOOR"]," ,",["Id","PRSO"],">)>)>>"],[],["<ROUTINE ",["Iddef","PLACE-MAT-FCN"]," ()"],["    <COND (<VERB? PUT-UNDER>"],["\t   <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PDOOR"],">"],["\t          <TELL ",["Str","\"The place mat fits easily under the door.\""]," CR>"],["\t          <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t          <SETG ",["Id","MUD-FLAG"]," T>)"],["\t\t (<EQUAL? ,",["Id","PRSI"]," ,",["Id","WIZ-DOOR"]," ,",["Id","RIDDLE-DOOR"]," ,",["Id","CRYPT-DOOR"],">"],["\t          <TELL ",["Str","\"There's not enough room under this door.\""]," CR>)>)"],["\t  (<AND <VERB? TAKE MOVE> ,",["Id","MATOBJ"],">"],[" \t   <MOVE ,",["Id","MATOBJ"]," ,",["Id","HERE"],">"],["\t   <TELL ",["Str","\"As the place mat is moved, a \""]],["\t\t D"],["\t\t ,",["Id","MATOBJ"]],["\t\t ",["Str","\" falls from it and onto the floor.\""]," CR>"],["\t   <SETG ",["Id","MATOBJ"]," <>>"],["\t   <SETG ",["Id","MUD-FLAG"]," <>>"],["\t   <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","WISH-FCN"]," ()"],["\t <COND (<VERB? MAKE>"],["\t        <COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","WELL-BOTTOM"],">"],["\t\t\t    <IN? ,",["Id","COIN"]," ,",["Id","HERE"],">>"],["\t\t       <TELL"],[["Str","\"A whispering voice replies: \\\"Water makes the bucket go.\\\""]],[["Str","Unfortunately, wishing makes the coin go....\""]," CR>"],["\t\t      <REMOVE ,",["Id","COIN"],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"No one is listening.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","WELL-FCN"]," ()"],["    \t<COND (<AND <FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],"> <VERB? THROW PUT DROP>>"],["\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]],["\t\t     ",["Str","\" is now sitting at the bottom of the well.\""]," CR>"],["\t       <MOVE ,",["Id","PRSO"]," ,",["Id","WELL-BOTTOM"],">)"],["\t      (<VERB? CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t       <TELL ",["Str","\"You can't climb the well.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","MATCH-COUNT"]," 6>"],[],["<ROUTINE ",["Iddef","MATCH-FCN"]," ( \"AUX\" ",["Localid","CNT"],")"],["\t <COND (<AND <VERB? LAMP-ON BURN> <EQUAL? ,",["Id","PRSO"]," ,",["Id","MATCH"],">>"],["\t\t<COND (<G? ,",["Id","MATCH-COUNT"]," 0>"],["\t\t       <SETG ",["Id","MATCH-COUNT"]," <- ,",["Id","MATCH-COUNT"]," 1>>)>"],["\t\t<COND (<NOT <G? ,",["Id","MATCH-COUNT"]," 0>>"],["\t\t       <TELL"],["\t\t\t",["Str","\"I'm afraid you have run out of matches.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,",["Id","MATCH"]," ,",["Implid","FLAMEBIT"],">"],["\t\t       <FSET ,",["Id","MATCH"]," ,",["Implid","ONBIT"],">"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-MATCH"]," 2>>"],["\t\t       <TELL ",["Str","\"One of the matches starts to burn.\""]," CR>)>)"],["\t       (<AND <VERB? LAMP-OFF> <FSET? ,",["Id","MATCH"]," ,",["Implid","FLAMEBIT"],">>"],["\t\t<TELL ",["Str","\"The match is out.\""]," CR>"],["\t\t<FCLEAR ,",["Id","MATCH"]," ,",["Implid","FLAMEBIT"],">"],["\t\t<FCLEAR ,",["Id","MATCH"]," ,",["Implid","ONBIT"],">"],["\t\t<",["Id","QUEUE"]," ",["Id","I-MATCH"]," 0>"],["\t\tT)"],["\t       (<VERB? COUNT>"],["\t\t<TELL ",["Str","\"You have \""],">"],["\t\t<SET ",["Localid","CNT"]," <- ,",["Id","MATCH-COUNT"]," 1>>"],["\t\t<TELL N .",["Localid","CNT"]," ",["Str","\" match\""],">"],["\t\t<COND (<NOT <1? .",["Localid","CNT"],">> <TELL ",["Str","\"es.\""],">) (T <TELL ",["Str","\".\""],">)>"],["\t\t<CRLF>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND (<FSET? ,",["Id","MATCH"]," ,",["Implid","ONBIT"],">"],["\t\t       <TELL ",["Str","\"A match is burning.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"No match is burning.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","I-MATCH"]," ()"],["\t <TELL ",["Str","\"The match has gone out.\""]," CR>"],["\t <FCLEAR ,",["Id","MATCH"]," ,",["Implid","FLAMEBIT"],">"],["\t <FCLEAR ,",["Id","MATCH"]," ,",["Implid","ONBIT"],">>"],[],[],["<GLOBAL ",["Iddef","LAMP-TABLE"]],["\t<TABLE 300"],["\t       ",["Str","\"The lamp appears a bit dimmer.\""]],["\t       100"],["\t       ",["Str","\"The lamp is definitely dimmer now.\""]],["\t       50"],["\t       ",["Str","\"The lamp is nearly out.\""]],["\t       0>>"],[],["<ROUTINE ",["Iddef","LANTERN"]," ()"],["\t <COND (<AND <VERB? THROW> <==? ,",["Id","PRSO"]," ,",["Id","LAMP"],">>"],["\t\t<TELL"],[["Str","\"The lamp has smashed into the floor, and the light has gone out.\""]," CR>"],["\t\t<DISABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t\t<REMOVE ,",["Id","LAMP"],">"],["\t\t<MOVE ,",["Id","BROKEN-LAMP"]," ,",["Id","HERE"],">)"],["\t       (<VERB? LAMP-ON>"],["\t\t<COND (<FSET? ,",["Id","LAMP"]," ,",["Implid","RMUNGBIT"],">"],["\t\t       <TELL ",["Str","\"A burned-out lamp won't light.\""]," CR>)"],["\t\t      (T"],["\t\t       <ENABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t\t       <>)>)"],["\t       (<VERB? LAMP-OFF>"],["\t\t<COND (<FSET? ,",["Id","LAMP"]," ,",["Implid","RMUNGBIT"],">"],["\t\t       <TELL ",["Str","\"The lamp has already burned out.\""]," CR>)"],["\t\t      (T"],["\t\t       <DISABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t\t       <>)>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND (<FSET? ,",["Id","LAMP"]," ,",["Implid","RMUNGBIT"],">"],["\t\t       <TELL ",["Str","\"The lamp has burned out.\""],">)"],["\t\t      (<FSET? ,",["Id","LAMP"]," ,",["Implid","ONBIT"],">"],["\t\t       <TELL ",["Str","\"The lamp is on.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The lamp is turned off.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","LIGHT-INT"]," (",["Localid","OBJ"]," ",["Localid","INTNAM"]," ",["Localid","TBLNAM"]," \"AUX\" (",["Localid","TBL"]," <VALUE .",["Localid","TBLNAM"],">) ",["Localid","TICK"],")"],["\t #DECL ((",["Localid","OBJ"],") OBJECT (",["Localid","TBLNAM"]," ",["Localid","INTNAM"],") ATOM (",["Localid","TBL"],") <PRIMTYPE VECTOR>"],["\t\t(",["Localid","TICK"],") FIX)"],["\t <ENABLE <",["Id","QUEUE"]," .",["Localid","INTNAM"]," <SET ",["Localid","TICK"]," <GET .",["Localid","TBL"]," 0>>>>"],["\t <COND (<0? .",["Localid","TICK"],">"],["\t\t<FSET .",["Localid","OBJ"]," ,",["Implid","RMUNGBIT"],">"],["\t\t<FCLEAR .",["Localid","OBJ"]," ,",["Implid","ONBIT"],">)>"],["\t <COND (<OR <",["Id","HELD?"]," .",["Localid","OBJ"],"> <IN? .",["Localid","OBJ"]," ,",["Id","HERE"],">>"],["\t\t<COND (<0? .",["Localid","TICK"],">"],["\t\t       <TELL"],[["Str","\"I hope you have more light than from the \""]," D .",["Localid","OBJ"]," ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL <GET .",["Localid","TBL"]," 1> CR>)>)>"],["\t <COND (<NOT <0? .",["Localid","TICK"],">>"],["\t\t<SETG .",["Localid","TBLNAM"]," <REST .",["Localid","TBL"]," 4>>)>"],["\t <RTRUE>>"],[],[["Comment",";\"Riddles\""]],[],["<ROUTINE ",["Iddef","RIDDLE-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a room which is bare on all sides. There is an exit down in"]],[["Str","the northwest corner of the room. To the east is a great \""],">"],["\t\t<COND (<FSET? ,",["Id","RIDDLE-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"open\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"closed\""],">)>"],["\t\t<TELL ",["Str","\" door made of"]],[["Str","stone. Above the stone, the following words are written: \\\"No man shall"]],[["Str","pass this door without solving this riddle:|"]],[["Str","|"]],[["Str","  What is tall as a house,|"]],[["Str","    round as a cup,|"]],[["Str","      and all the king's horses|"]],[["Str","        can't draw it up?\\\"|"]],[["Str","\""],">)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<VERB? ANSWER SAY>"],["\t\t       <COND (<FSET? ,",["Id","RIDDLE-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t\t      <RFALSE>)"],["\t\t\t     (<OR <EQUAL? <GET ,",["Id","P-LEXV"]," ,",["Id","P-CONT"],"> ,W?WELL>"],["\t\t\t\t  <EQUAL? <GET ,",["Id","P-LEXV"]," <+ ,",["Id","P-CONT"]," 2>> ,W?WELL>>"],["\t\t\t      <TELL"],[["Str","\"There is a deafening clap of thunder and the stone door"]],[["Str","quietly swings open to reveal a passageway beyond.\""]," CR>"],["\t\t\t      <",["Id","SCORE-UPD"]," 5>"],["\t\t\t      <FSET ,",["Id","RIDDLE-DOOR"]," ,",["Implid","OPENBIT"],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"A hollow laugh seems to come from the stone door.\""]," CR>)>"],["\t\t      <SETG ",["Id","P-CONT"]," <>>"],["\t\t      <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t      <RTRUE>)>)>>"],[],["<ROUTINE ",["Iddef","RIDDLE-DOOR-FCN"]," ()"],["\t <COND (<VERB? OPEN>"],["\t\t<COND (<FSET? ,",["Id","RIDDLE-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"It is open!\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The door can only be opened by answering the riddle.\""]," CR>)>)"],["\t       (<VERB? CLOSE>"],["\t\t<COND (<FSET? ,",["Id","RIDDLE-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"Not a chance. The door weighs many tons.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"It is closed!\""]," CR>)>)>>"],[],["<GLOBAL ",["Iddef","DUMMY"]],["\t<LTABLE ",["Str","\"Look around.\""]],["\t       ",["Str","\"You think it isn't?\""]],["\t       ",["Str","\"I think you've already done that.\""],">>"],[],["<ROUTINE ",["Iddef","RIDDLE-PSEUDO"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"Use the \\\"Look\\\" command.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","MAGIC-ACTOR"]," (\"AUX\" ",["Localid","V"],")"],["\t <COND (,",["Id","SPELL?"]],["\t\t<COND (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FALL"],">"],["\t\t       <COND (<OR <VERB? CLIMB-UP CLIMB-DOWN CROSS>"],["\t\t\t\t  <AND <VERB? WALK>"],["\t\t\t\t       <GETPT ,",["Id","HERE"]," ,",["Implid","P?DOWN"],">>>"],["\t\t\t      <SET ",["Localid","V"]," <GETPT ,",["Id","HERE"]," ,",["Implid","P?GLOBAL"],">>"],["\t\t\t      <COND (<",["Id","ZMEMQB"]," ,",["Id","BRIDGE"]," .",["Localid","V"]," <PTSIZE .",["Localid","V"],">>"],["\t\t\t\t     <",["Id","JIGS-UP"]],[["Str","\"You find yourself drawn toward the edge of the bridge. You peer over"]],[["Str","the side. Oops, that was clumsy of you! You tripped on something and"]],[["Str","fell in. Too bad.\""],">)"],["\t\t\t\t    (<PROB 25>"],["\t\t\t\t     <",["Id","JIGS-UP"]],[["Str","\"For some odd reason you have tripped on your own feet, or perhaps an"]],[["Str","invisible cord stretched across the path. The resulting fall seems to"]],[["Str","have done you in.\""],">)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL"],[["Str","\"You just tripped on an invisible cord, or perhaps your own feet. But"]],[["Str","this must be your lucky day, as you managed to regain your balance"]],[["Str","before what could have been a fatal fall.\""]," CR>)>)"],["\t\t\t     (<VERB? BOARD>"],["\t\t\t      <TELL"],[["Str","\"You get in the \""]," D ,",["Id","PRSO"]," ",["Str","\" but you fall out again, almost as though"]],[["Str","an invisible hand had tipped it over.\""]," CR>)>)"],["\t\t      (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FLOAT"],">"],["\t\t       <COND (<VERB? DIAGNOSE WAIT> <RFALSE>)"],["\t\t\t     (<VERB? WALK>"],["<TELL ",["Str","\"I suppose you plan to do that by flapping your arms?\""]," CR>)"],["\t\t\t     (<VERB? DROP>"],["\t\t\t      <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" drops to the ground.\""]," CR>)"],["\t\t\t     (<AND <VERB? TAKE> <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">>"],["\t\t\t      <TELL"],[["Str","\"You can't reach that! It's on the ground.\""]," CR>)>)"],["\t\t      (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FREEZE"],">"],["\t\t       <COND (<VERB? DIAGNOSE WAIT> <RFALSE>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You are frozen solid. You might as well wait it out, because you"]],[["Str","can't do anything else in this state.\""]," CR>)>)"],["\t\t      (<AND <EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FENCE"],">"],["\t\t\t    <VERB? WALK>>"],["\t\t       <TELL"],[["Str","\"An invisible fence of magical force bars your way.\""]," CR>"],["\t\t       <RTRUE>)"],["\t\t      (<AND <EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FIERCE"],">"],["\t\t\t    <SET ",["Localid","V"]," <",["Id","INFESTED?"]," ,",["Id","HERE"],">>>"],["\t\t       <COND (<VERB? ATTACK MUNG> <RFALSE>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","FORCE-FIGHT"]," .",["Localid","V"],">"],["\t\t\t      <RTRUE>)>)"],["\t\t      (<AND <EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FERMENT"],">"],["\t\t\t    <VERB? WALK>"],["\t\t\t    <IN? ,",["Id","WINNER"]," ,",["Id","HERE"],">>"],["\t\t       <TELL"],[["Str","\"Oops, you seem a little unsteady... I'm not sure you got where"]],[["Str","you intended going.\""]," CR CR>"],["\t\t       <",["Id","RANDOM-WALK"],">)"],["\t\t      (<AND <EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FEAR"],">"],["\t\t\t    <SET ",["Localid","V"]," <",["Id","INFESTED?"]," ,",["Id","HERE"],">>>"],["\t\t       <TELL"],[["Str","\"All at once, you are overcome by fear! There's is a \""]," D .",["Localid","V"]," ",["Str","\" in here!"]],[["Str","Maybe it's after you! \""],">"],["\t\t       <COND (<FSET? <LOC ,",["Id","WINNER"],"> ,",["Implid","VEHBIT"],">"],["\t\t\t      <TELL"],[["Str","\"You huddle in the corner, terrified.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You run from the room screaming in terror!\""]," CR CR>"],["\t\t\t      <",["Id","RANDOM-WALK"],">)>)>)>>"],[],["<ROUTINE ",["Iddef","RANDOM-WALK"]," (\"AUX\" ",["Localid","P"]," ",["Localid","TX"]," ",["Localid","L"]," ",["Localid","S"]," (",["Localid","D"]," <>))"],["\t <SET ",["Localid","P"]," 0>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","P"]," <NEXTP ,",["Id","HERE"]," .",["Localid","P"],">> ,",["Id","LOW-DIRECTION"],">"],["\t\t\t<COND (.",["Localid","D"]],["\t\t\t       <SET ",["Localid","S"]," ,",["Id","SPELL?"],">"],["\t\t\t       <SETG ",["Id","SPELL?"]," <>>"],["\t\t\t       <SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t\t       <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t\t       <",["Id","DO-WALK"]," .",["Localid","D"],">"],["\t\t\t       <SETG ",["Id","SPELL?"]," .",["Localid","S"],">)>"],["\t\t\t<RETURN>)"],["\t\t       (T"],["\t\t\t<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","P"],">>"],["\t\t\t<SET ",["Localid","L"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t\t<COND (<OR <EQUAL? .",["Localid","L"]," ,",["Id","UEXIT"],">"],["\t\t\t\t   <AND <EQUAL? .",["Localid","L"]," ,",["Id","CEXIT"],">"],["\t\t\t\t\t<VALUE <GETB .",["Localid","TX"]," ,",["Id","CEXITFLAG"],">>>"],["\t\t\t\t   <AND <EQUAL? .",["Localid","L"]," ,",["Id","DEXIT"],">"],["\t\t\t\t\t<FSET? <GETB .",["Localid","TX"]," ,",["Id","DEXITOBJ"],"> ,",["Implid","OPENBIT"],">>>"],["\t\t\t       <COND (<NOT .",["Localid","D"],"> <SET ",["Localid","D"]," .",["Localid","P"],">)"],["\t\t\t\t     (<PROB 50> <SET ",["Localid","D"]," .",["Localid","P"],">)>)>)>>>"],[],["<ROUTINE ",["Iddef","FORCE-FIGHT"]," (",["Localid","V"]," \"AUX\" ",["Localid","W"],")"],["\t <COND (<NOT <SET ",["Localid","W"]," <",["Id","FIND-IN"]," ,",["Id","ADVENTURER"]," ,",["Implid","WEAPONBIT"],">>>"],["\t\t<SET ",["Localid","W"]," ,",["Id","HANDS"],">)>"],["\t <TELL"],[["Str","\"You are maddened by an overwhelming ferocity, and attack the \""]],["D .",["Localid","V"]," ",["Str","\" instead.\""]," CR>"],["\t <",["Id","PERFORM"]," ,V?ATTACK .",["Localid","V"]," .",["Localid","W"],">>"],[],["\\"],[],[["Str","\"SUBTITLE DIAMOND MAZE\""]],[],["<GLOBAL ",["Iddef","DIAMOND-SOLVE"]," <>> ",["Comment",";\"T if solved\""]],[],["<GLOBAL ",["Iddef","DIAMOND-COUNT"]," 0>  ",["Comment",";\"count of current progress\""]],["<GLOBAL ",["Iddef","DIAMOND-MOVES"]," 0>  ",["Comment",";\"count of moves since progressed\""]],["<GLOBAL ",["Iddef","DIAMOND-BASE"]," 0>\t  ",["Comment",";\"count of maximum progress ever\""]],[],["<GLOBAL ",["Iddef","DWDESCS"]],["\t<TABLE ",["Str","\"dark\""]],["\t       ",["Str","\"flickering dimly\""]],["\t       ",["Str","\"dimly glowing\""]],["\t       ",["Str","\"glowing\""]],["\t       ",["Str","\"glowing brightly\""],">>"],[],["<ROUTINE ",["Iddef","DWINDOW-DESC"]," ()"],["\t <TELL"],[["Str","\"On the floor is a very small diamond shaped window which is \""],">"],["\t <COND (,",["Id","DIAMOND-SOLVE"]," <TELL ",["Str","\"glowing serenely\""],">)"],["\t       (T <TELL <GET ,",["Id","DWDESCS"]," ,",["Id","DIAMOND-COUNT"],">>)>"],["\t <TELL ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","DWINDOW-FCN"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"The window is an integral part of the floor.\""]," CR>)"],["\t       (<VERB? MUNG>"],["\t\t<TELL"],[["Str","\"The window is diamond-hard and cannot be broken.\""]," CR>)"],["\t       (<VERB? EXAMINE LOOK-INSIDE>"],["\t\t<",["Id","DWINDOW-DESC"],">)>>"],[],["<ROUTINE ",["Iddef","DIAMOND-MOTION"]," (",["Localid","RARG"]," \"AUX\" ",["Localid","DC"]," ",["Localid","DIR"]," ",["Localid","RM"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a room with oddly angled walls and passages in all directions."]],[["Str","The walls are made of some glassy substance.\""]," CR>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-5"],">"],["\t\t       <TELL"],[["Str","\"A marble stairway leads upward.\""],">"],["\t\t       <COND (,",["Id","DIAMOND-SOLVE"]],["\t\t\t      <TELL"],[["Str","\" The floor has swung down at the end of the stairway to reveal a secret"]],[["Str","passage leading down into unrelieved darkness.\""],">)>"],["\t\t       <CRLF>)"],["\t\t      (T <",["Id","DWINDOW-DESC"],">)>"],["\t\t<RTRUE>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-FLASH"],"> <",["Id","DWINDOW-DESC"],"> <RTRUE>)"],["\t       (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t     <VERB? WALK>"],["\t\t     <NOT ,",["Id","DIAMOND-SOLVE"],">>"],["\t\t<COND (<OR <EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-2"]," ,",["Id","DIAMOND-4"],">"],["\t\t\t   <EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-6"]," ,",["Id","DIAMOND-8"],">>"],["\t\t       <SET ",["Localid","DIR"]," <GET ,",["Id","DIDIRS"]," <- ,",["Id","DIAMOND-COUNT"]," 1>>>"],["\t\t       <COND (<EQUAL? ,",["Id","PRSO"]," .",["Localid","DIR"],">"],["\t\t\t      <SETG ",["Id","DIAMOND-COUNT"]," <+ ,",["Id","DIAMOND-COUNT"]," 1>>"],["\t\t\t      <COND (<G? ,",["Id","DIAMOND-COUNT"]," ,",["Id","DIAMOND-BASE"],">"],["\t\t\t\t     <SETG ",["Id","DIAMOND-BASE"]," ,",["Id","DIAMOND-COUNT"],">"],["\t\t\t\t     <SETG ",["Id","DIAMOND-MOVES"]," 0>)>"],["\t\t\t      <COND (<EQUAL? ,",["Id","DIAMOND-COUNT"]," 5>"],["\t\t\t\t     <TELL"],[["Str","\"You hear a strange rusty squeal echoing in the distance.\""]," CR>"],["\t\t\t\t     <FCLEAR ,",["Id","DIAMOND-5"]," ,",["Implid","TOUCHBIT"],">"],["\t\t\t\t     <",["Id","SCORE-UPD"]," 5>"],["\t\t\t\t     <SETG ",["Id","DIAMOND-SOLVE"]," T>)>"],["\t\t\t      <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-2"],">"],["\t\t\t\t     <SET ",["Localid","DIR"]," ,",["Id","DIAMOND-4"],">)"],["\t\t\t\t    (<EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-4"],">"],["\t\t\t\t     <SET ",["Localid","DIR"]," ,",["Id","DIAMOND-8"],">)"],["\t\t\t\t    (<EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-8"],">"],["\t\t\t\t     <SET ",["Localid","DIR"]," ,",["Id","DIAMOND-6"],">)"],["\t\t\t\t    (<EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-6"],">"],["\t\t\t\t     <SET ",["Localid","DIR"]," ,",["Id","DIAMOND-2"],">)>"],["\t\t\t      <",["Id","GOTO"]," .",["Localid","DIR"],">)"],["\t\t\t     (T"],["\t\t\t      <",["Id","DIAMOND-LOSS"],">)>"],["\t\t       <RTRUE>)"],["\t\t      (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","DIAMOND-5"],">"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?UP"],">>"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <SETG ",["Id","DIAMOND-COUNT"]," 0>"],["\t\t       <COND (<PROB 33>"],["\t\t\t      <TELL"],[["Str","\"There is no way to go in that direction.\""]," CR>"],["\t\t\t      <RTRUE>)"],["\t\t\t     (<PROB 25>"],["\t\t\t      <",["Id","DIAMOND-LOSS"],">"],["\t\t\t      <RTRUE>)"],["\t\t\t     (T"],["\t\t\t      <SETG ",["Id","DIAMOND-COUNT"]," 1>"],["\t\t\t      <COND (<G? ,",["Id","DIAMOND-COUNT"]," ,",["Id","DIAMOND-BASE"],">"],["\t\t\t\t     <SETG ",["Id","DIAMOND-BASE"]," ,",["Id","DIAMOND-COUNT"],">"],["\t\t\t\t     <SETG ",["Id","DIAMOND-MOVES"]," 0>)>"],["\t\t\t      <SET ",["Localid","RM"]," <GET ,",["Id","DIAMOND-ROOMS"]],["\t\t\t\t\t   <- <RANDOM 4> 1>>>"],["\t\t\t      <COND (<FSET? ,",["Id","BAT"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t\t     <FCLEAR ,",["Id","BAT"]," ,",["Implid","INVISIBLE"],">"],["\t\t\t\t     <MOVE ,",["Id","BAT"]," .",["Localid","RM"],">)>"],["\t\t\t      <",["Id","GOTO"]," .",["Localid","RM"],">"],["\t\t\t      <RTRUE>)>)>)>>"],[],["<ROUTINE ",["Iddef","DIAMOND-LOSS"]," ()"],["\t <SETG ",["Id","DIAMOND-MOVES"]," <+ ,",["Id","DIAMOND-MOVES"]," 1>>"],["\t <COND (<EQUAL? ,",["Id","DIAMOND-MOVES"]," 20>"],["\t\t<TELL"],[["Str","\"As you thrash about in the maze, the mirthful voice of the Wizard"]],[["Str","taunts you: \\\"Fool! You'll never get past \""],">"],["\t\t<TELL <GET ,",["Id","BASES"]," ,",["Id","DIAMOND-BASE"],">>"],["\t\t<TELL ",["Str","\" base at this rate!\\\"\""]," CR>)>"],["\t <",["Id","GOTO"]," <GET ,",["Id","DIAMOND-ROOMS"]," <+ 3 <RANDOM 5>>>>>"],[],["<GLOBAL ",["Iddef","BASES"]," <TABLE ",["Str","\"first\""]," ",["Str","\"first\""]," ",["Str","\"first\""]," ",["Str","\"second\""]," ",["Str","\"third\""]," ",["Str","\"home\""],">>"],[],["<GLOBAL ",["Iddef","DIAMOND-ROOMS"]],["\t<TABLE ",["Id","DIAMOND-2"]," ",["Id","DIAMOND-4"]," ",["Id","DIAMOND-6"]," ",["Id","DIAMOND-8"]],["\t       ",["Id","DIAMOND-1"]," ",["Id","DIAMOND-3"]," ",["Id","DIAMOND-5"]," ",["Id","DIAMOND-7"]," ",["Id","DIAMOND-9"],">>"],[],["<GLOBAL ",["Iddef","DIDIRS"]," <TABLE ",["Implid","P?SE"]," ",["Implid","P?NE"]," ",["Implid","P?NW"]," ",["Implid","P?SW"],">>"],[],["\\"],[],[["Str","\"SUBTITLE CERBERUS\""]],[],["<GLOBAL ",["Iddef","CERBERUS-LEASHED"]," <>>"],[],["<ROUTINE ",["Iddef","CERBERUS-FCN"]," ()"],["\t <COND (<AND <VERB? WAVE RUB RAISE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","WAND"],">>"],["\t\t<TELL ",["Str","\"The dog looks puzzled.\""]," CR>"],["\t\t<RFALSE>)"],["\t       (<AND ,",["Id","WAND-ON"]," <VERB? SAY INCANT>> <RFALSE>)"],["\t       (<",["Id","HELLO?"]," ,",["Id","CERBERUS"],">"],["\t\t<COND (,",["Id","CERBERUS-LEASHED"]," <TELL ",["Str","\"\\\"Arf! Arf! Arf!\\\"\""]," CR>)"],["\t\t      (T <TELL ",["Str","\"\\\"Grrrr!\\\"\""]," CR>)>)"],["\t       (<VERB? ATTACK MUNG STAB>"],["\t\t<COND (,",["Id","CERBERUS-LEASHED"]],["\t\t       <REMOVE ,",["Id","CERBERUS"],">"],["\t\t       <TELL"],[["Str","\"With a quiet bark of disappointment, the creature expires."]],[["Str","Its six eyes look at you reproachfully. As it dies, it collapses"]],[["Str","into a small pile of dust which blows away into nothing.\""]," CR>)"],["\t\t      (<PROB 50>"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"The dog-thing snaps at you viciously, and succeeds. Your head, it seems,"]],[["Str","is only a small mouthful for the poor animal, who is just as hungry"]],[["Str","afterward.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The maddened dog-thing snaps viciously at you.\""]," CR>)>)"],["\t       (<AND <VERB? PUT PUT-ON> <EQUAL? ,",["Id","PRSO"]," ,",["Id","COLLAR"],">>"],["\t\t<MOVE ,",["Id","COLLAR"]," ,",["Id","CERBERUS"],">"],["\t\t<FSET ,",["Id","COLLAR"]," ,",["Implid","NDESCBIT"],">"],["\t\t<FSET ,",["Id","COLLAR"]," ,",["Implid","TRYTAKEBIT"],">"],["\t\t<PUTP ,",["Id","CERBERUS"]," ,",["Implid","P?LDESC"]],[["Str","\"An insipidly grinning three-headed dog is wagging its tail here."]],[["Str","It is wearing a huge dog collar.\""],">"],["\t\t<SETG ",["Id","CERBERUS-LEASHED"]," T>"],["\t\t<TELL"],[["Str","\"The creature whines happily, then the center head"]],[["Str","licks your face (which is roughly like experiencing a sandpaper"]],[["Str","washcloth). The other two heads look about, as though the"]],[["Str","monster felt a sudden need to find a pair of slippers somewhere."]],[["Str","Its huge tail wags enthusiastically, knocking small rocks"]],[["Str","around and almost blowing you over from the breeze it creates.\""]," CR>)"],["\t       (<VERB? ENCHANT>"],["\t\t<COND (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>"],["\t\t       <SETG ",["Id","SPELL-HANDLED?"]," T>"],["\t\t       <TELL"],[["Str","\"The huge dog rises about an inch off the ground, for a moment.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FIERCE>"],["\t\t       <SETG ",["Id","SPELL-HANDLED?"]," T>"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"Cerberus tears you limb from limb! What ferocity!\""],">)"],["\t\t      (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FEEBLE>"],["\t\t       <TELL"],[["Str","\"What an effect! He now has the strength of just one elephant, rather"]],[["Str","than ten!\""]," CR>)>)"],["\t       (<NOT ,",["Id","CERBERUS-LEASHED"],">"],["\t\t<TELL ",["Str","\"The three-headed dog snaps at you viciously!\""]," CR>)"],["\t       (<AND ,",["Id","CERBERUS-LEASHED"]," <VERB? RUB>>"],["\t\t<TELL"],[["Str","\"The dog is now insanely happy, slobbering all over the place and"]],[["Str","whining with uncontained doggish joy.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","COLLAR-FCN"]," ()"],["\t <COND (<AND <VERB? TAKE> ,",["Id","CERBERUS-LEASHED"],">"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"That wasn't such a good idea. The creature was enjoying being your pet."]],[["Str","As you unfasten the collar, the disappointed monster hound begins to growl,"]],[["Str","and then its three fang-crammed mouths rend you into little doggy biscuits.\""],">)"],["\t       (<AND <VERB? ENCHANT> <EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>>"],["\t\t<",["Id","PERFORM"]," ,V?ENCHANT ,",["Id","CERBERUS"],">"],["\t\t<RTRUE>)>>"],[],["\\"],[],[["Str","\"SUBTITLE DRAGON AND GLACIER\""]],[],["<GLOBAL ",["Iddef","ICE-MELTED"]," <>>"],[],["<ROUTINE ",["Iddef","GLACIER-FCN"]," ()"],["\t <COND (<VERB? MELT>"],["\t\t<TELL"],[["Str","\"This is a big glacier; you'll need a lot of heat.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","GLACIER-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a large hall of ancient lava, since worn smooth by the movement"]],[["Str","of a glacier. A large passage exits to the east and an upward lava tube"]],[["Str","is at the top of a jumble of fallen rocks.\""]," CR>"],["\t\t<COND (,",["Id","ICE-MELTED"]],["\t\t       <TELL"],[["Str","\"A damp and scorched passage leads west. It is still partly full of"]],[["Str","steam.\""]," CR>)>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","DRAGON-FCN"]," ()"],["\t <ENABLE <",["Id","QUEUE"]," ",["Id","I-DRAGON"]," -1>>"],["\t <COND (<",["Id","HELLO?"]," ,",["Id","DRAGON"],">"],["\t\t<TELL"],[["Str","\"The dragon looks amused. He speaks in a voice so deep you feel it"]],[["Str","rather than hear it, but the tongue is unknown to you. You find"]],[["Str","yourself almost hypnotized.\""]," CR>"],["\t\t<SETG ",["Id","DRAGON-ANGER"]," <+ ,",["Id","DRAGON-ANGER"]," 2>>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"He turns and looks back at you, his cat's eyes yellow in the gloom."]],[["Str","You start to feel weak, and quickly turn away.\""]," CR>"],["\t\t<SETG ",["Id","DRAGON-ANGER"]," <+ ,",["Id","DRAGON-ANGER"]," 1>>)"],["\t       (<VERB? ATTACK MUNG KICK LAMP-ON>"],["\t\t<COND (<OR <VERB? LAMP-ON>"],["\t\t\t   <AND <VERB? ATTACK> <NOT ,",["Id","PRSI"],">>>"],["\t\t       <TELL"],[["Str","\"With your bare hands? I doubt the dragon even noticed.\""]," CR>)"],["\t\t      (T"],["\t\t<TELL <",["Id","RANDOM-ELEMENT"]," ,",["Id","DRAGON-ATTACKS"],"> CR>)>"],["\t\t<SETG ",["Id","DRAGON-ANGER"]," <+ ,",["Id","DRAGON-ANGER"]," 4>>)"],["\t       (<AND <VERB? GIVE> <EQUAL? ,",["Id","PRSI"]," ,",["Id","DRAGON"],">>"],["\t\t<SETG ",["Id","DRAGON-ANGER"]," <+ ,",["Id","DRAGON-ANGER"]," 1>>"],["\t\t<COND (<GETPT ,",["Id","PRSO"]," ,",["Implid","P?VALUE"],">"],["\t\t       <MOVE ,",["Id","PRSO"]," ,",["Id","CHEST"],">"],["\t\t       <TELL"],[["Str","\"The dragon is pleased by your gift, excuses himself for a moment,"]],[["Str","and returns without it.\""]," CR>)"],["\t\t      (<",["Id","BOMB?"]," ,",["Id","PRSO"],">"],["\t\t       <SETG ",["Id","DRAGON-ANGER"]," <+ ,",["Id","DRAGON-ANGER"]," 2>>"],["\t\t       <REMOVE ,",["Id","BRICK"],">"],["\t\t       <TELL"],[["Str","\"The dragon snakes his long red tongue around the bomb and politely"]],[["Str","swallows it. A few moments later he belches and smoke curls out of"]],[["Str","his nostrils.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The dragon refuses your gift.\""]," CR>)>)"],["\t       (<AND <VERB? WALK>"],["\t\t     <EQUAL? ,",["Id","HERE"]," ,",["Id","DRAGON-ROOM"],">"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Implid","P?NORTH"],">>"],["\t\t<SETG ",["Id","DRAGON-ANGER"]," <+ ,",["Id","DRAGON-ANGER"]," 3>>"],["\t\t<TELL"],[["Str","\"The dragon puts out a claw, grins (all of his sword-sharp teeth"]],[["Str","glinting in the light), and blocks your way.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","DRAGON-ANGER"]," 0>"],[],["<GLOBAL ",["Iddef","DRAGON-ATTACKS"]],["        <LTABLE"],[["Str","\"Dragon hide is tough as steel, but you have succeeded in annoying him"]],[["Str","a bit. He looks at you as if deciding whether or not to eat you.\""]],[["Str","\"That captured his interest. He stares at you balefully.\""]],[["Str","\"The dragon is surprised and interested (for the moment).\""]],[["Str","\"You've made him rather angry. You had better be very careful now.\""]],[["Str","\"That did no damage, but he turns his smoky yellow eyes in your direction"]],[["Str","and sighs.\""],">>"],[],["<ROUTINE ",["Iddef","HELLO?"]," (",["Localid","WHO"],")"],["\t <COND (<OR <EQUAL? ,",["Id","WINNER"]," .",["Localid","WHO"],">"],["\t\t    <VERB? TELL ANSWER REPLY SAY HELLO INCANT>>"],["\t\t<COND (<VERB? TELL ANSWER SAY INCANT REPLY>"],["\t\t       <SETG ",["Id","P-CONT"]," <>>"],["\t\t       <SETG ",["Id","QUOTE-FLAG"]," <>>)>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","FIND-TARGET"]," (",["Localid","TARGET"]," \"AUX\" ",["Localid","P"]," ",["Localid","TX"]," ",["Localid","L"]," ",["Localid","ROOM"],")"],["\t <COND (<IN? .",["Localid","TARGET"]," ,",["Id","HERE"],"> ,",["Id","HERE"],")"],["\t       (T"],["\t\t<SET ",["Localid","P"]," 0>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<0? <SET ",["Localid","P"]," <NEXTP ,",["Id","HERE"]," .",["Localid","P"],">>>"],["\t\t\t       <RETURN <>>)"],["\t\t\t      (<NOT <L? .",["Localid","P"]," ,",["Id","LOW-DIRECTION"],">>"],["\t\t\t       <SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","P"],">>"],["\t\t\t       <SET ",["Localid","L"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t\t       <COND (<EQUAL? .",["Localid","L"]," ,",["Id","UEXIT"]," ,",["Id","CEXIT"]," ,",["Id","DEXIT"],">"],["\t\t\t\t      <SET ",["Localid","ROOM"]," <GETB .",["Localid","TX"]," 0>>"],["\t\t\t\t      <COND (<IN? .",["Localid","TARGET"]," .",["Localid","ROOM"],">"],["\t\t\t\t\t     <RETURN .",["Localid","ROOM"],">)>)>)>>)>>"],[],["<GLOBAL ",["Iddef","OLD-HERE"]," ",["Id","DRAGON-ROOM"],">"],[],["<ROUTINE ",["Iddef","I-DRAGON"]," (\"AUX\" ",["Localid","ROOM"],")"],["\t <COND (<G? ,",["Id","DRAGON-ANGER"]," 6>"],["\t\t<TELL"],[["Str","\"The dragon tires of this game. With an almost bored yawn, he opens his"]],[["Str","mouth and \""],">"],["\t\t<COND (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FIREPROOF"],">"],["\t\t       <TELL"],[["Str","\"blasts you with a great gout of fire, but it washes over you"]],[["Str","harmlessly.\""]," CR>)"],["\t\t      (T"],["\t\t       <",["Id","DRAGON-LEAVES"],">"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"incinerates you in a blast of white-hot dragon fire.\""],">)>)"],["\t       (<AND <IN? ,",["Id","WINNER"]," ,",["Id","DRAGON-ROOM"],">"],["\t\t     <NOT <IN? ,",["Id","DRAGON"]," ,",["Id","DRAGON-ROOM"],">>>"],["\t\t<MOVE ,",["Id","DRAGON"]," ,",["Id","DRAGON-ROOM"],">"],["\t\t<TELL"],[["Str","\"The dragon doubles back and charges into the room, maddened by your"]],[["Str","attempt to sneak past him. His eyes glow with a white heat of anger.\""]," CR>"],["\t\t<COND (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FIREPROOF"],">"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"A huge ball of flame envelops you, but you don't even feel the heat."]],[["Str","The dragon is puzzled, but not too puzzled to crush you in his jaws.\""],">)"],["\t\t      (T"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"Worse for you, his mouth opens and a great gout of flame puffs out"]],[["Str","and consumes you on the spot.\""],">)>)"],["\t       (<NOT <G? ,",["Id","DRAGON-ANGER"]," 0>>"],["\t\t<COND (<AND <PROB 50>"],["\t\t\t    <IN? ,",["Id","DRAGON"]," ,",["Id","HERE"],">>"],["\t\t       <TELL ",["Str","\"The dragon looks bored.\""]," CR>)"],["\t\t      (T"],["\t\t       <",["Id","DRAGON-LEAVES"],">"],["\t\t       <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","GLACIER-ROOM"],">"],["\t\t\t      <TELL"],[["Str","\"The dragon is no longer around. He must have become bored with you.\""]," CR>)"],["\t\t\t     (<EQUAL? ,",["Id","HERE"]," ,",["Id","OLD-HERE"],">"],["\t\t\t      <TELL"],[["Str","\"The dragon seems to have lost interest in you.\""],">"],["\t\t\t      <COND (<EQUAL? ,",["Id","OLD-HERE"]," ,",["Id","DRAGON-ROOM"],"> <CRLF>)"],["\t\t\t\t    (T <TELL ",["Str","\" He wanders off.\""]," CR>)>)>)>)"],["\t       (T"],["\t\t<SET ",["Localid","ROOM"]," <",["Id","FIND-TARGET"]," ,",["Id","WINNER"],">>"],["\t\t<COND (<NOT .",["Localid","ROOM"],">"],["\t\t       <COND (<PROB 25> <",["Id","DRAGON-LEAVES"],">)>)"],["\t\t      (<OR <EQUAL? .",["Localid","ROOM"]," ,",["Id","CAROUSEL-ROOM"]," ,",["Id","TINY-ROOM"],">"],["\t\t\t   <EQUAL? .",["Localid","ROOM"]," ,",["Id","RAVINE-LEDGE"]," ,",["Id","FRESCO-ROOM"],">>"],["\t\t       <COND (<PROB 25> <",["Id","DRAGON-LEAVES"],">)>"],["\t\t       <TELL ",["Str","\"The dragon will follow no further.\""]," CR>)"],["\t\t      (<EQUAL? .",["Localid","ROOM"]," ,",["Id","GLACIER-ROOM"],">"],["\t\t       <TELL CR"],[["Str","\"As the dragon enters, he sees his reflection on the icy surface of the"]],[["Str","glacier at its western end. He becomes enraged: There is another dragon here,"]],[["Str","behind that glass, he thinks! Dragons are smart, but sometimes naive, and"]],[["Str","this one has never seen ice before. He rears up to his full height to"]],[["Str","challenge this intruder into his territory. He roars a challenge! The"]],[["Str","intruder responds! The dragon takes a deep breath, and out of his mouth"]],[["Str","pours a massive gout of flame. It washes over the ice, which melts rapidly,"]],[["Str","sending out torrents of water and a huge cloud of steam! You manage to clamber"]],[["Str","up to a small shelf, but the dragon is terrified! A huge splash goes down his"]],[["Str","throat! There is a muffled explosion and the dragon, a puzzled expression on"]],[["Str","his face, dies. He is carried away by the water.|"]],[["Str","|"]],[["Str","When the flood recedes you climb gingerly down. While no trace of"]],[["Str","the dragon can be found, the melting of the ice has revealed a passage"]],[["Str","leading west.\""]," CR>"],["\t\t       <REMOVE ,",["Id","DRAGON"],">"],["\t\t       <REMOVE ,",["Id","ICE"],">"],["\t\t       <MOVE ,",["Id","DEAD-DRAGON"]," ,",["Id","DEEP-FORD"],">"],["\t\t       <DISABLE <",["Id","INT"]," ",["Iddef","I-DRAGON"],">>"],["\t\t       <",["Id","SCORE-UPD"]," 5>"],["\t\t       <SETG ",["Id","ICE-MELTED"]," T>)"],["\t\t      (T"],["\t\t       <COND (<NOT <EQUAL? .",["Localid","ROOM"]," ,",["Id","OLD-HERE"],">>"],["\t\t\t      <MOVE ,",["Id","DRAGON"]," .",["Localid","ROOM"],">"],["\t\t\t      <TELL"],[["Str","\"The dragon follows you, out of mingled curiosity and anger.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The dragon continues to watch you carefully.\""]," CR>)>"],["\t\t       <COND (<NOT <G? ,",["Id","DRAGON-ANGER"]," 0>>"],["\t\t\t      <SETG ",["Id","DRAGON-ANGER"]," 0>"],["\t\t\t      <DISABLE <",["Id","INT"]," ",["Iddef","I-DRAGON"],">>)>)>)>"],["\t <SETG ",["Id","OLD-HERE"]," <LOC ,",["Id","DRAGON"],">>"],["\t <SETG ",["Id","DRAGON-ANGER"]," <- ,",["Id","DRAGON-ANGER"]," 2>>"],["\t <COND (<L? ,",["Id","DRAGON-ANGER"]," 0> <SETG ",["Id","DRAGON-ANGER"]," 0>)>"],["\t T>"],[],["<ROUTINE ",["Iddef","DRAGON-LEAVES"]," ()"],["\t <MOVE ,",["Id","DRAGON"]," ,",["Id","DRAGON-ROOM"],">"],["\t <SETG ",["Id","DRAGON-ANGER"]," 0>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-DRAGON"],">>>"],[],["<ROUTINE ",["Iddef","I-GARDEN"]," ()"],["\t <COND (<OR <EQUAL? ,",["Id","HERE"]," ,",["Id","GARDEN-NORTH"]," ,",["Id","GAZEBO-ROOM"],">"],["\t\t    <EQUAL? ,",["Id","HERE"]," ,",["Id","TOPIARY-ROOM"]," ,",["Id","FORMAL-GARDEN"],">>"],["\t\t<COND (<AND <IN? ,",["Id","UNICORN"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t\t    <PROB 33>>"],["\t\t       <REMOVE ,",["Id","UNICORN"],">"],["\t\t       <COND (<NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","TOPIARY-ROOM"],">>"],["\t\t\t      <TELL ",["Str","\"The unicorn bounds lightly away.\""]," CR>)>)"],["\t\t      (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","DRAGON-LAIR"],">"],["\t\t\t    <NOT <IN? ,",["Id","UNICORN"]," ,",["Id","GARDEN-NORTH"],">>"],["\t\t\t    <PROB 25>"],["\t\t\t    <NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","TOPIARY-ROOM"],">>>"],["\t\t       <COND (,",["Id","UNICORN-FRIGHTENED"]],["\t\t\t      <SETG ",["Id","UNICORN-FRIGHTENED"]," <>>"],["\t\t\t      <RFALSE>)>"],["\t\t       <MOVE ,",["Id","UNICORN"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t       <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t\t      <TELL <",["Id","RANDOM-ELEMENT"]," ,",["Id","UNICORN-MSGS"],"> CR>)"],["\t\t\t     (T <TELL"],[["Str","\"A unicorn is peacefully cropping grass at the north end of the garden."]],[["Str","There is something hanging around its neck.\""]," CR>)>)"],["\t\t      (<EQUAL? ,",["Id","HERE"]," ,",["Id","TOPIARY-ROOM"],">"],["\t\t       <COND (<AND <NOT ,",["Id","TOPIARY-MOVED"],"> <PROB 12>>"],["\t\t\t      <SETG ",["Id","TOPIARY-MOVED"]," T>"],["\t\t\t      <TELL"],[["Str","\"You look around, and strangely, the topiary animals seem to have"]],[["Str","changed position slightly.\""]," CR>)"],["\t\t\t     (<AND ,",["Id","TOPIARY-MOVED"]],["\t\t\t\t   <NOT ,",["Id","TOPIARY-NEAR"],">"],["\t\t\t\t   <PROB 8>>"],["\t\t\t      <SETG ",["Id","TOPIARY-NEAR"]," T>"],["\t\t\t      <TELL"],[["Str","\"The topiary animals seem to close in on you. You turn and they are"]],[["Str","very close. They seem to be leering at you.\""]," CR>)"],["\t\t\t     (<AND ,",["Id","TOPIARY-NEAR"]," <PROB 4>>"],["\t\t\t      <SETG ",["Id","TOPIARY-MOVED"]," <>>"],["\t\t\t      <SETG ",["Id","TOPIARY-NEAR"]," <>>"],["\t\t\t      <",["Id","JIGS-UP"]],[["Str","\"The topiary animals attack! You are crushed by their branches and"]],[["Str","clawed by their thorns.\""],">)>)>)"],["\t       (T"],["\t\t<REMOVE ,",["Id","UNICORN"],">"],["\t\t<DISABLE <",["Id","INT"]," ",["Iddef","I-GARDEN"],">>"],["\t\t<RFALSE>)>>"],[],["<GLOBAL ",["Iddef","TOPIARY-MOVED"]," <>>"],["<GLOBAL ",["Iddef","TOPIARY-NEAR"]," <>>"],[],["<GLOBAL ",["Iddef","UNICORN-MSGS"]],["\t<LTABLE"],["\t ",["Str","\"There is a large, white animal partly hidden behind some trees.\""]],["\t ",["Str","\"You catch a glimpse of something white between two hedges.\""]],["\t ",["Str","\"A unicorn is cropping grass on the other side of the room."]],[["Str","A gold key hangs from a ribbon around its neck.\""]],["\t ",["Str","\"There is a beautiful unicorn eating roses here. Around his"]],[["Str","neck is a red satin ribbon on which is strung a tiny key.\""],">>"],[],["<ROUTINE ",["Iddef","GARDEN-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-GARDEN"]," -1>>)>>"],[],["<ROUTINE ",["Iddef","GLOBAL-UNICORN-FCN"]," ()"],["\t <COND (<IN? ,",["Id","UNICORN"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t<TELL"],[["Str","\"The unicorn is way up at the north end of the garden.\""]," CR>)"],["\t       (<VERB? FIND FOLLOW>"],["\t\t<COND (<FSET? ,",["Id","UNICORN"]," ,",["Implid","TOUCHBIT"],">"],["\t\t       <TELL ",["Str","\"I don't know where it is now.\""]," CR>)"],["\t\t      (T <TELL"],[["Str","\"The unicorn is a mythical beast.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"Unicorn? What unicorn?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","UNICORN-FCN"]," ()"],["\t <COND (<",["Id","HELLO?"]," ,",["Id","UNICORN"],">"],["\t\t<TELL"],[["Str","\"The unicorn listens distractedly, then goes back to cropping grass.\""]," CR>)"],["\t       (<VERB? FOLLOW>"],["\t\t<TELL"],[["Str","\"The unicorn shies away as you approach.\""]," CR>)"],["\t       (<AND <VERB? EXAMINE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","UNICORN"],">>"],["\t\t<TELL"],[["Str","\"The unicorn shies away as you approach for a closer look, but you do"]],[["Str","notice a tiny gold key hanging from a red satin ribbon looped around"]],[["Str","the animal's neck.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The unicorn shies away as you approach.\""]," CR>)"],["\t       (<VERB? TAKE PUT RUB MUNG ATTACK>"],["\t\t<REMOVE ,",["Id","UNICORN"],">"],["\t\t<SETG ",["Id","UNICORN-FRIGHTENED"]," T>"],["\t\t<TELL"],[["Str","\"The unicorn, unsurprised by this evidence that you are indeed the"]],[["Str","uncouth sort of vagabond it suspected you were, melts into the hedges"]],[["Str","and is gone.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","UNICORN-FRIGHTENED"]," <>>"],[],["<ROUTINE ",["Iddef","GAZEBO-FCN"]," ()"],["\t <COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","GARDEN-NORTH"],"> <VERB? THROUGH>>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?IN"],"> <RTRUE>)"],["\t       (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","GAZEBO-ROOM"],">"],["\t\t     <VERB? THROUGH>>"],["\t\t<TELL ",["Str","\"You're already in it.\""]," CR>)"],["\t       (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","GAZEBO-ROOM"],"> <VERB? LEAVE EXIT>>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?OUT"],"> <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","CHEST-FCN"]," ()"],["\t <COND (<VERB? OPEN>"],["\t\t<COND (<PROB 25>"],["\t\t       <",["Id","V-OPEN"],">"],["\t\t       <COND (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","HERE"],">"],["\t\t\t\t   <NOT ,",["Id","PRINCESS-AWAKE"],">>"],["\t\t\t      <TELL"],[["Str","\"The opening of the squeaky lid startles the young woman.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The hinges are very rusty, but they seem to be starting to give."]],[["Str","You can probably open it if you try again. There is something"]],[["Str","bumping around inside.\""],">"],["\t\t       <COND (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","HERE"],">"],["\t\t\t\t   <NOT ,",["Id","PRINCESS-AWAKE"],">>"],["\t\t\t      <TELL"],[["Str","\" All this rummaging around has startled"]],[["Str","the young woman.\""],">)>"],["\t\t       <CRLF>)>"],["\t\t<PUTP ,",["Id","CHEST"]," ,",["Implid","P?ACTION"]," 0>"],["\t\t<COND (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","HERE"],">"],["\t\t\t    <NOT ,",["Id","PRINCESS-AWAKE"],">>"],["\t\t       <",["Id","PERFORM"]," ,V?ALARM ,",["Id","PRINCESS"],">)>"],["\t\tT)>>"],[],["<GLOBAL ",["Iddef","PRINCESS-AWAKE"]," <>>"],[],["<ROUTINE ",["Iddef","PRINCESS-FCN"]," (\"AUX\" (",["Localid","DEM"]," <",["Id","INT"]," ",["Id","I-PRINCESS"],">))"],["\t <COND (<VERB? FOLLOW>"],["\t\t<COND (<IN? ,",["Id","PRINCESS"]," ,",["Id","HERE"],">"],["\t\t       <TELL"],[["Str","\"You can't follow her until she leaves...\""]," CR>)"],["\t\t      (,",["Id","PRFOLLOW"]],["\t\t       <",["Id","DO-WALK"]," ,",["Id","PRFOLLOW"],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"I seem to have lost track of her.\""]," CR>)>"],["\t\t<RTRUE>)"],["\t       (<NOT <IN? ,",["Id","PRINCESS"]," ,",["Id","HERE"],">>"],["\t\t<TELL ",["Str","\"There is no princess here.\""]," CR>)"],["\t       (<VERB? ATTACK MUNG RAPE>"],["\t\t<REMOVE ,",["Id","PRINCESS"],">"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"The princess screams as you approach. \\\"Won't someone deliver"]],[["Str","me from this awful fate?\\\" she cries. Just in time, the Wizard of Frobozz"]],[["Str","appears, seeming to unroll himself out of nothing like a window shade."]],[["Str","\\\"Fry!\\\" he intones, and a massive bolt of lightning reduces you to a pile"]],[["Str","of smoking ashes. (Serves you right, too, if you ask me.)\""],">)"],["\t       (<OR <",["Id","HELLO?"]," ,",["Id","PRINCESS"],"> <VERB? ALARM KISS EXAMINE RUB>>"],["\t\t<COND (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","DRAGON-LAIR"],">"],["\t\t\t    <EQUAL? <GET .",["Localid","DEM"]," ,",["Id","C-ENABLED?"],"> 0>>"],["\t\t       <PUTP ,",["Id","PRINCESS"]," ,",["Implid","P?LDESC"]],[["Str","\"There is a dishevelled and slightly unkempt princess here.\""],">"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-PRINCESS"]," 2>>"],["\t\t       <SETG ",["Id","PRINCESS-AWAKE"]," T>"],["\t\t       <TELL"],[["Str","\"The princess (for she is obviously one) shakes herself awake, then"]],[["Str","notices you for the first time. She smiles. \\\"Thank you for rescuing"]],[["Str","me from that horrid worm,\\\" she says. \\\"I must depart. My parents will"]],[["Str","be worried about me.\\\" With that, she arises, looking purposefully out"]],[["Str","of the lair.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The princess ignores you. She looks about the room, but her eyes"]],[["Str","fix on the \""],">"],["\t\t       <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","GAZEBO-ROOM"],">"],["\t\t\t      <TELL ",["Str","\"garden outside\""],">)"],["\t\t\t     (<EQUAL? ,",["Id","HERE"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t\t      <TELL ",["Str","\"gazebo\""],">)"],["\t\t\t     (<EQUAL? ,",["Id","HERE"]," ,",["Id","RAVINE-LEDGE"],">"],["\t\t\t      <TELL ",["Str","\"ledge\""],">)"],["\t\t\t     (T"],["\t\t\t      <TELL <GET ,",["Id","PRDIRS"]," <* ,",["Id","PRCOUNT"]," 4>>>)>"],["\t\t       <TELL ",["Str","\".\""]," CR>)>)"],["\t       (<NOT ,",["Id","PRINCESS-AWAKE"],">"],["\t\t<TELL ",["Str","\"She's in a trance!\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","PRCOUNT"]," 0>"],[],["<GLOBAL ",["Iddef","PRFOLLOW"]," <>>"],[],["<GLOBAL ",["Iddef","PRDIRS"]],["\t<TABLE ",["Str","\"south\""]," ",["Id","DRAGON-ROOM"]," ",["Str","\"north\""]," ",["Implid","P?SOUTH"]],["\t       ",["Str","\"east\""]," ",["Id","LEDGE-TUNNEL"]," ",["Str","\"west\""]," ",["Implid","P?EAST"]],["\t       ",["Str","\"east\""]," ",["Id","RAVINE-LEDGE"]," ",["Str","\"west\""]," ",["Implid","P?EAST"]],["\t       ",["Str","\"down\""]," ",["Id","DEEP-FORD"]," ",["Str","\"up\""]," ",["Implid","P?DOWN"]],["\t       ",["Str","\"south\""]," ",["Id","MARBLE-HALL"]," ",["Str","\"north\""]," ",["Implid","P?SOUTH"]],["\t       ",["Str","\"east\""]," ",["Id","STREAM-PATH"]," ",["Str","\"west\""]," ",["Implid","P?EAST"]],["\t       ",["Str","\"east\""]," ",["Id","FORMAL-GARDEN"]," ",["Str","\"west\""]," ",["Implid","P?EAST"]],["\t       ",["Str","\"north\""]," ",["Id","GARDEN-NORTH"]," ",["Str","\"south\""]," ",["Implid","P?NORTH"]],["\t       ",["Str","\"in\""]," ",["Id","GAZEBO-ROOM"]," ",["Str","\"out\""]," ",["Implid","P?IN"],">>"],[],["<ROUTINE ",["Iddef","I-PRINCESS"]," (\"AUX\" (",["Localid","DEM"]," <",["Id","INT"]," ",["Iddef","I-PRINCESS"],">) (",["Localid","OLDP"]," <LOC ,",["Id","PRINCESS"],">)"],["\t\t     (",["Localid","PC"]," <* ,",["Id","PRCOUNT"]," 4>))"],["\t <MOVE ,",["Id","PRINCESS"]," <GET ,",["Id","PRDIRS"]," <+ .",["Localid","PC"]," 1>>>"],["\t <SETG ",["Id","PRFOLLOW"]," <>>"],["\t <COND (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","STREAM-PATH"],">"],["\t\t     <IN? ,",["Id","WINNER"]," ,",["Id","MARBLE-HALL"],">>"],["\t\t<TELL"],[["Str","\"The princess presses a loose piece of marble in the wall and a large"]],[["Str","section of the wall slides away, revealing a passage to the east. She"]],[["Str","enters it.\""]," CR>"],["\t\t<COND (<IN? ,",["Id","WINNER"]," .",["Localid","OLDP"],">"],["\t\t       <SETG ",["Id","PRFOLLOW"]," <GET ,",["Id","PRDIRS"]," <+ .",["Localid","PC"]," 3>>>)>"],["\t\t<SETG ",["Id","SECRET-DOOR"]," T>)"],["\t       (<AND <IN? ,",["Id","PRINCESS"]," ,",["Id","STREAM-PATH"],">"],["\t\t     <IN? ,",["Id","WINNER"]," ,",["Id","STREAM-PATH"],">>"],["\t\t<SETG ",["Id","SECRET-DOOR"]," T>"],["\t\t<TELL"],[["Str","\"The princess appears from behind some rocks, as though she had walked"]],[["Str","through a wall.\""]," CR>)"],["\t       (<IN? ,",["Id","WINNER"]," .",["Localid","OLDP"],">"],["\t\t<SETG ",["Id","PRFOLLOW"]," <GET ,",["Id","PRDIRS"]," <+ .",["Localid","PC"]," 3>>>"],["\t        <COND (<EQUAL? .",["Localid","OLDP"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t       <TELL ",["Str","\"The princess enters the gazebo\""],">"],["\t\t       <COND (<FSET? ,",["Id","GAZEBO-ROOM"]," ,",["Implid","RMUNGBIT"],">"],["\t\t\t      <TELL ",["Str","\", although you would never get past"]],[["Str","the debris. She must be magically protected.\""],">)>"],["\t\t       <TELL ",["Str","\".\""]," CR>)"],["\t\t      (<EQUAL? .",["Localid","OLDP"]," ,",["Id","RAVINE-LEDGE"],">"],["\t\t       <TELL"],[["Str","\"The princess climbs daintily down the rock face.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The princess walks \""],">"],["\t\t       <TELL <GET ,",["Id","PRDIRS"]," .",["Localid","PC"],">>"],["\t\t       <TELL ",["Str","\". She glances back at you as she goes.\""]," CR>)>)"],["\t       (<IN? ,",["Id","PRINCESS"]," ,",["Id","HERE"],">"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","GAZEBO-ROOM"],">"],["\t\t       <TELL ",["Str","\"The princess joins you in the gazebo.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEEP-FORD"],">"],["\t\t       <TELL ",["Str","\"The princess climbs down the rock wall onto the beach.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The princess enters from the \""],">"],["\t\t       <TELL <GET ,",["Id","PRDIRS"]," <+ 2 .",["Localid","PC"],">>>"],["\t\t       <TELL ",["Str","\". She seems surprised to see you.\""]," CR>)>)>"],["\t <COND (<IN? ,",["Id","PRINCESS"]," ,",["Id","GAZEBO-ROOM"],">"],["\t\t<DISABLE .",["Localid","DEM"],">"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-UNICORN"]," 6>>)"],["\t       (T"],["\t\t<SETG ",["Id","PRCOUNT"]," <+ ,",["Id","PRCOUNT"]," 1>>"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Iddef","I-PRINCESS"]],["\t\t\t       <COND (<PROB 75> 1)(T 2)>>>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","I-UNICORN"]," ()"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","GAZEBO-ROOM"]," ,",["Id","GARDEN-NORTH"],">"],["\t\t<MOVE ,",["Id","ROSE"]," ,",["Id","WINNER"],">"],["\t\t<FCLEAR ,",["Id","GOLD-KEY"]," ,",["Implid","NDESCBIT"],">"],["\t\t<MOVE ,",["Id","GOLD-KEY"]," ,",["Id","WINNER"],">"],["\t\t<",["Id","SCORE-OBJ"]," ,",["Id","GOLD-KEY"],">"],["\t\t<PUTP ,",["Id","GOLD-KEY"]," ,",["Implid","P?ACTION"]," 0>"],["\t\t<TELL"],[["Str","\"Shyly, a unicorn peeks out of the hedges. It notices the princess and"]],[["Str","seems captivated. It approaches her and bows its head as though curtseying"]],[["Str","to her. Around its neck is a red satin ribbon on which is strung a delicate"]],[["Str","gold key. The princess takes the ribbon and uses it to tie up her hair. She"]],[["Str","looks at you and then, smiling, hands you the key and a fresh rose which she"]],[["Str","plucks from the arbor. \\\"You may have use of such a thing,\\\" she says. \\\"It"]],[["Str","is the least I can do for one who rescued me from a fate I dare not"]],[["Str","contemplate.\\\" With that, she mounts the unicorn (side-saddle, of course)"]],[["Str","and rides off into the gloom.\""]," CR>"],["\t\t<REMOVE ,",["Id","PRINCESS"],">)"],["\t       (T"],["\t\t<REMOVE ,",["Id","PRINCESS"],">"],["\t\t<MOVE ,",["Id","ROSE"]," ,",["Id","GAZEBO-ROOM"],">"],["\t\t<RFALSE>)>>"],[],["\\"],[],[["Str","\"SUBTITLE WIZARD WORKSHOP AND ENVIRONS\""]],[],["<ROUTINE ",["Iddef","MENHIR-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-FLASH"],"> ,",["Id","MENHIR-POSITION"],">"],["\t\t<",["Id","DESCRIBE-MENHIR"],">)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a large room which was evidently used once as a quarry. Many"]],[["Str","large limestone chunks lie helter-skelter around the room. Some are"]],[["Str","rough-hewn and unworked, others smooth and well-finished. One side of"]],[["Str","the room appears to have been used to quarry building blocks, the other"]],[["Str","to produce menhirs (standing stones). Obvious passages lead north and"]],[["Str","south.\""]," CR>"],["\t\t<COND (<IN? ,",["Id","MENHIR"]," ,",["Id","LOCAL-GLOBALS"],">"],["\t\t       <",["Id","DESCRIBE-MENHIR"],">)>"],["\t\tT)>>"],[],["<ROUTINE ",["Iddef","DESCRIBE-MENHIR"]," ()"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","MENHIR-ROOM"],">"],["\t\t<COND (<EQUAL? ,",["Id","MENHIR-POSITION"]," <>>"],["\t\t       <TELL"],[["Str","\"One particularly large menhir, at least twenty feet tall and eight feet"]],[["Str","thick, is leaning against the wall blocking a dark opening leading"]],[["Str","southwest. On this side of the menhir is carved an ornate letter \\\"F\\\".\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","MENHIR-POSITION"]," 1>"],["\t\t       <TELL"],[["Str","\"There is a huge menhir lying on the floor near a southwest passage.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","MENHIR-POSITION"]," 2>"],["\t\t       <TELL"],[["Str","\"A dark opening leads southwest.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","MENHIR-POSITION"]," 3>"],["\t\t       <TELL ",["Str","\"There is a huge menhir here.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"There is a huge menhir floating like a feather in mid-air here. A"]],[["Str","passage to the southwest opens beneath it.\""]," CR>)>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","MUNGED-ROOM"],">"],["\t\t       <TELL"],[["Str","\"The explosion appears to have had no effect on the menhir.\""]," CR>)>"],["\t\t<RTRUE>)"],["\t       (T <TELL ",["Str","\"A dark opening leads southwest.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","MENHIR-POSITION"]," <>>"],[],["<ROUTINE ",["Iddef","MENHIR-FCN"]," ()"],["\t <COND (<VERB? LOOK-UNDER LOOK-BEHIND>"],["\t\t<COND (,",["Id","MENHIR-POSITION"]],["\t\t       <TELL"],[["Str","\"Behind the menhir is some air and then a wall.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The gap between the menhir and the wall is very narrow, but it is clear"]],[["Str","that there is a sizeable room in there. Your light only reveals a part of"]],[["Str","the far wall.\""]," CR>)>)"],["\t       (<VERB? TAKE MOVE TURN>"],["\t\t<TELL"],[["Str","\"The menhir weighs many tons and is eight feet wide. You can't even get"]],[["Str","a grip on it, much less move it.\""]," CR>)"],["\t       (<VERB? READ> <TELL ",["Str","\"\\\"F\\\"\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"It is nicely finished, and the letter \\\"F\\\" on it is particularly well"]],[["Str","carved.\""]," CR>)"],["\t       (<AND <VERB? ENCHANT> <EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>>"],["\t\t<TELL"],[["Str","\"The menhir floats majestically into the air, rising about ten feet."]],[["Str","The passage beneath it beckons invitingly.\""]," CR>"],["\t\t<SETG ",["Id","MENHIR-POSITION"]," 3>)"],["\t       (<AND <VERB? DISENCHANT>"],["\t\t     <EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>>"],["\t\t<SETG ",["Id","MENHIR-POSITION"]," <>>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","MENHIR-ROOM"]," ,",["Id","KENNEL"],">"],["\t\t       <TELL"],[["Str","\"The menhir sinks to the ground.\""]," CR>)>)>>"],[],["<GLOBAL ",["Iddef","GUARDIAN-FED"]," <>>"],[],["<ROUTINE ",["Iddef","DOOR-KEEPER-FCN"]," ()"],["\t <COND (<AND <VERB? ALARM> ,",["Id","GUARDIAN-FED"],">"],["\t\t<TELL ",["Str","\"Try as you may, you can't wake it.\""]," CR>)"],["\t       (<AND <VERB? GIVE> <EQUAL? ,",["Id","PRSI"]," ,",["Id","DOOR-KEEPER"],">>"],["\t\t<COND (,",["Id","GUARDIAN-FED"]],["\t\t       <TELL"],[["Str","\"He is asleep, at least for the moment.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Id","CANDY"],">"],["\t\t       <SETG ",["Id","GUARDIAN-FED"]," T>"],["\t\t       <REMOVE ,",["Id","CANDY"],">"],["\t\t       <TELL"],[["Str","\"The guardian greedily wolfs down the candy, including the package. (It"]],[["Str","seemed to enjoy the grasshoppers particularly.) It then becomes"]],[["Str","quiet and its eyes close. (Lizards are known to sleep a long time while"]],[["Str","digesting their meals.)\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Id","FLASK"],">"],["\t\t       <TELL"],[["Str","\"The lizard sniffs it experimentally, then looks at you angrily, hissing"]],[["Str","and snapping.\""]," CR>)"],["\t\t      (<",["Id","BOMB?"]," ,",["Id","PRSO"],">"],["\t\t       <REMOVE ,",["Id","PRSO"],">"],["\t\t       <TELL"],[["Str","\"The guardian greedily wolfs it down. After a while, you hear a"]],[["Str","very small pop and the guardian's eyes bulge out. It hisses nastily"]],[["Str","at you.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Id","PALANTIR-1"]," ,",["Id","PALANTIR-2"]," ,",["Id","PALANTIR-3"],">"],["\t\t       <TELL"],[["Str","\"The guardian greedily gobbles the sphere, but finds it unchewable. He"]],[["Str","then tries repeatedly to swallow it whole, with disappointing results."]],[["Str","Finally, he spits it on the ground.\""]," CR>"],["\t\t       <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">)"],["\t\t      (T"],["\t\t       <REMOVE ,",["Id","PRSO"],">"],["\t\t       <TELL"],[["Str","\"The lizard wolfs down the \""]," D ,",["Id","PRSO"]," ",["Str","\", crunching greedily.\""]," CR>)>)"],["\t       (<VERB? ATTACK MUNG>"],["\t\t<TELL"],[["Str","\"The guardian seems impervious to your attack. In fact, your blows"]],[["Str","don't even seem to be landing.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","WIZ-DOOR-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","WIZ-DOOR-FCN"]," ()"],["\t <COND (<NOT ,",["Id","GUARDIAN-FED"],">"],["\t\t<COND (<VERB? OPEN>"],["\t\t       <TELL"],[["Str","\"The lizard comes to life and snaps at you as you reach for the"]],[["Str","handle.\""]," CR>)"],["\t\t      (<VERB? UNLOCK>"],["\t\t       <TELL"],[["Str","\"The lizard door keeper comes awake and bites at your hand. You"]],[["Str","jerk away just in time.\""],">"],["\t\t       <COND (<AND <EQUAL? ,",["Id","PRSI"]," ,",["Id","GOLD-KEY"],"> <PROB 5>>"],["\t\t\t      <REMOVE ,",["Id","GOLD-KEY"],">"],["\t\t\t      <TELL ",["Str","\" The guardian does get the"]],[["Str","key, though. It grins maniacally.\""]," CR>)"],["\t\t\t     (<PROB 20>"],["\t\t\t      <MOVE ,",["Id","GOLD-KEY"]," ,",["Id","HERE"],">"],["\t\t\t      <TELL ",["Str","\" You drop the key, though.\""]," CR>)"],["\t\t\t     (T <CRLF>)>)>)"],["\t       (<VERB? UNLOCK>"],["\t\t<COND (,",["Id","WIZ-DOOR-FLAG"]],["\t\t       <TELL ",["Str","\"It is already!\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GOLD-KEY"],">"],["\t\t       <SETG ",["Id","WIZ-DOOR-FLAG"]," T>"],["\t\t       <TELL"],[["Str","\"The key turns and the bolt clicks. The door is unlocked.\""]," CR>)"],["\t\t      (T"],["\t\t       <SETG ",["Id","WIZ-DOOR-FLAG"]," <>>"],["\t\t       <TELL ",["Str","\"That won't unlock it.\""]," CR>)>)"],["\t       (<VERB? LOCK>"],["\t\t<COND (<NOT ,",["Id","WIZ-DOOR-FLAG"],">"],["\t\t       <TELL ",["Str","\"It is locked already.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GOLD-KEY"],">"],["\t\t       <TELL ",["Str","\"The door is now locked.\""]," CR>"],["\t\t       <SETG ",["Id","WIZ-DOOR-FLAG"]," <>>"],["\t\t       <RTRUE>)"],["\t\t      (T <TELL ",["Str","\"That won't lock it.\""]," CR>)>)"],["\t       (<VERB? OPEN CLOSE>"],["\t\t<COND (,",["Id","WIZ-DOOR-FLAG"]],["\t\t       <",["Id","OPEN-CLOSE"]," ,",["Id","PRSO"]],["\t\t\t\t   ",["Str","\"The door creaks open.\""]],["\t\t\t\t   ",["Str","\"The door reluctantly closes.\""],">)"],["\t\t      (<VERB? OPEN>"],["\t\t       <TELL ",["Str","\"The door is locked!\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","GUARDIAN-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This room is cobwebby and musty, but tracks in the dust show that it has"]],[["Str","seen visitors recently. At the south end of the room is a stained and"]],[["Str","battered (but very strong-looking) door. To the north, a corridor exits.\""]," CR>"],["\t\t<COND (<FSET? ,",["Id","WIZ-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"The door is open.\""]," CR>)>"],["\t\t<COND (<NOT ,",["Id","GUARDIAN-FED"],">"],["\t\t       <TELL"],[["Str","\"Imbedded in the door is a nasty-looking lizard head, with sharp"]],[["Str","teeth and beady eyes. \""],">"],["\t\t       <COND (<IN? ,",["Id","CANDY"]," ,",["Id","WINNER"],">"],["\t\t\t      <TELL ",["Str","\"The lizard is sniffing at you.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The eyes move to watch you approach.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"A sleepy-looking lizard head is mounted on the door.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","WORKSHOP-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are standing in the entry hall of the Wizard's Workshop. Dark"]],[["Str","corridors lead west and south from here. The corridor to the west"]],[["Str","smells slightly of incense or candle smoke.\""],">"],["\t\t<COND (<FSET? ,",["Id","WIZ-DOOR"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\" The workshop door is open.\""],">)>"],["\t\t<CRLF>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","ARCANA-PSEUDO"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"The stuff on the bench appears to be so much junk, and you decide that"]],[["Str","it would only get in your way if you took it.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","TROPHY-PSEUDO"]," ()"],["\t <COND (<VERB? READ> <RFALSE>)"],["\t       (<VERB? TAKE RUB>"],["\t\t<TELL"],[["Str","\"As your fingers near it, you get a nasty shock (but fortunately not a fatal"]],[["Str","one).\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","STAND-FCN"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is firmly attached to the bench.\""]," CR>)"],["\t       (<AND <VERB? PUT PUT-ON>"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Id","PALANTIR-1"]," ,",["Id","PALANTIR-2"]," ,",["Id","PALANTIR-3"],">"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","STAND-1"]," ,",["Id","STAND-2"]," ,",["Id","STAND-3"],">>"],["\t\t<",["Id","V-PUT"],">"],["\t\t<COND (<AND <IN? ,",["Id","PALANTIR-1"]," ,",["Id","STAND-1"],">"],["\t\t\t    <IN? ,",["Id","PALANTIR-2"]," ,",["Id","STAND-2"],">"],["\t\t\t    <IN? ,",["Id","PALANTIR-3"]," ,",["Id","STAND-3"],">>"],["\t\t       <REMOVE ,",["Id","PALANTIR-1"],">"],["\t\t       <REMOVE ,",["Id","PALANTIR-2"],">"],["\t\t       <REMOVE ,",["Id","PALANTIR-3"],">"],["\t\t       <MOVE ,",["Id","STAND-4"]," ,",["Id","WORKBENCH"],">"],["\t\t       <TELL"],[["Str","\"As you place the \""]," D ,",["Id","PRSO"]," ",["Str","\" in the \""]," D ,",["Id","PRSI"]," ",["Str","\", a low humming noise"]],[["Str","begins, and you can feel the hairs on the back of your neck begin to"]],[["Str","stand up. The three spheres begin to vibrate, faster and faster, as"]],[["Str","the noise becomes higher and higher pitched. Three puffs of smoke, one"]],[["Str","red, one blue, one white, rise up from empty stands. The spheres are gone!"]],[["Str","But in the center of the triangle formed by the stands is now a black stand"]],[["Str","of obsidian in which rests a strange black sphere.\""]," CR>)>"],["\t\tT)>>"],[],["<ROUTINE ",["Iddef","IN-AQUARIUM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"There is a sandy floor here, and your vision seems murky and blurred."]],[["Str","The wall you are looking at is nicely dressed stone.\""]," CR>"],["\t\t<COND (<IN? ,",["Id","SERPENT"]," ,",["Id","AQUARIUM"],">"],["\t\t       <COND (<PROB 25>"],["\t\t\t      <TELL"],[["Str","\"While you watch a shadow seems to pass overhead.\""]," CR>)"],["\t\t\t     (<PROB 5>"],["\t\t\t      <TELL"],[["Str","\"The head of some horrible serpent pokes into view, its beady green eyes"]],[["Str","almost seeming to see you.\""]," CR>)>)>"],["\t\t<RTRUE>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t<COND (<IN? ,",["Id","SERPENT"]," ,",["Id","AQUARIUM"],">"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"You drop into the aquarium with a splash (which attracts the serpent)."]],[["Str","He greedily eats you. He's just a baby, after all, and needs all the"]],[["Str","food he can get.\""],">)"],["\t\t      (T <",["Id","JIGS-UP"]],[["Str","\"Oh dear, you have cut yourself severely on the broken glass. I'm afraid"]],[["Str","you've bled to death.\""],">)>)>>"],[],["<ROUTINE ",["Iddef","AQUARIUM-FCN"]," (\"AUX\" ",["Localid","OBJ"],")"],["\t <COND (<VERB? BOARD THROUGH> <",["Id","DO-WALK"]," ,",["Implid","P?IN"],"> <RTRUE>)"],["\t       (<AND <VERB? LOOK-INSIDE>"],["\t\t     <IN? ,",["Id","SERPENT"]," ,",["Id","AQUARIUM"],">>"],["\t\t<TELL"],[["Str","\"In the aquarium is a baby sea-serpent who eyes you suspiciously. His"]],[["Str","scaly body writhes about in the huge tank.\""]," CR>)"],["\t       (<OR <AND <VERB? MUNG ATTACK> <EQUAL? ,",["Id","PRSO"]," ,",["Id","AQUARIUM"],">>"],["\t\t    <AND <VERB? THROW> <EQUAL? ,",["Id","PRSI"]," ,",["Id","AQUARIUM"],">>>"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","AQUARIUM"],">"],["\t\t       <COND (<NOT ,",["Id","PRSI"],"> <RFALSE>)"],["\t\t\t     (T <SET ",["Localid","OBJ"]," ,",["Id","PRSI"],">)>)"],["\t\t      (T <SET ",["Localid","OBJ"]," ,",["Id","PRSO"],">)>"],["\t\t<MOVE .",["Localid","OBJ"]," ,",["Id","HERE"],">"],["\t\t<COND (<IN? ,",["Id","DEAD-SERPENT"]," ,",["Id","HERE"],">"],["\t\t       <TELL"],[["Str","\"The aquarium is already broken!\""]," CR>"],["\t\t       <RTRUE>)"],["\t\t      (<EQUAL? .",["Localid","OBJ"]," ,",["Id","FLASK"],">"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"The flask shatters, and poison gas fills the room!\""],">"],["\t\t       <RTRUE>)"],["\t\t      (<",["Id","BOMB?"]," .",["Localid","OBJ"],">"],["\t\t       <DISABLE <",["Id","INT"]," ",["Id","I-FUSE"],">>)"],["\t\t      (<OR <FSET? .",["Localid","OBJ"]," ,",["Implid","WEAPONBIT"],">"],["\t\t\t   <G? <GETP .",["Localid","OBJ"]," ,",["Implid","P?SIZE"],"> 10>>"],["\t\t<REMOVE ,",["Id","SERPENT"],">"],["\t\t<MOVE ,",["Id","PALANTIR-3"]," ,",["Id","AQUARIUM"],">"],["\t\t<FCLEAR ,",["Id","PALANTIR-3"]," ,",["Implid","NDESCBIT"],">"],["\t\t<PUTP ,",["Id","AQUARIUM"]," ,",["Implid","P?LDESC"]],[["Str","\"A shattered aquarium fills the northern half of the room.\""],">"],["\t\t<MOVE ,",["Id","DEAD-SERPENT"]," ,",["Id","HERE"],">"],["\t\t<TELL"],[["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" shatters the glass wall of the aquarium, spilling out"]],[["Str","an impressive amount of salt water and wet sand. It also spills out an"]],[["Str","extremely annoyed sea serpent who bites angrily at the \""]," D .",["Localid","OBJ"]," ",["Str","\", and"]],[["Str","then at you. He is having difficulty breathing, and he seems to hold you"]],[["Str","responsible for his current problem.\""],">"],["\t\t<COND (<VERB? MUNG>"],["\t\t       <TELL"],[["Str","\" He manages to rend you limb from limb before he drowns in the"]],[["Str","air.\""]," CR>"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\"I guess you were too careless.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\" He tries to slither across the stone floor towards you. Fortunately,"]],[["Str","he expires mere inches away from biting off your foot. A clear crystal"]],[["Str","sphere sits amid the sand and broken glass on the bottom of the"]],[["Str","aquarium.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" bounces harmlessly off the glass.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","SERPENT-FCN"]," ()"],["\t <COND (<VERB? ATTACK MUNG>"],["\t\t<TELL"],[["Str","\"He swims towards you with a powerful stroke of his flippers, dagger-like"]],[["Str","teeth dripping. Fortunately, he doesn't want to crash into the aquarium"]],[["Str","wall, and contents himself with splashing you with water.\""]," CR>)"],["\t       (<AND <VERB? PUT>"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Id","SERPENT"],">>"],["\t\t<TELL ",["Str","\"Impossible for many reasons.\""]," CR>)"],["\t       (<VERB? TAKE GIVE>"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"He takes you instead. *Uurrp!*\""],">)>>"],[],["<ROUTINE ",["Iddef","DEAD-SERPENT-FCN"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"This may only be a baby sea serpent, but it's as big as a small whale.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","GENIE-FCN"]," (\"OPTIONAL\" (",["Localid","RARG"]," ,",["Id","M-OBJECT"],") \"AUX\" ",["Localid","V"]," ",["Localid","HOARD"],")"],["\t<COND (<VERB? HELLO>"],["\t       <TELL"],[["Str","\"The genie grins demonically, but says nothing.\""]," CR>)"],["\t      (<EQUAL? ,",["Id","WINNER"]," ,",["Id","GENIE"],">"],["\t       <COND (<NOT ,",["Id","GENIE-READY?"],">"],["\t\t      <TELL"],[["Str","\"\\\"My fee is not paid! I perform no tasks for free! We demons have a"]],[["Str","strong union these days.\\\"\""]," CR>"],["\t\t      <RFATAL>)"],["\t\t     (<VERB? SGIVE> <RFALSE>)"],["\t\t     (<OR <G? <GET ,",["Id","P-PRSO"]," 0> 1>"],["\t\t\t  <G? <GET ,",["Id","P-PRSI"]," 0> 1>>"],["\t\t      <TELL"],[["Str","\"\\\"I will do one thing only, oh gracious master!\\\"\""]," CR>"],["\t\t      <RFATAL>)"],["\t\t     (<AND <VERB? MOVE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","GLOBAL-MENHIR"],">>"],["\t\t      <SETG ",["Id","MENHIR-POSITION"]," 1>"],["\t\t      <TELL"],[["Str","\"The demon is gone for a moment. \\\"A trifle... My little finger alone"]],[["Str","was enough.\\\"\""]," CR>"],["\t\t      <",["Id","GENIE-LEAVES"],">)"],["\t\t     (<VERB? TAKE>"],["\t\t      <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","GLOBAL-MENHIR"],">"],["\t\t\t     <REMOVE ,",["Id","MENHIR"],">"],["\t\t\t     <SETG ",["Id","MENHIR-POSITION"]," 2>"],["\t\t\t     <TELL"],[["Str","\"The demon flashes away for a second. \\\"I have little use for such a"]],[["Str","thing, but perhaps as a doorstop...\\\"\""]," CR>"],["\t\t\t     <",["Id","GENIE-LEAVES"],">)"],["\t\t\t    (<EQUAL? ,",["Id","PRSO"]," ,",["Id","WAND"],">"],["\t\t\t     <TELL"],[["Str","\"\\\"This I do gladly, oh fool!\\\" cackles the demon gleefully. He stretches"]],[["Str","out an enormous hand towards the wand and taking it like a toothpick (this"]],[["Str","is a large demon), points it at himself. \\\"Free!\\\" he commands, and the"]],[["Str","demon and his wand vanish forever.\""]," CR>"],["\t\t\t     <",["Id","GENIE-LEAVES"]," <>>"],["\t\t\t     <REMOVE ,",["Id","WAND"],">)"],["\t\t\t    (<FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">"],["\t\t\t     <",["Id","GENIE-LEAVES"]," <>>"],["\t\t\t     <REMOVE ,",["Id","PRSO"],">"],["\t\t\t     <TELL"],[["Str","\"The demon snaps his fingers, the \""]," D ,",["Id","PRSO"]," ",["Str","\" spins wildly in the air in"]],[["Str","front of him, then he and it depart.\""]," CR>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"\\\"I fear that I cannot take such a thing.\\\"\""]," CR>)>)"],["\t\t     (<AND <VERB? GIVE> <EQUAL? ,",["Id","PRSI"]," ,",["Id","ME"],">>"],["\t\t      <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","WAND"],">"],["\t\t\t     <TELL"],[["Str","\"\\\"I hear and obey!\\\" says the demon. He stretches out an enormous hand"]],[["Str","towards the wand. The Wizard is unsure what to do, pointing it threateningly"]],[["Str","at the demon, then at you. \\\"Fudge!\\\" he cries, but aside from a strong"]],[["Str","odor of chocolate in the air, there is no effect. The demon plucks the"]],[["Str","wand out of his hand (it's about toothpick-size to him) and gingerly lays"]],[["Str","it before you. He fades into the smoke, which disperses."]],[["Str","The wizard runs from the room in terror.\""]," CR>"],["\t\t\t     <REMOVE ,",["Id","WIZARD"],">"],["\t\t\t     <",["Id","GENIE-LEAVES"]," <>>"],["\t\t\t     <FCLEAR ,",["Id","WAND"]," ,",["Implid","NDESCBIT"],">"],["\t\t\t     <MOVE ,",["Id","WAND"]," ,",["Id","HERE"],">)"],["\t\t\t    (<EQUAL? ,",["Id","PRSO"]," ,",["Id","GLOBAL-MENHIR"],">"],["\t\t\t     <MOVE ,",["Id","MENHIR"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t\t     <FCLEAR ,",["Id","MENHIR"]," ,",["Implid","NDESCBIT"],">"],["\t\t\t     <FCLEAR ,",["Id","MENHIR"]," ,",["Implid","TAKEBIT"],">"],["\t\t\t     <SETG ",["Id","MENHIR-POSITION"]," 3>"],["\t\t\t     <TELL"],[["Str","\"He waves his hands, and the menhir drops softly at your feet.\""]," CR>"],["\t\t\t     <",["Id","GENIE-LEAVES"],">)"],["\t\t\t    (<FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">"],["\t\t\t     <MOVE ,",["Id","PRSO"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t\t     <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" appears before you and settles to the ground.\""]," CR>"],["\t\t\t     <",["Id","GENIE-LEAVES"],">)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"\\\"Were it possible, this would be my fondest wish, but alas...\\\"\""]," CR>)>)"],["\t\t     (<VERB? ATTACK>"],["\t\t      <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","GLOBAL-CERBERUS"],">"],["\t\t\t     <TELL"],[["Str","\"\\\"This may prove taxing, but we'll see. Perhaps I'll tame him for a"]],[["Str","pup instead.\\\" The demon disappears for an instant, then reappears. He"]],[["Str","looks rather gnawed and scratched. He winces. \\\"Too much for me. Puppy"]],[["Str","dog, indeed. You're welcome to him. Never did like dogs anyway... Any"]],[["Str","other orders, oh beneficent one?\\\"\""]," CR>)"],["\t\t\t    (<EQUAL? ,",["Id","PRSO"]," ,",["Id","WIZARD"],">"],["\t\t\t     <TELL"],[["Str","\"The demon grins hideously. \\\"This has been my desire e'er since this"]],[["Str","charlatan bent me to his service. I perform this deed with pleasure!\\\""]],[["Str","The demon forms himself back into a cloud of greasy smoke. The cloud"]],[["Str","envelops the Wizard, who waves his wand fruitlessly, mumbling various"]],[["Str","phrases which begin with \\\"F\\\". A horrible scream is heard, and the smoke"]],[["Str","begins to clear. Nothing remains of the Wizard but his wand.\""]," CR>"],["\t\t\t     <REMOVE ,",["Id","WIZARD"],">"],["\t\t\t     <FCLEAR ,",["Id","WAND"]," ,",["Implid","NDESCBIT"],">"],["\t\t\t     <MOVE ,",["Id","WAND"]," ,",["Id","HERE"],">"],["\t\t\t     <",["Id","GENIE-LEAVES"],">)"],["\t\t\t    (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">"],["\t\t\t     <",["Id","GENIE-LEAVES"]," <>>"],["\t\t\t     <SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t\t     <",["Id","JIGS-UP"]],[["Str","\"\\\"Foolish mortal, if you insist...\\\" The demon crushes you with one"]],[["Str","blow of his enormous hand.\""],">)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"\\\"I know no way to kill a \""]," D ,",["Id","PRSO"]," ",["Str","\".\\\"\""]," CR>)>)"],["\t\t     (<VERB? FIND EXAMINE>"],["\t\t      <TELL"],[["Str","\"\\\"I am not permitted to \""],">"],["\t\t      <COND (<VERB? FIND>"],["\t\t\t     <TELL ",["Str","\"answer questions\""],">)"],["\t\t\t    (T <TELL ",["Str","\"perform such menial tasks\""],">)>"],["\t\t      <TELL ",["Str","\". The terms of my contract"]],[["Str","are explicit on this matter, learned one. Surely you would not wish to"]],[["Str","violate my contract?\\\" He licks his lips with a forked tongue like a"]],[["Str","snake's. \\\"The penalty clauses are ... hmm ... devilish.\\\"\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"\\\"Apologies, oh master, but even for such a one as I this is not possible.\\\""]],[["Str","He seems somewhat chagrined to have to admit this.\""]," CR>"],["\t\t      <RTRUE>)>)"],["\t      (<VERB? EXORCISE ATTACK MUNG>"],["\t       <TELL"],[["Str","\"The demon laughs uproariously.\""]," CR>)"],["\t      (<AND <VERB? GIVE> <EQUAL? ,",["Id","PRSI"]," ,",["Id","GENIE"],">>"],["\t       <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","IRON-BOX"],"> <IN? ,",["Id","VIOLIN"]," ,",["Id","PRSO"],">>"],["\t\t      <TELL"],[["Str","\"The genie frowns briefly, then opens the box. He smiles horribly.\""]," CR>"],["\t\t      <SETG ",["Id","PRSO"]," ,",["Id","VIOLIN"],">)>"],["\t       <COND (<GETPT ,",["Id","PRSO"]," ,",["Implid","P?VALUE"],">"],["\t\t      <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t      <SETG ",["Id","GENIE-HOARD"]," <+ ,",["Id","GENIE-HOARD"]," 1>>"],["\t\t      <",["Id","SCORE-UPD"]," 2>"],["\t\t      <SET ",["Localid","HOARD"]," <+ ,",["Id","GENIE-HOARD"]," <",["Id","CASE-WORTH"],">>>"],["\t\t      <COND (<NOT <L? .",["Localid","HOARD"]," ,",["Id","TREASURES-MAX"],">>"],["\t\t\t     <SETG ",["Id","GENIE-READY?"]," T>"],["\t\t\t     <PUTP ,",["Id","WIZARD"]," ,",["Implid","P?LDESC"]],[["Str","\"A dejected and fearful Wizard watches from the corner.\""],">"],["\t\t\t     <TELL"],[["Str","\"\\\"This will do for my fee. 'Tis a paltry hoard, but as you have done"]],[["Str","me a small service by loosing me from this wizard, it will suffice.\\\"\""]," CR>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"\\\"\""]," <GET ,",["Id","GENIE-THANKS"]," .",["Localid","HOARD"],"> ",["Str","\"\\\"\""]," CR>"],["\t\t\t     <COND (<EQUAL? .",["Localid","HOARD"]," 8>"],["\t\t\t\t    <TELL"],[["Str","\"The Wizard looks at you as if you are a madman. He tears his beard and"]],[["Str","stares at you fearfully.\""]," CR>)>"],["\t\t\t     <RTRUE>)>)"],["\t\t     (<",["Id","BOMB?"]," ,",["Id","PRSO"],">"],["\t\t      <",["Id","GENIE-LEAVES"]," <>>"],["\t\t      <TELL"],[["Str","\"\\\"I fear that this violates my contract, oh foolish one. Thus, I am"]],[["Str","free to depart.\\\"\""]," CR>)"],["\t\t     (T"],["\t\t      <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t      <TELL"],[["Str","\"The demon gladly takes the \""]," D ,",["Id","PRSO"]," ",["Str","\" and smiles balefully,"]],[["Str","revealing enormous fangs.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","GENIE-LEAVES"]," (\"OPTIONAL\" (",["Localid","NOISY?"]," T))"],["\t <FSET ,",["Id","GENIE"]," ,",["Implid","INVISIBLE"],">"],["\t <COND (.",["Localid","NOISY?"]],["\t\t<TELL ",["Str","\"The genie departs, his agreement fulfilled.\""]," CR>)>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <RFATAL>>"],[],["<GLOBAL ",["Iddef","GENIE-READY?"]," <>>"],["<GLOBAL ",["Iddef","GENIE-HOARD"]," 0>"],["<CONSTANT ",["Iddef","TREASURES-MAX"]," 10>\t",["Comment",";\"all treasures but palantirs(4),"]],[["Comment","\t\t\t\t  candy, collar, wand.\""]],[],["<GLOBAL ",["Iddef","GENIE-THANKS"]," <LTABLE"],[["Str","\"Most fine, master! But 'tis not enough. I will do a great service,"]],[["Str","and are not great services bought at great price?\""]],[["Str","\"Very nice, but not enough!\""]],[["Str","\"Ah, truly magnificent! Keep them coming.\""]],[["Str","\"Almost halfway there, oh worthy one!\""]],[["Str","\"Oh, such beauty! Your generosity almost overwhelms me!\""]],[["Str","\"Truly I shall do thee a wonderful service when thou hast finished!\""]],[["Str","\"Truly you are most generous! But still, this is yet not enough.\""]],[["Str","\"A fine gift, mighty one, you have almost reached my fee.\""]],[["Str","\"Wondrous fine, master! But one treasure is yet to be given!\""],">>"],[],["<ROUTINE ",["Iddef","CASE-WORTH"]," (\"AUX\" ",["Localid","F"]," (",["Localid","W"]," 0))"],["\t <SET ",["Localid","F"]," <FIRST? ,",["Id","WIZARD-CASE"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","F"],"> <RETURN .",["Localid","W"],">)>"],["\t\t <COND (<GETPT .",["Localid","F"]," ,",["Implid","P?VALUE"],">"],["\t\t\t<SET ",["Localid","W"]," <+ .",["Localid","W"]," 1>>)>"],["\t\t <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>>"],[],["<ROUTINE ",["Iddef","PENTAGRAM-FCN"]," (\"OPTIONAL\" (",["Localid","RARG"]," ,",["Id","M-BEG"],"))"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<VERB? THROUGH BOARD>"],["\t\t       <TELL"],[["Str","\"You try to enter the pentagram, but are forced back by an invisible"]],[["Str","power.\""]," CR>)"],["\t              (<AND <VERB? PUT PUT-ON> <EQUAL? ,",["Id","PRSO"]," ,",["Id","PALANTIR-4"],">>"],["\t\t       <REMOVE ,",["Id","PALANTIR-4"],">"],["\t\t       <MOVE ,",["Id","GENIE"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t       <TELL"],[["Str","\"A cold wind blows outward from the sphere. The candles flicker, and a"]],[["Str","low moan, almost inaudible, is heard. It rises in volume and pitch"]],[["Str","until it becomes a high-pitched keening. A dim shape becomes visible in"]],[["Str","the air above the sphere. The shape resolves into a large and somewhat"]],[["Str","formidable looking demon. He looks around, tests the walls of the"]],[["Str","pentagram experimentally, then sees you! \\\"Hmm, a new master...\\\" he"]],[["Str","says under his breath. \\\"Greetings, oh master! Wouldst desire a"]],[["Str","service, as our contract stateth? For some pittance of wealth, some"]],[["Str","trifle, I will gratify thy desires to the utmost limit of my powers, and"]],[["Str","they are not inconsiderable.\\\" He makes a pass with his massive arms and"]],[["Str","the walls begin to shake a little. Another pass and the shaking stops."]],[["Str","\\\"A nice effect... I find it makes for a better relationship to give"]],[["Str","such a demonstration early on.\\\" He grins vilely.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","WIZARD-FCN"]," (\"OPTIONAL\" (",["Localid","RARG"]," ,",["Id","M-OBJECT"],") \"AUX\" ",["Localid","OLIT"],")"],["\t <COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","WIZARD"],">"],["\t\t<COND (<VERB? GIVE> <TELL"],[["Str","\"The Wizard replies \\\"Foolishment!\\\"\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The Wizard considers your statement carefully. His expression indicates"]],[["Str","he regards it as fanciful.\""]," CR>)>)"],["\t       (<AND <VERB? GIVE> <EQUAL? ,",["Id","PRSI"]," ,",["Id","WIZARD"],">>"],["\t\t<SET ",["Localid","OLIT"]," ,",["Id","LIT"],">"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t<COND (<",["Id","BOMB?"]," ,",["Id","PRSO"],">"],["\t\t       <COND (<IN? ,",["Id","GENIE"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t\t      <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t\t      <TELL"],[["Str","\"The wizard accepts this final folly resignedly.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <REMOVE ,",["Id","WIZARD"],">"],["\t\t\t      <TELL"],[["Str","\"\\\"Hmm...\\\" The Wizard mutters something, then waves his wand over the"]],[["Str","bomb. It transforms into a bouquet of flowers. Both Wizard and"]],[["Str","flowers disappear.\""]," CR>)>)"],["\t\t      (<AND .",["Localid","OLIT"]," <NOT ,",["Id","LIT"],">>"],["\t\t       <TELL"],[["Str","\"\\\"Thank you.\\\" As the Wizard places the \""]," D ,",["Id","PRSO"]," ",["Str","\" under his robe, the"]],[["Str","room becomes dark.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"\\\"Thank you.\\\"\""]," CR>)>)"],["\t       (<",["Id","HELLO?"]," ,",["Id","WIZARD"],">"],["\t\t<TELL"],[["Str","\"The Wizard seems surprised, much as you might be if a dog talked.\""]," CR>)"],["\t       (<VERB? ATTACK MUNG>"],["\t\t<REMOVE ,",["Id","WIZARD"],">"],["\t\t<COND (<IN? ,",["Id","WAND"]," ,",["Id","WIZARD"],">"],["\t\t       <TELL"],[["Str","\"The Wizard retreats, waving his wand and chanting. He says \\\"Fear!\\\""]],[["Str","\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The Wizard tries to cast the \\\"Fear!\\\" spell, but without his wand!"]],[["Str","\""],">)>"],["\t\t<COND (<NOT <FSET? ,",["Id","GENIE"]," ,",["Implid","INVISIBLE"],">>"],["\t\t       <TELL"],[["Str","\"Nothing happens! With a terrified glance at the demon, the wizard"]],[["Str","runs past you and out of the room.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"You are suddenly terrified. The Wizard seems huge and terrible,"]],[["Str","looming over you. You flee, terrified. He chuckles, snaps his fingers, and"]],[["Str","disappears.\""]," CR CR>"],["\t\t       <SETG ",["Id","SPELL?"]," ,",["Id","S-FEAR"],">"],["\t\t       <PUTP ,",["Id","ADVENTURER"]," ,",["Implid","P?ACTION"]," ",["Id","MAGIC-ACTOR"],">"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-WIZARD"]," 10>>"],["\t\t       <",["Id","RANDOM-WALK"],">)>)>>"],[],["<ROUTINE ",["Iddef","I-WIZARD"]," (\"AUX\" ",["Localid","CAST-PROB"]," (",["Localid","PCNT"]," 0) ",["Localid","F"]," (",["Localid","WLOC"]," <LOC ,",["Id","WINNER"],">))"],["\t <ENABLE <",["Id","QUEUE"]," ",["Iddef","I-WIZARD"]," 4>>"],["\t <COND (,",["Id","DEAD"]," <RFALSE>)"],["\t       (,",["Id","SPELL?"]],["\t\t<COND (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FLOAT"],">"],["\t\t       <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","WELL-TOP"],">"],["\t\t\t      <",["Id","JIGS-UP"]],[["Str","\"You plunge to the bottom of the shaft as the spell wears off.\""],">"],["\t\t\t      <RTRUE>)"],["\t\t\t     (<AND <FSET? ,",["Id","HERE"]," ,",["Implid","NONLANDBIT"],">"],["\t\t\t\t   <NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","WELL-BOTTOM"]],["\t\t\t\t\t\t,",["Id","VOLCANO-BOTTOM"],">>>"],["\t\t\t      <",["Id","JIGS-UP"]],[["Str","\"As the spell wears off, you find yourself making a half-gainer"]],[["Str","towards the bottom of the volcano.\""],">"],["\t\t\t      <RTRUE>)>)"],["\t\t      (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FEEBLE"],">"],["\t\t       <SETG ",["Id","LOAD-ALLOWED"]," ,",["Id","LOAD-MAX"],">)"],["\t\t      (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FIERCE"],">"],["\t\t       <SETG ",["Id","SWORD-GLOW"]," 0>)"],["\t\t      (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FUMBLE"],">"],["\t\t       <SETG ",["Id","FUMBLE-NUMBER"]," 7>"],["\t\t       <SETG ",["Id","FUMBLE-PROB"]," 8>)>"],["\t\t<COND (<GET ,",["Id","SPELL-STOPS"]," ,",["Id","SPELL?"],">"],["\t\t       <TELL <GET ,",["Id","SPELL-STOPS"]," ,",["Id","SPELL?"],"> CR>)>"],["\t\t<PUTP ,",["Id","ADVENTURER"]," ,",["Implid","P?ACTION"]," 0>"],["\t\t<SETG ",["Id","SPELL?"]," <>>"],["\t\t<RTRUE>)>"],["\t <COND (<IN? ,",["Id","GENIE"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t<DISABLE <",["Id","INT"]," ",["Iddef","I-WIZARD"],">>"],["\t\t<COND (<NOT <IN? ,",["Id","WIZARD"]," ,",["Id","PENTAGRAM-ROOM"],">>"],["\t\t       <MOVE ,",["Id","WIZARD"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t       <COND (<IN? ,",["Id","WINNER"]," ,",["Id","PENTAGRAM-ROOM"],">"],["\t\t\t      <TELL"],[],[["Str","\"Suddenly the Wizard materializes in the room. He is astonished by what"]],[["Str","he sees: his servant in deep conversation with a common adventurer! He"]],[["Str","draws forth his wand, waves it frantically, and incants \\\"Frobizz!"]],[["Str","Frobozzle! Frobnoid!\\\" The demon laughs heartily. \\\"You no longer"]],[["Str","control the Black Crystal, hedge-wizard! Your wand is powerless! Your"]],[["Str","doom is sealed!\\\" The demon turns to you, expectantly.\""]," CR>)>)>"],["\t\t<RTRUE>)>"],["\t <COND (<AND <NOT ,",["Id","LIT"],">"],["\t\t     <FSET? ,",["Id","LAMP"]," ,",["Implid","RMUNGBIT"],">"],["\t\t     <G? ,",["Id","SCORE"]," 200>>"],["\t\t<SETG ",["Id","ALWAYS-LIT"]," T>"],["\t\t<SETG ",["Id","LIT"]," T>"],["\t\t<TELL"],[["Str","\"In the darkness you hear the voice of the Wizard. \\\"Dear me, you seem"]],[["Str","to have gotten into quite a pickle.\\\" He chuckles. \\\"Fluoresce!\\\" he"]],[["Str","incants. It is no longer dark.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <COND (<AND <LOC ,",["Id","WIZARD"],"> <PROB 80>>"],["\t\t<COND (<IN? ,",["Id","WIZARD"]," ,",["Id","HERE"],">"],["\t\t       <TELL ",["Str","\"The Wizard vanishes.\""]," CR>)>"],["\t\t<REMOVE ,",["Id","WIZARD"],">"],["\t\t<RTRUE>)>"],["\t <COND (<PROB 10>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","POSTS-ROOM"]," ,",["Id","POOL-ROOM"],">"],["\t\t       <TELL"],[["Str","\"A huge and terrible wizard appears before you, as large as the largest"]],[["Str","tree! He looks down on you as you would look upon a gnat!\""]," CR>)"],["\t\t      (<FSET? ,",["Id","HERE"]," ,",["Implid","NONLANDBIT"],">"],["\t\t       <TELL"],[["Str","\"The Wizard appears, floating nonchalantly in the air beside you. He"]],[["Str","grins sideways at you.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"A strange little man in a long cloak appears suddenly in the room."]],[["Str","He is wearing a high pointed hat embroidered with astrological signs."]],[["Str","He has a long, stringy, and unkempt beard.\""]," CR>)>"],["\t\t<COND (<IN? ,",["Id","PALANTIR-4"]," ,",["Id","ADVENTURER"],">"],["\t\t       <TELL"],[["Str","\"The Wizard notices that you carry the Black Crystal, and with an"]],[["Str","unseemly haste, he disappears.\""]," CR>"],["\t\t       <REMOVE ,",["Id","WIZARD"],">"],["\t\t       <RTRUE>)"],["\t\t      (<PROB 20>"],["\t\t       <TELL"],[["Str","\"He mutters something (muffled by his beard) and disappears as suddenly"]],[["Str","as he came.\""]," CR>"],["\t\t       <REMOVE ,",["Id","WIZARD"],">"],["\t\t       <RTRUE>)>"],["\t\t<COND (<IN? ,",["Id","PALANTIR-1"]," ,",["Id","ADVENTURER"],">"],["\t\t       <SET ",["Localid","PCNT"]," <+ .",["Localid","PCNT"]," 1>>)>"],["\t\t<COND (<IN? ,",["Id","PALANTIR-2"]," ,",["Id","ADVENTURER"],">"],["\t\t       <SET ",["Localid","PCNT"]," <+ .",["Localid","PCNT"]," 1>>)>"],["\t\t<COND (<IN? ,",["Id","PALANTIR-3"]," ,",["Id","ADVENTURER"],">"],["\t\t       <SET ",["Localid","PCNT"]," <+ .",["Localid","PCNT"]," 1>>)>"],["\t\t<SET ",["Localid","CAST-PROB"]," <- 80 <* .",["Localid","PCNT"]," 20>>>"],["\t\t<TELL"],[["Str","\"The Wizard draws forth his wand and waves it in your direction. It"]],[["Str","begins to glow with a faint blue glow.\""]," CR>"],["\t\t<COND (<PROB .",["Localid","CAST-PROB"],">"],["\t\t       <MOVE ,",["Id","WIZARD"]," ,",["Id","HERE"],">"],["\t\t       <SETG ",["Id","SPELL?"]," <RANDOM ,",["Id","SPELLS"],">>"],["\t\t       <PUTP ,",["Id","ADVENTURER"]," ,",["Implid","P?ACTION"]," ",["Id","MAGIC-ACTOR"],">"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Iddef","I-WIZARD"]],["\t\t\t\t      <+ 5"],["\t\t\t\t\t <RANDOM <- 30 <* 5 .",["Localid","PCNT"],">>>>>>"],["\t\t       <COND (<PROB 75>"],["\t\t\t      <TELL"],[["Str","\"The Wizard, in a deep and resonant voice, speaks the word \\\"\""]],["<GET ,",["Id","SPELL-NAMES"]," ,",["Id","SPELL?"],"> ",["Str","\"!\\\" He cackles gleefully.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The Wizard, almost inaudibly, whispers a word beginning with \\\"F,\\\""]],[["Str","and then disappears, chuckling nastily.\""]," CR>)>"],["\t\t       <REMOVE ,",["Id","WIZARD"],">"],["\t\t       <COND (<GET ,",["Id","SPELL-HINTS"]," ,",["Id","SPELL?"],">"],["\t\t\t      <TELL <GET ,",["Id","SPELL-HINTS"]," ,",["Id","SPELL?"],"> CR>)>"],["\t\t       <COND (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FALL"],">"],["\t\t\t      <COND (<FSET? .",["Localid","WLOC"]," ,",["Implid","VEHBIT"],">"],["\t\t\t\t     <TELL"],[["Str","\"You suddenly fall headlong out of the \""]," D .",["Localid","WLOC"]," ",["Str","\" as though"]],[["Str","someone had flipped it over.\""]," CR>"],["\t\t\t\t     <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","WELL-TOP"],">"],["\t\t\t\t\t    <",["Id","JIGS-UP"]],[["Str","\"You plummet to the bottom of the shaft.\""],">)"],["\t\t\t\t\t   (<AND <FSET? ,",["Id","HERE"]," ,",["Implid","NONLANDBIT"],">"],["\t\t\t\t\t\t <NOT <EQUAL? ,",["Id","HERE"]],["\t\t\t\t\t\t\t      ,",["Id","VOLCANO-BOTTOM"]],["\t\t\t\t\t\t\t      ,",["Id","WELL-BOTTOM"],">>>"],["\t\t\t\t\t    <",["Id","JIGS-UP"]],[["Str","\"You make a rather messy swan dive to the bottom of the volcano.\""],">)"],["\t\t\t\t\t   (ELSE <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">)>)>)"],["\t\t\t     (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FLOAT"],">"],["\t\t\t      <COND (<FSET? .",["Localid","WLOC"]," ,",["Implid","VEHBIT"],">"],["\t\t\t\t     <TELL"],[["Str","\" You rise majestically out of the \""]," D .",["Localid","WLOC"]," ",["Str","\", coming to a stop about five"]],[["Str","feet above it and to one side.\""]," CR>"],["\t\t\t\t     <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"Slowly, you and all your belongings rise into the air, stopping after"]],[["Str","about five feet.\""]," CR>)>)"],["\t\t\t     (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FEEBLE"],">"],["\t\t\t      <SETG ",["Id","LOAD-ALLOWED"]," 50>"],["\t\t\t      <COND (<SET ",["Localid","F"]," <FIRST? ,",["Id","WINNER"],">>"],["\t\t\t\t     <TELL"],[["Str","\"In fact, you feel so weak that you drop the \""]," D .",["Localid","F"]," ",["Str","\".\""]," CR>"],["\t\t\t\t     <MOVE .",["Localid","F"]," .",["Localid","WLOC"],">)>)"],["\t\t\t     (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FEAR"],">"],["\t\t\t      <COND (<FSET? .",["Localid","WLOC"]," ,",["Implid","VEHBIT"],">"],["\t\t\t\t     <TELL"],[["Str","\"You cower in the corner of the \""]," D .",["Localid","WLOC"]," ",["Str","\", hoping the wizard"]],[["Str","won't see you.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <CRLF>"],["\t\t\t\t     <",["Id","RANDOM-WALK"],">)>)"],["\t\t\t     (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FUMBLE"],">"],["\t\t\t      <SETG ",["Id","FUMBLE-NUMBER"]," 3>"],["\t\t\t      <SETG ",["Id","FUMBLE-PROB"]," 25>"],["\t\t\t      <COND (<SET ",["Localid","F"]," <FIRST? ,",["Id","ADVENTURER"],">>"],["\t\t\t\t     <TELL"],[["Str","\"Ooops! You dropped the \""]," D .",["Localid","F"]," ",["Str","\".\""]," CR>"],["\t\t\t\t     <MOVE .",["Localid","F"]," .",["Localid","WLOC"],">)>)"],["\t\t\t     (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FILCH"],">"],["\t\t\t      <COND (<",["Id","ROB"]," ,",["Id","WINNER"]," ,",["Id","WIZARD-CASE"],">"],["\t\t\t\t     <TELL"],[["Str","\"Something you are carrying has disappeared!\""]," CR>)>)"],["\t\t\t     (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FIERCE"],">"],["\t\t\t      <TELL"],[["Str","\"The Wizard mumbles something under his breath, and just before you"]],[["Str","reach him, he vanishes.\""]," CR>)>"],["\t\t       <RTRUE>)"],["\t\t      (<PROB 50>"],["\t\t       <REMOVE ,",["Id","WIZARD"],">"],["\t\t       <TELL"],[["Str","\"There is a loud crackling noise. Blue smoke rises from out of the"]],[["Str","Wizard's sleeve. He sighs and disappears.\""]," CR>)"],["\t\t      (<PROB 50>"],["\t\t       <REMOVE ,",["Id","WIZARD"],">"],["\t\t       <TELL"],[["Str","\"The Wizard incants \\\"\""]," <",["Id","RANDOM-ELEMENT"]," ,",["Id","SPELL-NAMES"],"> ",["Str","\"!\\\" but nothing"]],[["Str","happens. He shakes the wand. Nothing happens. With a slightly"]],[["Str","embarrassed glance in your direction, he vanishes.\""]," CR>)"],["\t\t      (T"],["\t\t       <MOVE ,",["Id","WIZARD"]," ,",["Id","HERE"],">"],["\t\t       <TELL"],[["Str","\"The Wizard seems about to say something, but thinks better of it,"]],[["Str","and peers at you from under his bushy eyebrows.\""]," CR>)>)>>"],[],["<GLOBAL ",["Iddef","SPELL?"]," <>>"],[],["<CONSTANT ",["Iddef","SPELLS"]," 12>"],["<CONSTANT ",["Iddef","S-FEEBLE"]," 1>"],["<CONSTANT ",["Iddef","S-FUMBLE"]," 2>"],["<CONSTANT ",["Iddef","S-FEAR"]," 3>"],["<CONSTANT ",["Iddef","S-FILCH"]," 4>"],["<CONSTANT ",["Iddef","S-FREEZE"]," 5>"],["<CONSTANT ",["Iddef","S-FALL"]," 6>"],["<CONSTANT ",["Iddef","S-FERMENT"]," 7>"],["<CONSTANT ",["Iddef","S-FIERCE"]," 8>"],["<CONSTANT ",["Iddef","S-FLOAT"]," 9>"],["<CONSTANT ",["Iddef","S-FIREPROOF"]," 10>"],["<CONSTANT ",["Iddef","S-FENCE"]," 11>"],["<CONSTANT ",["Iddef","S-FANTASIZE"]," 12>"],[],["<GLOBAL ",["Iddef","SPELL-NAMES"]],["\t<LTABLE ",["Str","\"Feeble\""]," ",["Str","\"Fumble\""]," ",["Str","\"Fear\""]," ",["Str","\"Filch\""]," ",["Str","\"Freeze\""]],["\t\t",["Str","\"Fall\""]," ",["Str","\"Ferment\""]," ",["Str","\"Fierce\""]," ",["Str","\"Float\""]," ",["Str","\"Fireproof\""]],["\t\t",["Str","\"Fence\""]," ",["Str","\"Fantasize\""],">>"],[],["<GLOBAL ",["Iddef","SPELL-HINTS"]],["\t<LTABLE"],[["Str","\"All at once you feel very tired.\""]],["<>"],[["Str","\"You look at the Wizard in terror. You scramble away,"]],[["Str","trying to get as far as possible from him.\""]],["<>"],[["Str","\"Your limbs suddenly feel like they have turned to stone. You can't"]],[["Str","move a muscle.\""]],["<>"],[["Str","\"You begin to feel lightheaded.\""]],[["Str","\"You rush at the Wizard, intending to tear him limb from limb.\""]],["<>"],["<>"],["<>"],["<>>>"],[],["<GLOBAL ",["Iddef","SPELL-STOPS"]],["\t<LTABLE"],[["Str","\"You feel more energetic now.\""]],["<>"],[["Str","\"You suddenly decide that the Wizard isn't that terrifying...\""]],["<>"],[["Str","\"Your little finger begins to twitch, and then your whole body is free"]],[["Str","again.\""]],["<>"],[["Str","\"Your head is clearer now.\""]],[["Str","\"You feel cooler and less angry now.\""]],[["Str","\"You sink quietly down again.\""]],["<>"],["<>"],["<>>>"],[],["<ROUTINE ",["Iddef","ROB"]," (",["Localid","WHO"]," ",["Localid","WHERE"]," \"AUX\" ",["Localid","N"]," ",["Localid","X"]," (",["Localid","ROBBED?"]," <>))"],["\t <SET ",["Localid","X"]," <FIRST? .",["Localid","WHO"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RETURN .",["Localid","ROBBED?"],">)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t <COND (<",["Id","RIPOFF"]," .",["Localid","N"]," .",["Localid","WHERE"],"> <SET ",["Localid","ROBBED?"]," T>)>"],["\t\t <SET ",["Localid","X"]," .",["Localid","N"],">>>"],[],["<ROUTINE ",["Iddef","RIPOFF"]," (",["Localid","X"]," ",["Localid","WHERE"],")"],["\t <COND (<AND <NOT <FSET? .",["Localid","X"]," ,",["Implid","INVISIBLE"],">>"],["\t\t     <GETPT .",["Localid","X"]," ,",["Implid","P?VALUE"],">"],["\t\t     <NOT <EQUAL? .",["Localid","X"]," ,",["Id","PALANTIR-1"],">>"],["\t\t     <NOT <EQUAL? .",["Localid","X"]," ,",["Id","PALANTIR-2"],">>"],["\t\t     <NOT <EQUAL? .",["Localid","X"]," ,",["Id","PALANTIR-3"],">>"],["\t\t     <NOT <EQUAL? .",["Localid","X"]," ,",["Id","GOLD-KEY"],">>"],["\t\t     <NOT <EQUAL? .",["Localid","X"]," ,",["Id","CANDY"],">>>"],["\t\t<MOVE .",["Localid","X"]," .",["Localid","WHERE"],">"],["\t\t<FSET .",["Localid","X"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","WIZARD-CASE-FCN"]," ()"],["\t <COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","GENIE"],">"],["\t\t<COND (<VERB? MUNG OPEN>"],["\t\t       <REMOVE ,",["Id","WIZARD-CASE"],">"],["\t\t       <MOVE ,",["Id","BROKEN-CASE"]," ,",["Id","TROPHY-ROOM"],">"],["\t\t       <TELL"],[["Str","\"The demon smashes the case into smithereens. Everything in it smashes"]],[["Str","as well.\""]," CR>)>)"],["\t       (<AND <VERB? ENCHANT> <EQUAL? ,",["Id","SPELL-USED"]," ,W?FILCH>>"],["\t\t<",["Id","ROB"]," ,",["Id","WIZARD-CASE"]," ,",["Id","HERE"],">"],["\t\t<SETG ",["Id","SPELL-HANDLED?"]," T>"],["\t\t<TELL"],[["Str","\"The contents of the case are arrayed at your feet.\""]," CR>)"],["\t       (<VERB? OPEN MUNG CLOSE TAKE>"],["\t\t<TELL"],[["Str","\"The case is protected by a fearful spell. You cannot touch it in any"]],[["Str","way.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","SPELL-HANDLED?"]," <>>\t",["Comment",";\"T if handled before I-SPELL runs\""]],["<GLOBAL ",["Iddef","WAND-ON"]," <>>"],["<GLOBAL ",["Iddef","SPELL-USED"]," <>>"],["<GLOBAL ",["Iddef","SPELL-VICTIM"]," <>>"],[],["<ROUTINE ",["Iddef","WAND-FCN"]," ()"],["\t <COND (<AND <VERB? TAKE PUT GIVE> <IN? ,",["Id","WAND"]," ,",["Id","WIZARD"],">>"],["\t\t<COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t       <TELL ",["Str","\"The Wizard snatches it away.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","WINNER"]," ,",["Id","ROBOT"],">"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"The Wizard snatches the wand away, muttering the word \\\"Float\\\" at the"]],[["Str","robot. Unfortunately he has no floating-point processor and dies in a"]],[["Str","vain attempt to divide 4.85 by 3.62.\""],">)>)"],["\t       (<AND <VERB? WAVE>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","GRUE"],">>"],["\t        <TELL"],[["Str","\"There is no grue in sight, but a hissing sound issues forth from the"]],[["Str","darkness.\""]," CR>)"],["\t       (<VERB? WAVE RUB RAISE>"],["\t\t<COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","WAND"],">"],["\t\t\t    <NOT <IN? ,",["Id","WAND"]," ,",["Id","WINNER"],">>>"],["\t\t       <TELL ",["Str","\"You don't have the wand!\""]," CR>"],["\t\t       <RTRUE>)"],["\t\t      (<OR ,",["Id","WAND-ON"]," ,",["Id","SPELL-USED"]," ,",["Id","SPELL-VICTIM"],">"],["\t\t       <COND (<PROB 5>"],["\t\t\t      <",["Id","JIGS-UP"]],[["Str","\"The wand was still recharging from its last use. It discharges magic all"]],[["Str","over everything. You turn into a toad, the room fills with a fetid smell,"]],[["Str","and all sorts of other grubby things happen. Then the wand explodes!\""],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"A lot you know about magic! A magic wand takes a while to recharge"]],[["Str","after use! You might cause it to short-circuit!\""]," CR>)>"],["\t\t       <RTRUE>)"],["\t\t      (<VERB? WAVE>"],["\t\t       <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","WAND"],"> ,",["Id","PRSI"],">"],["\t\t\t      <SETG ",["Id","WAND-ON"]," ,",["Id","PRSI"],">"],["\t\t\t      <SETG ",["Id","WAND-ON-LOC"]," ,",["Id","HERE"],">)"],["\t\t\t     (T <TELL ",["Str","\"At what?\""]," CR> <RTRUE>)>)"],["\t\t      (<VERB? RUB>"],["\t\t       <COND (<AND <EQUAL? ,",["Id","PRSI"]," ,",["Id","WAND"],"> ,",["Id","PRSO"],">"],["\t\t\t      <SETG ",["Id","WAND-ON"]," ,",["Id","PRSO"],">)"],["\t\t\t     (T <TELL ",["Str","\"Touch what?\""]," CR> <RTRUE>)>)"],["\t\t      (<VERB? RAISE>"],["\t\t       <TELL ",["Str","\"The wand grows warm and seems to vibrate.\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<COND (,",["Id","WAND-ON"]],["\t\t       <SETG ",["Id","SPELL-USED"]," <>>"],["\t\t       <SETG ",["Id","SPELL-VICTIM"]," <>>"],["\t\t       <COND (<EQUAL? ,",["Id","WAND-ON"]," ,",["Id","ME"]," ,",["Id","WAND"],">"],["\t\t\t      <SETG ",["Id","WAND-ON"]," <>>"],["\t\t\t      <TELL"],[["Str","\"Fortunately a safety interlock prevents the fatal feedback loop that"]],[["Str","this would cause.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The wand grows warm, the \""]," D ,",["Id","WAND-ON"]," ",["Str","\" seems to glow dimly with"]],[["Str","magical essences, and you feel suffused with power.\""]," CR>)>"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-WAND"]," 2>>)>"],["\t\tT)>>"],[],["<GLOBAL ",["Iddef","WAND-ON-LOC"]," <>>"],[],["<ROUTINE ",["Iddef","I-WAND"]," ()"],["\t <COND (<AND ,",["Id","WAND-ON"]],["\t\t     <OR <EQUAL? ,",["Id","WAND-ON-LOC"]," ,",["Id","HERE"],">"],["\t\t\t <IN? ,",["Id","WAND-ON"]," ,",["Id","WINNER"],">>>"],["\t\t<TELL"],[["Str","\"The \""]," D ,",["Id","WAND-ON"]," ",["Str","\" stops glowing and the power within you weakens.\""]," CR>"],["\t\t<SETG ",["Id","WAND-ON"]," <>>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<SETG ",["Id","WAND-ON"]," <>>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","WIZARD-QUARTERS-FCN"]," (",["Localid","RARG"]," \"AUX\" ",["Localid","PICK"]," ",["Localid","L"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"]," ,",["Id","M-FLASH"],">"],["\t\t<TELL"],[["Str","\"This is where the Wizard of Frobozz lives. The room is \""],">"],["\t\t<SET ",["Localid","L"]," <GET ,",["Id","WIZQDESCS"]," 0>>"],["\t\t<SET ",["Localid","PICK"]," <RANDOM .",["Localid","L"],">>"],["\t\t<COND (<EQUAL? .",["Localid","PICK"]," ,",["Id","WIZQLAST"],">"],["\t\t       <COND (<EQUAL? .",["Localid","PICK"]," .",["Localid","L"],">"],["\t\t\t      <SET ",["Localid","PICK"]," <- .",["Localid","PICK"]," 1>>)"],["\t\t\t     (T"],["\t\t\t      <SET ",["Localid","PICK"]," <+ .",["Localid","PICK"]," 1>>)>)>"],["\t\t<SETG ",["Id","WIZQLAST"]," .",["Localid","PICK"],">"],["\t\t<TELL <GET ,",["Id","WIZQDESCS"]," .",["Localid","PICK"],"> CR>)>>"],[],["<GLOBAL ",["Iddef","WIZQLAST"]," 0>"],[],["<GLOBAL ",["Iddef","WIZQDESCS"]],["\t<LTABLE"],[["Str","\"sparsely furnished and almost monkish in its austerity.\""]],[["Str","\"an opulently furnished seraglio out of an Arabian folktale.\""]],[["Str","\"decorated in the Louis XIV style.\""]],[["Str","\"overhung with palm-trees and lianas. The only furniture is a hammock.\""]],[["Str","\"constructed of delicate and wispy cloud-stuffs.\""]],[["Str","\"furnished in plastic and metal and looks like the control deck of a"]],[["Str","spaceship.\""]],[["Str","\"a suburban bedroom out of the 1950's, complete with bunk beds.\""]],[["Str","\"a dank and dimly lighted cave, its floor piled with furs and old bones.\""],">>"],[],["<ROUTINE ",["Iddef","BRIDGE-FCN"]," ()"],["\t <COND (<VERB? CROSS>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?CROSS"],">)"],["\t       (<VERB? LEAP>"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"You execute a perfect swan-dive into the depths below.\""],">)>>"],[],[["Comment",";\"misc. routines\""]],[],["<ROUTINE ",["Iddef","STREAM-FCN"]," ()"],["\t <COND (<VERB? SWIM THROUGH>"],["\t\t<TELL ",["Str","\"You can't swim in the stream.\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"You'll have to find a ford or a bridge.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CHASM-FCN"]," ()"],["\t <COND (<OR <VERB? LEAP>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">>>"],["\t\t<TELL"],[["Str","\"For a change, you look before leaping. You realize you would"]],[["Str","never survive.\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"You'll have to find a bridge.\""]," CR>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,",["Id","PRSI"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t<TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" drops out of sight into the chasm.\""]," CR>"],["\t\t<REMOVE ,",["Id","PRSO"],">)>>"],[],["<ROUTINE ",["Iddef","TUNNEL-OBJECT"]," ()"],["\t <COND (<AND <VERB? THROUGH> <GETPT ,",["Id","HERE"]," ,",["Implid","P?IN"],">>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?IN"],"> <RTRUE>)"],["\t       (T <",["Id","PATH-OBJECT"],">)>>"],[],["<ROUTINE ",["Iddef","STALA-PSEUDO"]," ()"],["\t <COND (<VERB? TAKE MUNG>"],["\t\t<TELL"],[["Str","\"The only ones you can reach are too large to successfully break off.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","MOSS-FCN"]," ()"],["\t <COND (<VERB? TAKE RUB>"],["\t\t<TELL"],[["Str","\"Some of the moss rubs off on you, but it stops glowing very quickly"]],[["Str","once plucked from its environment.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","ROSE-BUSH-FCN"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"You prick your finger trying to take a rose, and jump back annoyed."]],[["Str","The rose almost seemed to move its thorns into your path.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","I-SPELL"]," ()"],["\t <COND (<AND <NOT ,",["Id","SPELL-HANDLED?"],"> ,",["Id","SPELL-VICTIM"],">"],["\t\t<",["Id","PERFORM"]," ,V?DISENCHANT ,",["Id","SPELL-VICTIM"],">)>"],["\t <SETG ",["Id","SPELL-HANDLED?"]," <>>"],["\t <SETG ",["Id","WAND-ON"]," <>>"],["\t <SETG ",["Id","SPELL-USED"]," <>>"],["\t <SETG ",["Id","SPELL-VICTIM"]," <>>>"],[],["<GLOBAL ",["Iddef","FANTASIES"]],["\t<LTABLE ",["Str","\"pile of jewels\""]," ",["Str","\"gold ingot\""]," ",["Str","\"basilisk\""]],["\t\t",["Str","\"bulging chest\""]," ",["Str","\"yellow sphere\""]," ",["Str","\"grue\""]],["\t\t",["Str","\"convention of wizards\""]," ",["Str","\"copy of ZORK I\""],">>"],[],["^/L"],[],[["Comment",";\"special-cased routines\""]],[],["<ROUTINE ",["Iddef","V-DIAGNOSE"]," ()"],["\t <COND (,",["Id","DEAD"]," <TELL ",["Str","\"You are dead.\""],">)"],["\t       (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FERMENT"],">"],["\t\t<TELL ",["Str","\"You are drunk.\""],">)"],["\t       (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FEEBLE"],">"],["\t\t<TELL ",["Str","\"You seem unusually weak right now.\""],">)"],["\t       (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FLOAT"],">"],["\t\t<TELL ",["Str","\"You seem somewhat light.\""],">)"],["\t       (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FREEZE"],">"],["\t\t<TELL ",["Str","\"You are frozen stiff.\""],">)"],["\t       (ELSE <TELL ",["Str","\"You are in perfect health.\""],">)>"],["\t <CRLF>"],["\t <COND (<NOT <0? ,",["Id","DEATHS"],">>"],["\t\t<TELL ",["Str","\"You have been killed \""],">"],["\t\t<COND (<1? ,",["Id","DEATHS"],"> <TELL ",["Str","\"once.\""],">)"],["\t\t      (<EQUAL? ,",["Id","DEATHS"]," 2> <TELL ",["Str","\"twice.\""],">)"],["\t\t      (T <TELL ",["Str","\"an awful lot.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","V-SCORE"]," (\"OPTIONAL\" (",["Localid","ASK?"]," T))"],["\t #DECL ((",["Localid","ASK?"],") <OR ATOM FALSE>)"],["\t <TELL ",["Str","\"Your score \""],">"],["\t <COND (.",["Localid","ASK?"]," <TELL ",["Str","\"would be \""],">) (ELSE <TELL ",["Str","\"is \""],">)>"],["\t <TELL N ,",["Id","SCORE"],">"],["\t <TELL ",["Str","\" (total of 400 points), in \""],">"],["\t <TELL N ,",["Id","MOVES"],">"],["\t <COND (<1? ,",["Id","MOVES"],"> <TELL ",["Str","\" move.\""],">) (ELSE <TELL ",["Str","\" moves.\""],">)>"],["\t <CRLF>"],["\t <TELL ",["Str","\"This score gives you the rank of \""],">"],["\t <COND (<EQUAL? ,",["Id","SCORE"]," 400> <TELL ",["Str","\"Master Adventurer\""],">"],["\t\t<COND (<NOT ,",["Id","WON-FLAG"],">"],["\t\t       <TELL ",["Str","\", but somehow you don't feel done\""],">)>)"],["\t       (<G? ,",["Id","SCORE"]," 360> <TELL ",["Str","\"Wizard\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 320> <TELL ",["Str","\"Master\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 240> <TELL ",["Str","\"Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 160> <TELL ",["Str","\"Junior Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 80> <TELL ",["Str","\"Novice Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 40> <TELL ",["Str","\"Amateur Adventurer\""],">)"],["\t       (T <TELL ",["Str","\"Beginner\""],">)>"],["\t <TELL ",["Str","\".\""]," CR>"],["\t ,",["Id","SCORE"],">"],[],["<ROUTINE ",["Iddef","JIGS-UP"]," (",["Localid","DESC"]," \"OPTIONAL\" (",["Localid","PLAYER?"]," <>))"],[" \t #DECL ((",["Localid","DESC"],") STRING (",["Localid","PLAYER?"],") <OR ATOM FALSE>)"],[" \t <TELL .",["Localid","DESC"]," CR>"],["\t <COND (<NOT <EQUAL? ,",["Id","ADVENTURER"]," ,",["Id","WINNER"],">>"],["\t\t<TELL ",["Str","\""]],[["Str","|    ****  The \""]," D ,",["Id","WINNER"]," ",["Str","\" has died  ****"]],[["Str","|"]],[["Str","|\""],">"],["\t\t<REMOVE ,",["Id","WINNER"],">"],["\t\t<SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t<SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<RFATAL>)>"],["\t <PROG ()"],["\t       <",["Id","SCORE-UPD"]," -10>"],["\t       <TELL ",["Str","\""]],[["Str","|    ****  You have died  ****"]],[["Str","|"]],[["Str","|\""],">"],["\t       <SETG ",["Id","DEAD"]," T>"],["\t\t <SETG ",["Id","SPELL?"]," <>>"],["\t\t <PUTP ,",["Id","ADVENTURER"]," ,",["Implid","P?ACTION"]," 0>"],["\t\t <SETG ",["Id","DEATHS"]," <+ ,",["Id","DEATHS"]," 1>>"],["\t\t <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t <TELL"],[["Str","\"Now, let's take a look here..."]],[["Str","Well, you probably deserve another chance. I can't quite fix you"]],[["Str","up completely, but you can't have everything.\""]," CR CR>"],["\t\t <FCLEAR ,",["Id","DEAD-PALANTIR-1"]," ,",["Implid","TOUCHBIT"],">"],["\t\t <FCLEAR ,",["Id","DEAD-PALANTIR-2"]," ,",["Implid","TOUCHBIT"],">"],["\t\t <FCLEAR ,",["Id","DEAD-PALANTIR-3"]," ,",["Implid","TOUCHBIT"],">"],["\t\t <",["Id","RANDOMIZE-OBJECTS"],">"],["\t\t <",["Id","GOTO"]," ,",["Id","DEAD-PALANTIR-1"],">"],["\t\t <SETG ",["Id","P-CONT"]," <>>"],["\t\t <",["Id","KILL-INTERRUPTS"],">"],["\t\t <RFATAL>>>"],[],["<ROUTINE ",["Iddef","RANDOMIZE-OBJECTS"]," (\"AUX\" (",["Localid","R"]," <>) ",["Localid","F"]," ",["Localid","N"]," ",["Localid","L"],")"],["\t <COND (<IN? ,",["Id","LAMP"]," ,",["Id","WINNER"],">"],["\t\t<MOVE ,",["Id","LAMP"]," ,",["Id","INSIDE-BARROW"],">)>"],["\t <PUTP ,",["Id","SWORD"]," ,",["Implid","P?VALUE"]," 0>"],["\t <SET ",["Localid","N"]," <FIRST? ,",["Id","WINNER"],">>"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","F"]," .",["Localid","N"],">"],["\t\t <COND (<NOT .",["Localid","F"],"> <RETURN>)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","F"],">>"],["\t\t <COND (<AND <EQUAL? .",["Localid","F"]," ,",["Id","BILLS"]," ,",["Id","PORTRAIT"],">"],["\t\t\t     <OR <EQUAL? ,",["Id","HERE"]," ,",["Id","VAULT"]," ,",["Id","DEPOSITORY"]," ,",["Id","OFFICE"],">"],["\t\t\t\t <EQUAL? ,",["Id","HERE"]," ,",["Id","SMALL-ROOM"],">>>"],["\t\t\t<MOVE .",["Localid","F"]," ,",["Id","HERE"],">)"],["\t\t       (<OR <EQUAL? .",["Localid","F"]," ,",["Id","GOLD-KEY"],">"],["\t\t\t    <EQUAL? .",["Localid","F"]," ,",["Id","CANDY"],">"],["\t\t\t    <EQUAL? .",["Localid","F"]," ,",["Id","PALANTIR-1"],">"],["\t\t\t    <EQUAL? .",["Localid","F"]," ,",["Id","PALANTIR-2"],">"],["\t\t\t    <EQUAL? .",["Localid","F"]," ,",["Id","PALANTIR-3"],">>"],["\t\t\t<MOVE .",["Localid","F"]," ,",["Id","CAROUSEL-ROOM"],">)"],["\t\t       (<FSET? .",["Localid","F"]," ,",["Implid","STAGGERED"],">"],["\t\t\t<MOVE .",["Localid","F"]," ,",["Id","WIZARD-CASE"],">)"],["\t\t       (ELSE"],["\t\t\t<MOVE .",["Localid","F"]," ,",["Id","GAZEBO-ROOM"],">)>>>"],[],["<ROUTINE ",["Iddef","KILL-INTERRUPTS"]," ()"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-GNOME"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-LEDGE"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-NERVOUS"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-ZGNOME-OUT"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-ZGNOME"],">>"],["\t <",["Id","DRAGON-LEAVES"],">"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-MATCH"],">>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","FIND-WEAPON"]," (",["Localid","O"]," \"AUX\" ",["Localid","W"],")"],["\t <SET ",["Localid","W"]," <FIRST? .",["Localid","O"],">>"],["\t <COND (<NOT .",["Localid","W"],">"],["\t\t<RFALSE>)>"],["\t <REPEAT ()"],["\t\t <COND (<EQUAL? .",["Localid","W"]," ,",["Id","SWORD"],">"],["\t\t\t<RETURN .",["Localid","W"],">)"],["\t\t       (<NOT <SET ",["Localid","W"]," <NEXT? .",["Localid","W"],">>> <RFALSE>)>>>"],[],["<ROUTINE ",["Iddef","BUCKET-CONT"]," ()"],["\t <COND (<AND <VERB? TAKE> <NOT <IN? ,",["Id","WINNER"]," ,",["Id","BUCKET"],">>>"],["\t        <TELL ",["Str","\"You'll need to get in the bucket to reach it.\""]," CR>)>>"]],"2dungeon.zil":[[["Str","\"2DUNGEON for"]],[["Str","\t\t      Zork II: The Wizard of Frobozz"]],[["Str","\t(c) Copyright 1981, 1983 Infocom, Inc.  All Rights Reserved.\""]],[],["<DIRECTIONS NORTH EAST WEST SOUTH NE NW SE SW UP DOWN IN OUT LAND CROSS>"],[],["<ROUTINE ",["Iddef","GO"]," ()"],[["Comment",";\"put interrupts on clock chain\""]],["\t <ENABLE <",["Id","QUEUE"]," ",["Id","I-WIZARD"]," 4>>"],["\t <",["Id","QUEUE"]," ",["Id","I-LANTERN"]," 200>"],[["Comment",";\"clean up junk compiler can't do\""]],["\t <PUTP ,",["Id","BALLOON"]," ,",["Implid","P?VTYPE"]," ,",["Implid","NONLANDBIT"],">"],["\t <PUTP ,",["Id","BUCKET"]," ,",["Implid","P?VTYPE"]," ,",["Implid","NONLANDBIT"],">"],["\t <PUTP ,",["Id","SEWL"]," ,",["Implid","P?SIZE"]," ,",["Implid","P?EAST"],">"],["\t <PUTP ,",["Id","SWWL"]," ,",["Implid","P?SIZE"]," ,",["Implid","P?WEST"],">"],["\t <PUTP ,",["Id","SSWL"]," ,",["Implid","P?SIZE"]," ,",["Implid","P?SOUTH"],">"],["\t <PUTP ,",["Id","SNWL"]," ,",["Implid","P?SIZE"]," ,",["Implid","P?NORTH"],">"],[["Comment",";\"set up and go\""]],["\t <SETG ",["Id","LIT"]," T>"],["\t <SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t <SETG ",["Id","PLAYER"]," ,",["Id","ADVENTURER"],">"],["\t <SETG ",["Id","HERE"]," ,",["Id","INSIDE-BARROW"],">"],["\t <SETG ",["Id","P-IT-LOC"]," ,",["Id","HERE"],">"],["\t <SETG ",["Id","P-IT-OBJECT"]," <>>"],["\t <COND (<NOT <FSET? ,",["Id","HERE"]," ,",["Implid","TOUCHBIT"],">>"],["\t\t<",["Id","V-VERSION"],">"],["\t\t<CRLF>)>"],["\t <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t <",["Id","V-LOOK"],">"],["\t <",["Id","MAIN-LOOP"],">"],["\t <AGAIN>>"],[],[["Str","\"SUBTITLE CONDITIONAL EXITS\""]],[],["<GLOBAL ",["Iddef","SECRET-DOOR"]," <>>"],["<GLOBAL ",["Iddef","GNOME-DOOR-FLAG"]," <>>"],[],[["Str","\"SUBTITLE GLOBAL OBJECTS\""]],[],["<OBJECT ",["Iddef","STREAM"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","STREAM"],")"],["\t(ADJECTIVE ",["Dict","FLOWING"]," ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"stream\""],")"],["\t(ACTION ",["Id","STREAM-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","CHASM"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CHASM"]," ",["Dict","RAVINE"],")"],["\t(ADJECTIVE ",["Dict","DEEP"],")"],["\t(DESC ",["Str","\"chasm\""],")"],["\t(ACTION ",["Id","CHASM-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","MOSS"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","MOSS"]," ",["Dict","MOSSES"],")"],["\t(ADJECTIVE ",["Dict","GLOWING"]," ",["Dict","PHOSPHORESCENT"],")"],["\t(DESC ",["Str","\"mosses\""],")"],["\t(ACTION ",["Id","MOSS-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")>"],[],["<OBJECT ",["Iddef","ROSE-BUSH"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","ROSES"]," ",["Dict","BUSH"]," ",["Dict","ARBOR"],")"],["\t(ADJECTIVE ",["Dict","ROSE"],")"],["\t(DESC ",["Str","\"roses\""],")"],["\t(ACTION ",["Id","ROSE-BUSH-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")>"],[],["<OBJECT ",["Iddef","BRIDGE"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BRIDGE"],")"],["\t(ADJECTIVE ",["Dict","STONE"]," ",["Dict","WOODEN"]," ",["Dict","RICKETY"],")"],["\t(DESC ",["Str","\"bridge\""],")"],["\t(ACTION ",["Id","BRIDGE-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","TUNNEL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","PASSAGE"]," ",["Dict","TUNNEL"]," ",["Dict","CRAWLWAY"],")"],["        (ADJECTIVE ",["Dict","DARK"]," ",["Dict","SMOKY"],")"],["\t(DESC ",["Str","\"tunnel\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","TUNNEL-OBJECT"],")>"],[],["<OBJECT ",["Iddef","EAST-WALL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","EAST"]," ",["Dict","EASTERN"],")"],["\t(DESC ",["Str","\"east wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","SOUTH-WALL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","SOUTH"]," ",["Dict","SOUTHE"],") ",["Comment",";\"only 6 chars count and southeast exists\""]],["\t(DESC ",["Str","\"south wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","WEST-WALL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","WEST"]," ",["Dict","WESTERN"],")"],["\t(DESC ",["Str","\"west wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","NORTH-WALL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","NORTH"]," ",["Dict","NORTHE"],")\t",["Comment",";\"only six chars used...\""]],["\t(DESC ",["Str","\"north wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","GLOBAL-WATER"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"],")"],["\t(DESC ",["Str","\"water\""],")"],["\t(FLAGS ",["Implid","DRINKBIT"],")"],["\t(ACTION ",["Id","WATER-FCN"],")>"],[],["<OBJECT ",["Iddef","WISH"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WISH"]," ",["Dict","BLESS"],")"],["\t(DESC ",["Str","\"wish\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","WISH-FCN"],")>"],[],["<OBJECT ",["Iddef","WELL"]],["        (IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WELL"],")"],["\t(ADJECTIVE ",["Dict","MAGIC"],")"],["\t(DESC ",["Str","\"well\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","WELL-FCN"],")>"],[],["<OBJECT ",["Iddef","SEWL"]],["        (IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","EAST"]," ",["Dict","EASTERN"],")"],["\t(DESC ",["Str","\"east wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(SIZE 0) ",["Comment",";\",P?EAST\""]],["\t(ACTION ",["Id","SCOLWALL"],")>"],[],["<OBJECT ",["Iddef","SWWL"]],["        (IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","WEST"]," ",["Dict","WESTERN"],")"],["\t(DESC ",["Str","\"west wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(SIZE 0) ",["Comment",";\"P?WEST\""]],["\t(ACTION ",["Id","SCOLWALL"],")>"],[],["<OBJECT ",["Iddef","SSWL"]],["        (IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","SOUTH"]," ",["Dict","SOUTHE"],")"],["\t(DESC ",["Str","\"south wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(SIZE 0) ",["Comment",";\"P?SOUTH\""]],["\t(ACTION ",["Id","SCOLWALL"],")>"],[],["<OBJECT ",["Iddef","SNWL"]],["        (IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","NORTH"]," ",["Dict","NORTHE"],")"],["\t(DESC ",["Str","\"north wall\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(SIZE 0) ",["Comment",";\"P?NORTH\""]],["\t(ACTION ",["Id","SCOLWALL"],")>"],[],["\\"],[],[["Str","\"SUBTITLE ROOMS\""]],[],["<ROOM ",["Iddef","INSIDE-BARROW"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are inside an ancient barrow hidden deep within a dark forest."]],[["Str","The barrow opens into a narrow tunnel at its southern end. You can"]],[["Str","see a faint glow at the far end.\""],")"],["      (DESC ",["Str","\"Inside the Barrow\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (SOUTH TO ",["Id","NARROW-TUNNEL"],")"],["      (OUT"],[["Str","\"You may not recall, but when you entered, the door of the barrow"]],[["Str","shut behind you. There is no way out.\""],")>"],[],["<ROOM ",["Iddef","NARROW-TUNNEL"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are standing at the southern end of a narrow tunnel where it opens"]],[["Str","into a wide cavern. The cavern is dimly illuminated by phosphorescent"]],[["Str","mosses clinging to its high ceiling. A deep ravine winds through the"]],[["Str","cavern, with a small stream at the bottom. The walls of the ravine are"]],[["Str","steep and crumbly. A foot bridge crosses the ravine to the south.\""],")"],["      (DESC ",["Str","\"Narrow Tunnel\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (NORTH TO ",["Id","INSIDE-BARROW"],")"],["      (SOUTH TO ",["Id","FOOT-BRIDGE"],")"],["      (CROSS TO ",["Id","FOOT-BRIDGE"],")"],["      (DOWN ",["Str","\"As you start down, you slip on the crumbling"]],[["Str","rocks and pull back, narrowly averting a fatal fall.\""],")"],["      (GLOBAL ",["Id","BRIDGE"]," ",["Id","CHASM"]," ",["Id","STREAM"]," ",["Id","MOSS"],")>"],[],["<ROOM ",["Iddef","FOOT-BRIDGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are standing on a crude but sturdy wooden foot bridge crossing a"]],[["Str","deep ravine. The path runs north and south from here.\""],")"],["      (DESC ",["Str","\"Foot Bridge\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (NORTH TO ",["Id","NARROW-TUNNEL"],")"],["      (SOUTH TO ",["Id","GREAT-CAVERN"],")"],["      (DOWN ",["Str","\"The drop would be fatal.\""],")"],["      (CROSS ",["Str","\"You'll have to specify a direction.\""],")"],["      (GLOBAL ",["Id","BRIDGE"]," ",["Id","CHASM"],")>"],[],["<ROOM ",["Iddef","GREAT-CAVERN"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the center of the great cavern, carved out of the limestone."]],[["Str","Stalactites and stalagmites of many sizes are everywhere. The room glows"]],[["Str","with dim light provided by phosphorescent moss, and weird shadows move all"]],[["Str","around you. A narrow path winds southwest among the stalagmites, and another"]],[["Str","leads northeast.\""],")"],["      (DESC ",["Str","\"Great Cavern\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (NE TO ",["Id","FOOT-BRIDGE"],")"],["      (SW TO ",["Id","SHALLOW-FORD"],")"],["      (GLOBAL ",["Id","MOSS"],")"],["      (PSEUDO ",["Dict","\"STALAGMITE\""]," ",["Id","STALA-PSEUDO"]," ",["Dict","\"STALACTITE\""]," ",["Id","STALA-PSEUDO"],")>"],[],["<ROOM ",["Iddef","SHALLOW-FORD"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are at the southern edge of a great cavern. To the south across a"]],[["Str","shallow ford is a dark tunnel which looks like it was once"]],[["Str","enlarged and smoothed. To the north a narrow path winds among"]],[["Str","stalagmites. Dim light illuminates the cavern.\""],")"],["      (DESC ",["Str","\"Shallow Ford\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (NORTH TO ",["Id","GREAT-CAVERN"],")"],["      (SOUTH TO ",["Id","DARK-TUNNEL"],")"],["      (CROSS TO ",["Id","DARK-TUNNEL"],")"],["      (GLOBAL ",["Id","GLOBAL-WATER"],")>"],[],["<ROOM ",["Iddef","DARK-TUNNEL"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a dark tunnel with dim light to the northeast. The"]],[["Str","tunnel is smooth but dusty and filled with twigs and leaves, debris"]],[["Str","which becomes deeper as the tunnel branches into a wide corridor leading"]],[["Str","southwest and a narrower one leading southeast.\""],")"],["      (DESC ",["Str","\"Dark Tunnel\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NE TO ",["Id","SHALLOW-FORD"],")"],["      (SE TO ",["Id","GARDEN-NORTH"],")"],["      (SW TO ",["Id","STREAM-PATH"],")>"],[],[["Str","\"SUBTITLE GARDEN AREA\""]],[],["<OBJECT ",["Iddef","GLOBAL-UNICORN"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","UNICORN"],")"],["\t(DESC ",["Str","\"unicorn\""],")"],["\t(ADJECTIVE ",["Dict","BEAUTIFUL"]," ",["Dict","WHITE"],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","GLOBAL-UNICORN-FCN"],")>"],[],["<OBJECT ",["Iddef","UNICORN"]],["\t(SYNONYM ",["Dict","UNICORN"]," ",["Dict","ANIMAL"],")"],["\t(ADJECTIVE ",["Dict","BEAUTIFUL"]," ",["Dict","WHITE"],")"],["\t(DESC ",["Str","\"unicorn\""],")"],["\t(LDESC ",["Str","\"There is a beautiful unicorn here cropping grass.\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"]," ",["Implid","TRYTAKEBIT"]," ",["Implid","OPENBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","UNICORN-FCN"],")>"],[],["<ROOM ",["Iddef","GARDEN-NORTH"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the northern end of a formal garden. Hedges hide"]],[["Str","the cavern walls, and if you don't look up, the illusion is of a cloudy"]],[["Str","day outside. The light comes from a large growth of glowing mosses on the"]],[["Str","roof of the cave. A break in the hedge is almost overgrown to the north."]],[["Str","A carefully manicured path leads south. In the center of a rosebed is a"]],[["Str","small open structure, painted white. It appears to be a gazebo.\""],")"],["      (DESC ",["Str","\"North End of Garden\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (IN TO ",["Id","GAZEBO-ROOM"],")"],["      (NORTH TO ",["Id","DARK-TUNNEL"],")"],["      (SOUTH TO ",["Id","FORMAL-GARDEN"],")"],["      (ACTION ",["Id","GARDEN-ROOM-FCN"],")"],["      (GLOBAL ",["Id","GLOBAL-UNICORN"]," ",["Id","GAZEBO"]," ",["Id","MOSS"]," ",["Id","ROSE-BUSH"],")>"],[],["<ROOM ",["Iddef","GAZEBO-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a gazebo in the midst of a formal garden. It is cool and"]],[["Str","restful here. A tea table adorns the center of the gazebo.\""],")"],["      (DESC ",["Str","\"Gazebo\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (OUT TO ",["Id","GARDEN-NORTH"],")"],["      (GLOBAL ",["Id","GLOBAL-UNICORN"]," ",["Id","GAZEBO"],")>"],[],["<ROOM ",["Iddef","FORMAL-GARDEN"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the middle part of a formal garden. Hedges hide the cavern"]],[["Str","walls and a dim illumination comes from mosses far above."]],[["Str","The path is of small crushed white stones. It winds among bushes and"]],[["Str","flower beds from south to north. To the north a small structure"]],[["Str","can be seen. To the south are peculiarly shaped bushes."]],[["Str","There is a small gap in the hedges to the west.\""],")"],["      (DESC ",["Str","\"Formal Garden\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (WEST TO ",["Id","STREAM-PATH"],")"],["      (NORTH TO ",["Id","GARDEN-NORTH"],")"],["      (SOUTH TO ",["Id","TOPIARY-ROOM"],")"],["      (ACTION ",["Id","GARDEN-ROOM-FCN"],")"],["      (GLOBAL ",["Id","GLOBAL-UNICORN"]," ",["Id","MOSS"],")>"],[],["<ROOM ",["Iddef","TOPIARY-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the southern end of a formal garden. Hedges hide the cavern"]],[["Str","walls and mosses provide dim illumination. Fantastically shaped hedges"]],[["Str","and bushes are arrayed with geometric precision. They have not recently"]],[["Str","been clipped, but you can discern creatures in the shapes of the bushes:"]],[["Str","There is a dragon, a unicorn, a great serpent, a huge misshapen dog, and"]],[["Str","several human figures. On the west side of the garden the path"]],[["Str","leads through a rose arbor into a tunnel.\""],")"],["      (DESC ",["Str","\"Topiary\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (WEST TO ",["Id","CAROUSEL-ROOM"],")"],["      (NORTH TO ",["Id","FORMAL-GARDEN"],")"],["      (ACTION ",["Id","GARDEN-ROOM-FCN"],")"],["      (GLOBAL ",["Id","GLOBAL-UNICORN"]," ",["Id","MOSS"]," ",["Id","ROSE-BUSH"],")>"],[],["<OBJECT ",["Iddef","HEDGES"]],["\t(IN ",["Id","TOPIARY-ROOM"],")"],["\t(DESC ",["Str","\"hedge\""],")"],["\t(SYNONYM ",["Dict","HEDGE"]," ",["Dict","HEDGES"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","HEDGES-F"],")>"],[],["<ROUTINE ",["Iddef","HEDGES-F"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"The hedges are shaped like various animals: dogs, serpents, dragons, and"]],[["Str","the like, and they are vaguely troubling to look at.\""]," CR>)>>"],[],["<ROOM ",["Iddef","STREAM-PATH"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The path follows the south edge of a deep ravine and heads northeast."]],[["Str","A tunnel heads southwest, narrowing to a rather tight crawl. A"]],[["Str","faint whirring sound can be heard in that direction. On the east is a"]],[["Str","ruined archway choked with vegetation.\""],")"],["\t(DESC ",["Str","\"Path Near Stream\""],")"],["\t(FLAGS ",["Implid","RLANDBIT"],")"],["\t(EAST TO ",["Id","FORMAL-GARDEN"],")"],["\t(NE TO ",["Id","DARK-TUNNEL"],")"],["\t(SW TO ",["Id","CAROUSEL-ROOM"],")"],["\t(WEST TO ",["Id","MARBLE-HALL"]," IF ",["Id","SECRET-DOOR"],")"],["\t(DOWN ",["Str","\"The ravine is extremely deep. You would never make it.\""],")"],["\t(GLOBAL ",["Id","BRIDGE"]," ",["Id","CHASM"]," ",["Id","STREAM"],")>"],[],["<ROOM ",["Iddef","MARBLE-HALL"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is an arched hall of fine marble. The hall stops abruptly"]],[["Str","to the north at a ford across a stream, where the marble is cracked and"]],[["Str","broken. Perhaps a flood or collapse of the cave was responsible. To"]],[["Str","the south the hall opens into a large room. There is rather annoying"]],[["Str","whirring sound coming from that room.\""],")"],["      (DESC ",["Str","\"Marble Hall\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","STREAM-PATH"]," IF ",["Id","SECRET-DOOR"]," ELSE ",["Str","\"That's a wall there.\""],")"],["      (NORTH TO ",["Id","DEEP-FORD"],")"],["      (SOUTH TO ",["Id","CAROUSEL-ROOM"],")"],["      (GLOBAL ",["Id","STREAM"],")>"],[],["<ROOM ",["Iddef","DEEP-FORD"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are fording the stream at a deep but not impossible spot. The"]],[["Str","water is very cold. The walls of the ravine rise to east and west."]],[["Str","There is a small ledge along the north wall of the ravine. To the south"]],[["Str","is the entrance to a well-constructed but somewhat ruined hall.\""],")"],["      (DESC ",["Str","\"Deep Ford\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","RAVINE-LEDGE"],")"],["      (UP TO ",["Id","RAVINE-LEDGE"],")"],["      (SOUTH TO ",["Id","MARBLE-HALL"],")"],["      (EAST"],[["Str","\"The stream deepens rapidly, and you wisely return before drowning.\""],")"],["      (WEST"],[["Str","\"You notice that the ledge above would be a drier route west.\""],")"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","CHASM"]," ",["Id","STREAM"],")>"],[],["<ROOM ",["Iddef","RAVINE-LEDGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on a narrow ledge near the bottom of a deep ravine. The ledge"]],[["Str","continues to the west. A precarious climb up to another tiny ledge is"]],[["Str","possible. A short scramble down the rock face leads"]],[["Str","to a stream.\""],")"],["      (DESC ",["Str","\"Ledge in Ravine\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (UP TO ",["Id","TINY-ROOM"],")"],["      (SOUTH TO ",["Id","DEEP-FORD"],")"],["      (WEST TO ",["Id","LEDGE-TUNNEL"],")"],["      (DOWN TO ",["Id","DEEP-FORD"],")"],["      (GLOBAL ",["Id","CHASM"],")>"],[],["<ROOM ",["Iddef","LEDGE-TUNNEL"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"A ledge from the east ends here, and a tunnel leads north into the wall."]],[["Str","There is a rather odd smokey odor in the warm air of the tunnel.\""],")"],["      (DESC ",["Str","\"End of Ledge\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","RAVINE-LEDGE"],")"],["      (IN TO ",["Id","DRAGON-ROOM"],")"],["      (NORTH TO ",["Id","DRAGON-ROOM"],")"],["      (DOWN ",["Str","\"There are a lot of sharp rocks down there.\""],")>"],[],["<ROOM ",["Iddef","DRAGON-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The room is a large cavern full of broken stone. The walls are"]],[["Str","scorched and there are deep scratches on the floor. A sooty dry smell"]],[["Str","is very strong here. A paved path winds from a large passage to the"]],[["Str","west, through the room, and across a huge stone bridge"]],[["Str","to the south. To the east a small crack is visible. A dark and"]],[["Str","smokey tunnel leads north.\""],")"],["      (DESC ",["Str","\"Dragon Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","LEDGE-TUNNEL"],")"],["      (NORTH TO ",["Id","DRAGON-LAIR"]],["\tIF ",["Id","ICE-MELTED"]," ELSE ",["Str","\"The dragon hisses at you and blocks your way.\""],")"],["      (IN TO ",["Id","DRAGON-LAIR"]],["        IF ",["Id","ICE-MELTED"]," ELSE ",["Str","\"The dragon hisses at you and blocks your way.\""],")"],["      (WEST TO ",["Id","FRESCO-ROOM"],")"],["      (SOUTH TO ",["Id","STONE-BRIDGE"],")"],["      (CROSS TO ",["Id","STONE-BRIDGE"],")"],["      (GLOBAL ",["Id","BRIDGE"],")>"],[],["<ROOM ",["Iddef","DRAGON-LAIR"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are in the dragon's lair, where the rock walls are scarred by flame."]],[["Str","A blackened doorway leads to the south.\""],")"],["      (DESC ",["Str","\"Dragon's Lair\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (SOUTH TO ",["Id","DRAGON-ROOM"],")"],["      (OUT TO ",["Id","DRAGON-ROOM"],")>"],[],["<OBJECT ",["Iddef","CHEST"]],["\t(IN ",["Id","DRAGON-LAIR"],")"],["\t(SYNONYM ",["Dict","CHEST"]," ",["Dict","TRUNK"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"]," ",["Dict","OLD"]," ",["Dict","ROTTEN"],")"],["\t(DESC ",["Str","\"rotten wooden chest\""],")"],["\t(FDESC"],[["Str","\"A rotten old wooden chest is in one corner among the debris.\""],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","TAKEBIT"],")"],["\t(ACTION ",["Id","CHEST-FCN"],")"],["\t(CAPACITY 40)"],["\t(SIZE 40)>"],[],["<OBJECT ",["Iddef","STATUETTE"]],["\t(IN ",["Id","CHEST"],")"],["\t(SYNONYM ",["Dict","TREASURE"]," ",["Dict","STATUETTE"]," ",["Dict","DRAGON"],")"],["\t(ADJECTIVE ",["Dict","GOLD"],")"],["\t(DESC ",["Str","\"golden dragon statuette\""],")"],["\t(FDESC"],[["Str","\"Nestled in the chest is a wrought gold statuette of a dragon.\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"],")"],["\t(VALUE 20)>"],[],["<OBJECT ",["Iddef","DRAGON"]],["\t(IN ",["Id","DRAGON-ROOM"],")"],["\t(SYNONYM ",["Dict","DRAGON"]," ",["Dict","SMAUG"]," ",["Dict","WORM"],")"],["\t(ADJECTIVE ",["Dict","RED"]," ",["Dict","HUGE"],")"],["\t(DESC ",["Str","\"huge red dragon\""],")"],["\t(LDESC"],[["Str","\"A huge red dragon is lying on the rocks here, watching.\""],")"],["\t(FDESC"],[["Str","\"A huge red dragon is lying here, blocking the entrance to a tunnel"]],[["Str","leading north. Smoke curls from his nostrils and out between his"]],[["Str","teeth.\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","DRAGON-FCN"],")>"],[],["<OBJECT ",["Iddef","DEAD-DRAGON"]],["\t(SYNONYM ",["Dict","DRAGON"]," ",["Dict","SMAUG"]," ",["Dict","WORM"],")"],["\t(ADJECTIVE ",["Dict","RED"]," ",["Dict","HUGE"]," ",["Dict","DEAD"],")"],["\t(DESC ",["Str","\"huge dead dragon\""],")"],["\t(LDESC"],[["Str","\"A huge dead dragon is lying half blocking the stream.\""],")"],["\t(SIZE 400)>"],[],["<OBJECT ",["Iddef","GLOBAL-PRINCESS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","PRINCESS"]," ",["Dict","WOMAN"]," ",["Dict","LADY"],")"],["\t(ADJECTIVE ",["Dict","BEAUTIFUL"]," ",["Dict","YOUNG"],")"],["\t(DESC ",["Str","\"beautiful princess\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","PRINCESS-FCN"],")>"],[],["<OBJECT ",["Iddef","PRINCESS"]],["\t(IN ",["Id","DRAGON-LAIR"],")"],["\t(SYNONYM ",["Dict","PRINCESS"]," ",["Dict","WOMAN"]," ",["Dict","LADY"],")"],["\t(ADJECTIVE ",["Dict","BEAUTIFUL"]," ",["Dict","YOUNG"],")"],["\t(DESC ",["Str","\"beautiful princess\""],")"],["\t(LDESC"],[["Str","\"A beautiful young woman, wearing a dirty and bedraggled gown, sits"]],[["Str","on a rock in the corner. Her hair is unkempt and she is oblivious to"]],[["Str","your presence, almost in a trance.\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","PRINCESS-FCN"],")>"],[],["<ROOM ",["Iddef","FRESCO-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"A path leads east-west through a room decorated with beautiful frescoes"]],[["Str","of someone battling dragons and rescuing fair maidens. It is hard"]],[["Str","to tell who is doing this as those parts of the"]],[["Str","frescoes have been blackened and cracked by intense heat.\""],")"],["      (DESC ",["Str","\"Fresco Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","DRAGON-ROOM"],")"],["      (WEST TO ",["Id","BANK-ENTRANCE"],")>"],[],["<ROOM ",["Iddef","STONE-BRIDGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the middle of a ruined but still impressive stone bridge"]],[["Str","spanning a deep chasm. Water flows far beneath. A paved path leads"]],[["Str","north into a large open space. To the south, the path leads into a misty"]],[["Str","tunnel.\""],")"],["      (DESC ",["Str","\"Stone Bridge\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","DRAGON-ROOM"],")"],["      (SOUTH TO ",["Id","COOL-ROOM"],")"],["      (DOWN ",["Str","\"It's a long way down.\""],")"],["      (CROSS ",["Str","\"You'll have to specify a direction.\""],")"],["      (GLOBAL ",["Id","BRIDGE"]," ",["Id","CHASM"],")>"],[],["<ROOM ",["Iddef","COOL-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The room is cool and damp. The air is misty. A twisty path from the"]],[["Str","southeast splits here toward a wide northerly stone bridge, and a narrow"]],[["Str","westerly tunnel. It is from the latter"]],[["Str","that the mist and chill seem to originate.\""],")"],["      (DESC ",["Str","\"Cool Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (SE TO ",["Id","CAROUSEL-ROOM"],")"],["      (NORTH TO ",["Id","STONE-BRIDGE"],")"],["      (WEST TO ",["Id","GLACIER-ROOM"],")"],["      (CROSS TO ",["Id","STONE-BRIDGE"],")"],["      (GLOBAL ",["Id","BRIDGE"],")>"],[],["<ROOM ",["Iddef","GLACIER-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Ice Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","COOL-ROOM"],")"],["      (WEST TO ",["Id","LAVA-ROOM"]],["       IF ",["Id","ICE-MELTED"]," ELSE ",["Str","\"You don't even have an ice-pick.\""],")"],["      (UP TO ",["Id","LAVA-TUBE"],")"],["      (ACTION ",["Id","GLACIER-ROOM-FCN"],")>"],[],["<ROOM ",["Iddef","LAVA-TUBE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are in a tight chimney of solidified lava. It extends up at"]],[["Str","least another hundred feet and down to a large room far below. A large"]],[["Str","crack opens to the south, probably the result of a shift"]],[["Str","in the rock strata.\""],")"],["      (DESC ",["Str","\"Lava Tube\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (DOWN TO ",["Id","GLACIER-ROOM"],")"],["      (UP TO ",["Id","VOLCANO-VIEW"],")"],["      (SOUTH TO ",["Id","COBWEBBY-CORRIDOR"],")"],["      (PSEUDO ",["Dict","\"CRACK\""]," ",["Id","LT-CRACK-PSEUDO"],")>"],[],["<ROUTINE ",["Iddef","LT-CRACK-PSEUDO"]," ()"],["\t <COND (<VERB? BOARD THROUGH>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?SOUTH"],">"],["\t\t<RTRUE>)"],["\t       (T <",["Id","CC-CRACK-PSEUDO"],">)>>"],[],["<ROOM ",["Iddef","COBWEBBY-CORRIDOR"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"A winding corridor is filled with cobwebs. Some"]],[["Str","are broken and the dust on the floor is disturbed. The trend of the"]],[["Str","twists and turns is northeast to southwest. On the north side of one"]],[["Str","twist, high up, is a narrow crack.\""],")"],["      (DESC ",["Str","\"Cobwebby Corridor\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (IN TO ",["Id","LAVA-TUBE"],")"],["      (UP TO ",["Id","LAVA-TUBE"],")"],["      (NORTH TO ",["Id","LAVA-TUBE"],")"],["      (NE TO ",["Id","CAROUSEL-ROOM"],")"],["      (SW TO ",["Id","GUARDIAN-ROOM"],")"],["      (DOWN TO ",["Id","GUARDIAN-ROOM"],")"],["      (PSEUDO ",["Dict","\"CRACK\""]," ",["Id","CC-CRACK-PSEUDO"],")>"],[],["<ROUTINE ",["Iddef","CC-CRACK-PSEUDO"]," ()"],["\t <COND (<VERB? THROUGH BOARD>"],["\t\t<",["Id","DO-WALK"]," ,",["Implid","P?NORTH"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"The crack is fairly wide. You should be able to get into it.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","WIZ-DOOR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE ",["Dict","COBWEBBED"]," ",["Dict","WOODEN"]," ",["Dict","OAK"],")"],["\t(DESC ",["Str","\"door partly covered in cobwebs\""],")"],["\t(FLAGS ",["Implid","DOORBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","WIZ-DOOR-FCN"],")>"],[],["<ROOM ",["Iddef","ROOM-8"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small chamber carved out of the rock at the end of a short crawl."]],[["Str","On the wall is crudely chiseled the number \\\"8\\\".\""],")"],["      (DESC ",["Str","\"Room 8\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","CAROUSEL-ROOM"],")>"],[],["<ROOM ",["Iddef","MENHIR-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Menhir Room\""],")"],["      (LDESC ",["Str","\" \""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","CAROUSEL-ROOM"],")"],["      (SW TO ",["Id","KENNEL"]],["       IF ",["Id","MENHIR-POSITION"]],["        ELSE ",["Str","\"You are trying to walk through an enormous rock.\""],")"],["      (SOUTH TO ",["Id","STAIRWAY-TOP"],")"],["      (ACTION ",["Id","MENHIR-ROOM-FCN"],")"],["      (GLOBAL ",["Id","MENHIR"],")>"],[],["<OBJECT ",["Iddef","GLOBAL-MENHIR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","MENHIR"]," ",["Dict","ROCK"]," ",["Dict","STONE"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","HEAVY"]," ",["Dict","ENORMOUS"],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","READBIT"],")"],["\t(DESC ",["Str","\"enormous menhir\""],")>"],[],["<OBJECT ",["Iddef","MENHIR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","MENHIR"]," ",["Dict","ROCK"]," ",["Dict","STONE"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","HEAVY"]," ",["Dict","ENORMOUS"],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","READBIT"]," ",["Implid","TURNBIT"],")"],["\t(DESC ",["Str","\"enormous menhir\""],")"],["\t(ACTION ",["Id","MENHIR-FCN"],")>"],[],["<ROOM ",["Iddef","KENNEL"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This room looks like it was once a kennel for a very large dog (some of"]],[["Str","the bones would fit a dinosaur). It apparently hasn't been used for a"]],[["Str","long time, as the dust is fairly thick all over. The only"]],[["Str","exit is northeast.\""],")"],["      (DESC ",["Str","\"Kennel\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NE TO ",["Id","MENHIR-ROOM"]],["       IF ",["Id","MENHIR-POSITION"]],["        ELSE ",["Str","\"You are trying to walk through an enormous rock.\""],")"],["      (OUT TO ",["Id","MENHIR-ROOM"]],["       IF ",["Id","MENHIR-POSITION"]],["        ELSE ",["Str","\"You are trying to walk through an enormous rock.\""],")"],["      (GLOBAL ",["Id","MENHIR"],")>"],[],["<OBJECT ",["Iddef","COLLAR"]],["\t(IN ",["Id","KENNEL"],")"],["\t(SYNONYM ",["Dict","COLLAR"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","GIANT"]," ",["Dict","DOG"],")"],["\t(FDESC"],[["Str","\"A gigantic dog collar, large enough for three rhinoceros-sized dogs, is"]],[["Str","lying amidst the debris.\""],")"],["\t(DESC ",["Str","\"gigantic dog collar\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"],")"],["\t(ACTION ",["Id","COLLAR-FCN"],")"],["\t(VALUE 15)>"],[],["\\"],[],[["Str","\"SUBTITLE DIAMOND MAZE\""]],[],["<OBJECT ",["Iddef","BAT"]],["\t(SYNONYM ",["Dict","CLUB"]," ",["Dict","BAT"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"]," ",["Dict","BASEBALL"],")"],["\t(FDESC"],[["Str","\"A long wooden club lies on the ground near the diamond-shaped window."]],[["Str","The club is curiously burned at the thick end.\""],")"],["\t(DESC ",["Str","\"wooden club\""],")"],["\t(FLAGS ",["Implid","INVISIBLE"]," ",["Implid","TAKEBIT"]," ",["Implid","WEAPONBIT"]," ",["Implid","READBIT"]," ",["Implid","BURNBIT"],")"],["\t(TEXT"],[["Str","\"The words \\\"Babe Flathead\\\" are burned into the wood.\""],")>"],[],["<ROOM ",["Iddef","STAIRWAY-TOP"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"A marble stairway leads down into the gloom and a passage leads north.\""],")"],["      (DESC ",["Str","\"Stairway\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (DOWN TO ",["Id","DIAMOND-5"],")"],["      (NORTH TO ",["Id","MENHIR-ROOM"],")"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","DIAMOND-1"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (SE TO ",["Id","DIAMOND-5"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-2"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (SOUTH TO ",["Id","DIAMOND-5"],")"],["      (SE TO ",["Id","DIAMOND-6"],")"],["      (SW TO ",["Id","DIAMOND-4"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-3"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (SW TO ",["Id","DIAMOND-5"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-4"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NE TO ",["Id","DIAMOND-2"],")"],["      (SE TO ",["Id","DIAMOND-8"],")"],["      (EAST TO ",["Id","DIAMOND-5"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-5"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NW TO ",["Id","DIAMOND-1"],")"],["      (NORTH TO ",["Id","DIAMOND-2"],")"],["      (NE TO ",["Id","DIAMOND-3"],")"],["      (WEST TO ",["Id","DIAMOND-4"],")"],["      (EAST TO ",["Id","DIAMOND-6"],")"],["      (SW TO ",["Id","DIAMOND-7"],")"],["      (SOUTH TO ",["Id","DIAMOND-8"],")"],["      (SE TO ",["Id","DIAMOND-9"],")"],["      (DOWN TO ",["Id","CERBERUS-ROOM"],")"],["      (UP TO ",["Id","STAIRWAY-TOP"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","STAIRS"]," ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-6"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (WEST TO ",["Id","DIAMOND-5"],")"],["      (NW TO ",["Id","DIAMOND-2"],")"],["      (SW TO ",["Id","DIAMOND-8"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-7"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NE TO ",["Id","DIAMOND-5"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-8"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","DIAMOND-5"],")"],["      (NW TO ",["Id","DIAMOND-4"],")"],["      (NE TO ",["Id","DIAMOND-6"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<ROOM ",["Iddef","DIAMOND-9"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC"],[["Str","\"Oddly-angled Room\""],")"],["      (LDESC"],[["Str","\"A small room with oddly angled walls and passages in all directions.\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NW TO ",["Id","DIAMOND-5"],")"],["      (ACTION ",["Id","DIAMOND-MOTION"],")"],["      (GLOBAL ",["Id","DWINDOW"],")>"],[],["<OBJECT ",["Iddef","DWINDOW"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WINDOW"],")"],["\t(ADJECTIVE ",["Dict","GLOWING"]," ",["Dict","DIAMOND"],")"],["\t(DESC ",["Str","\"diamond shaped window\""],")"],["\t(ACTION ",["Id","DWINDOW-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")>"],[],["<ROOM ",["Iddef","CERBERUS-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the entrance to a huge crypt or tomb. A marble stairway leads"]],[["Str","up from a gateway arch.\""],")"],["      (DESC ",["Str","\"Cerberus Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (EAST TO ",["Id","CRYPT-ANTEROOM"]],["       IF ",["Id","CERBERUS-LEASHED"]," ELSE ",["Str","\"The huge dog snaps nastily at you.\""],")"],["      (IN TO ",["Id","CRYPT-ANTEROOM"]],["       IF ",["Id","CERBERUS-LEASHED"]," ELSE ",["Str","\"The huge dog snaps nastily at you.\""],")"],["      (UP TO ",["Id","DIAMOND-5"],")"],["      (VALUE 10)"],["      (GLOBAL ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"TOMB\""]," ",["Id","TOMB-PSEUDO"]," ",["Dict","\"CRYPT\""]," ",["Id","TOMB-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","GLOBAL-CERBERUS"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CERBERUS"]," ",["Dict","DOG"]," ",["Dict","HOUND"]," ",["Dict","MONSTER"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","GIANT"]," ",["Dict","THREE"]," ",["Dict","HEADED"],")"],["\t(DESC ",["Str","\"three-headed dog\""],")>"],[],["<OBJECT ",["Iddef","CERBERUS"]],["\t(IN ",["Id","CERBERUS-ROOM"],")"],["\t(SYNONYM ",["Dict","CERBERUS"]," ",["Dict","DOG"]," ",["Dict","HOUND"]," ",["Dict","MONSTER"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","GIANT"]," ",["Dict","THREE"]," ",["Dict","HEADED"],")"],["\t(DESC ",["Str","\"three-headed dog\""],")"],["\t(LDESC"],[["Str","\"There is a vicious-looking dog guarding the entrance. It is more or"]],[["Str","less your usual dog, except that it has three heads and is the size of"]],[["Str","an elephant.\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"]," ",["Implid","OPENBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","CERBERUS-FCN"],")>"],[],["<ROOM ",["Iddef","CRYPT-ANTEROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Crypt Anteroom\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (IN TO ",["Id","CRYPT-ROOM"]," IF ",["Id","CRYPT-DOOR"]," IS OPEN)"],["      (SOUTH TO ",["Id","CRYPT-ROOM"]," IF ",["Id","CRYPT-DOOR"]," IS OPEN)"],["      (WEST TO ",["Id","CERBERUS-ROOM"],")"],["      (ACTION ",["Id","CRYPT-ANTEROOM-FCN"],")"],["      (GLOBAL ",["Id","CRYPT-DOOR"],")"],["      (VALUE 3)>"],[],["<ROOM ",["Iddef","CRYPT-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Crypt\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","CRYPT-ANTEROOM"]," IF ",["Id","CRYPT-DOOR"]," IS OPEN)"],["      (SOUTH TO ",["Id","ZORK3"]," IF ",["Id","DIM-DOOR-FLAG"],")"],["      (GLOBAL ",["Id","CRYPT-DOOR"]," ",["Id","DIM-DOOR"],")"],["      (ACTION ",["Id","CRYPT-ROOM-FCN"],")"],["      (VALUE 2)>"],[],["<OBJECT ",["Iddef","HEADS"]],["\t(IN ",["Id","CRYPT-ROOM"],")"],["\t(SYNONYM ",["Dict","HEADS"]," ",["Dict","HEAD"]," ",["Dict","POLE"]," ",["Dict","POLES"],")"],["        (DESC ",["Str","\"set of poled heads\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","HEAD-FCN"],")>"],[],["<OBJECT ",["Iddef","CRYPT"]],["\t(IN ",["Id","CRYPT-ROOM"],")"],["\t(SYNONYM ",["Dict","TOMB"]," ",["Dict","CRYPT"]," ",["Dict","GRAVE"],")"],["\t(ADJECTIVE ",["Dict","MARBLE"],")"],["\t(DESC ",["Str","\"marble crypt\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","READBIT"],")"],["\t(ACTION ",["Id","CRYPT-OBJECT"],")"],["\t(TEXT"],[["Str","\"\\\"Here lie the Flatheads, whose heads were placed on poles by the"]],[["Str","Keeper of the Dungeon for amazing untastefulness.\\\"\""],")>"],[],["<OBJECT ",["Iddef","CRYPT-DOOR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE ",["Dict","CRYPT"]," ",["Dict","NORTH"],")"],["\t(DESC ",["Str","\"crypt door\""],")"],["\t(FLAGS ",["Implid","DOORBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","CRYPT-DOOR-FCN"],")>"],[],["<OBJECT ",["Iddef","DIM-DOOR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","DOOR"]," ",["Dict","LETTER"],")"],["\t(ADJECTIVE ",["Dict","F"]," ",["Dict","DIMLY"]," ",["Dict","SOUTH"]," ",["Dict","SECRET"],")"],["\t(DESC ",["Str","\"secret door\""],")"],["\t(FLAGS ",["Implid","DOORBIT"]," ",["Implid","CONTBIT"]," ",["Implid","INVISIBLE"],")"],["\t(ACTION ",["Id","DIM-DOOR-FCN"],")>"],[],["<ROOM ",["Iddef","ZORK3"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Landing\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (ACTION ",["Id","ZORK3-FCN"],")>"],[],["\\"],[],[["Str","\"SUBTITLE WIZARD'S WORKSHOP\""]],[],["<ROOM ",["Iddef","GUARDIAN-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Guarded Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","COBWEBBY-CORRIDOR"],")"],["      (SOUTH TO ",["Id","WIZARDS-WORKSHOP"]],["       IF ",["Id","WIZ-DOOR"]," IS OPEN)"],["      (IN TO ",["Id","WIZARDS-WORKSHOP"]],["       IF ",["Id","WIZ-DOOR"]," IS OPEN)"],["      (ACTION ",["Id","GUARDIAN-ROOM-FCN"],")"],["      (GLOBAL ",["Id","WIZ-DOOR"],")>"],[],["<OBJECT ",["Iddef","DOOR-KEEPER"]],["\t(IN ",["Id","GUARDIAN-ROOM"],")"],["\t(SYNONYM ",["Dict","KEEPER"]," ",["Dict","GUARDIAN"]," ",["Dict","LIZARD"]," ",["Dict","HEAD"],")"],["\t(ADJECTIVE ",["Dict","NASTY"],")"],["\t(DESC ",["Str","\"lizard\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","DOOR-KEEPER-FCN"],")>"],[],["<ROOM ",["Iddef","WIZARDS-WORKSHOP"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the workshop of the Wizard of Frobozz.\""],")"],["      (DESC ",["Str","\"Wizard's Workshop\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","GUARDIAN-ROOM"]," IF ",["Id","WIZ-DOOR"]," IS OPEN)"],["      (OUT TO ",["Id","GUARDIAN-ROOM"]," IF ",["Id","WIZ-DOOR"]," IS OPEN)"],["      (WEST TO ",["Id","WORKBENCH-ROOM"],")"],["      (SOUTH TO ",["Id","TROPHY-ROOM"],")"],["      (ACTION ",["Id","WORKSHOP-FCN"],")"],["      (VALUE 10)"],["      (GLOBAL ",["Id","WIZ-DOOR"],")>"],[],["<ROOM ",["Iddef","WORKBENCH-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This room is the Wizard's workroom. A hall continues east and west,"]],[["Str","and a larger room lies to the south. There are many shelves and racks"]],[["Str","on the walls, but the Wizard's workbench dominates the room. It is made"]],[["Str","of dark, heavy wood bound with iron. The workbench is stained from many"]],[["Str","years of use, and is deeply gouged as though some huge clawed animal was"]],[["Str","imprisoned on it. There are burn marks and even notes written in a crabbed"]],[["Str","hand. Many arcane items are scattered about the bench; alembics, mortar"]],[["Str","and pestle, small knives of various sizes, odd scraps of vellum, wax"]],[["Str","candles, and much more. In the center of a relatively clear area of the"]],[["Str","bench are affixed three stands - ruby, sapphire, and diamond - which form"]],[["Str","a triangle.\""],")"],["      (DESC ",["Str","\"Wizard's Workroom\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (EAST TO ",["Id","WIZARDS-WORKSHOP"],")"],["      (SOUTH TO ",["Id","PENTAGRAM-ROOM"],")"],["      (WEST TO ",["Id","AQUARIUM-ROOM"],")"],["      (PSEUDO ",["Dict","\"MORTAR\""]," ",["Id","ARCANA-PSEUDO"]," ",["Dict","\"PESTLE\""]," ",["Id","ARCANA-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","ARCANA"]],["\t(IN ",["Id","WORKBENCH-ROOM"],")"],["\t(SYNONYM ",["Dict","ALEMBIC"]," ",["Dict","VELLUM"]," ",["Dict","CANDLES"]," ",["Dict","KNIVES"],")"],["        (ADJECTIVE ",["Dict","WAX"]," ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"arcane item\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","ARCANA-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","WORKBENCH"]],["\t(IN ",["Id","WORKBENCH-ROOM"],")"],["\t(SYNONYM ",["Dict","WORKBENCH"]," ",["Dict","BENCH"]," ",["Dict","TABLE"],")"],["\t(ADJECTIVE ",["Dict","WORK"]," ",["Dict","HEAVY"]," ",["Dict","WOODEN"]," ",["Dict","WIZARD"],")"],["\t(DESC ",["Str","\"Wizard's workbench\""],")"],["\t(CAPACITY 200)"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")>"],[],["<OBJECT ",["Iddef","STAND-1"]],["\t(IN ",["Id","WORKBENCH"],")"],["\t(SYNONYM ",["Dict","STAND"]," ",["Dict","STANDS"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"]," ",["Dict","RUBY"],")"],["\t(DESC ",["Str","\"ruby stand\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(CAPACITY 10)"],["\t(ACTION ",["Id","STAND-FCN"],")>"],[],["<OBJECT ",["Iddef","STAND-2"]],["\t(IN ",["Id","WORKBENCH"],")"],["\t(SYNONYM ",["Dict","STAND"]," ",["Dict","STANDS"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"]," ",["Dict","SAPPHIRE"],")"],["\t(DESC ",["Str","\"sapphire stand\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","OPENBIT"]," ",["Implid","CONTBIT"],")"],["\t(CAPACITY 10)"],["\t(ACTION ",["Id","STAND-FCN"],")>"],[],["<OBJECT ",["Iddef","STAND-3"]],["\t(IN ",["Id","WORKBENCH"],")"],["\t(SYNONYM ",["Dict","STAND"]," ",["Dict","STANDS"],")"],["\t(ADJECTIVE ",["Dict","DIAMOND"]," ",["Dict","CRYSTAL"],")"],["\t(DESC ",["Str","\"diamond stand\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","OPENBIT"]," ",["Implid","CONTBIT"],")"],["\t(CAPACITY 10)"],["\t(ACTION ",["Id","STAND-FCN"],")>"],[],["<OBJECT ",["Iddef","STAND-4"]],["\t(SYNONYM ",["Dict","STAND"]," ",["Dict","STANDS"],")"],["\t(ADJECTIVE ",["Dict","OBSIDIAN"]," ",["Dict","BLACK"]," ",["Dict","CRYSTAL"]," ",["Dict","STRANGE"],")"],["\t(DESC ",["Str","\"black obsidian stand\""],")"],["\t(FLAGS ",["Implid","SURFACEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(SIZE 5)"],["\t(CAPACITY 10)"],["\t(ACTION ",["Id","STAND-FCN"],")>"],[],["<OBJECT ",["Iddef","PALANTIR-4"]],["\t(IN ",["Id","STAND-4"],")"],["\t(SYNONYM ",["Dict","SPHERE"]," ",["Dict","BALL"]," ",["Dict","PALANTIR"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"]," ",["Dict","STRANGE"]," ",["Dict","BLACK"],")"],["\t(DESC ",["Str","\"black crystal sphere\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"]," ",["Implid","TRANSBIT"],")"],["\t(ACTION ",["Id","PALANTIR"],")"],["\t(LDESC ",["Str","\"There is a strange black sphere here.\""],")"],["\t(VALUE 30)"],["\t(SIZE 10)>"],[],["<ROOM ",["Iddef","TROPHY-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the Wizard's trophy room, filled with memorabilia of various"]],[["Str","sorts. On one wall is the Wizard's D. T. (Doctor of Thaumaturgy) degree"]],[["Str","from GUE Tech. Several old magic wands are mounted on a wand rack. A"]],[["Str","collection of dull and nicked swords testify to the fate of many"]],[["Str","foolhardy adventurers. Small bottles contain discarded homunculi (a few"]],[["Str","preserved in alcohol). There is a stuffed owl on a perch.\""],")"],["      (DESC ",["Str","\"Trophy Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","WIZARDS-WORKSHOP"],")"],["      (PSEUDO"],["       ",["Dict","\"OWL\""]," ",["Id","TROPHY-PSEUDO"]],["       ",["Dict","\"HOMUNCULI\""]," ",["Id","TROPHY-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","DEGREE"]],["\t(IN ",["Id","TROPHY-ROOM"],")"],["\t(SYNONYM ",["Dict","DEGREE"]," ",["Dict","DIPLOMA"],")"],["\t(DESC ",["Str","\"degree\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"]," ",["Implid","READBIT"],")"],["\t(ACTION ",["Id","TROPHY-PSEUDO"],")"],["\t(TEXT"],[["Str","\"The text is in some obscure tongue. All that can be made out is"]],[["Str","a reference to \\\"sending in a matchbook cover.\\\"\""],")>"],[],["<OBJECT ",["Iddef","WANDS"]],["\t(IN ",["Id","TROPHY-ROOM"],")"],["\t(SYNONYM ",["Dict","WANDS"]," ",["Dict","WAND"]," ",["Dict","RACK"]," ",["Dict","SET"],")"],["        (ADJECTIVE ",["Dict","WORN"]," ",["Dict","USED"],")"],["\t(DESC ",["Str","\"set of used wands\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","TROPHY-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","TROPHY-SWORD"]],["\t(IN ",["Id","TROPHY-ROOM"],")"],["\t(SYNONYM ",["Dict","SWORD"]," ",["Dict","SWORDS"],")"],["        (ADJECTIVE ",["Dict","DULL"]," ",["Dict","NICKED"],")"],["\t(DESC ",["Str","\"nicked swords\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","TROPHY-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","TROPHY-BOTTLES"]],["\t(IN ",["Id","TROPHY-ROOM"],")"],["\t(SYNONYM ",["Dict","BOTTLE"],")"],["        (ADJECTIVE ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"small bottles\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","TROPHY-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","WARNING-LABEL"]],["\t(IN ",["Id","TROPHY-ROOM"],")"],["\t(SYNONYM ",["Dict","LABEL"],")"],["\t(ADJECTIVE ",["Dict","WARNING"],")"],["\t(DESC ",["Str","\"warning label\""],")"],["\t(LDESC ",["Str","\"A hand-lettered label is affixed to the wall.\""],")"],["\t(FLAGS ",["Implid","READBIT"],")"],["\t(TEXT"],[["Str","\"Warning!|"]],[["Str","|"]],[["Str","The exhibits in this room are the property of the mighty Wizard of"]],[["Str","Frobozz (me), and are the fruits of diligent labor and study over"]],[["Str","many years. He who touches anything will regret it.|"]],[["Str","|"]],[["Str","(signed)|"]],[["Str","Frobozz|\""],")>"],[],["<OBJECT ",["Iddef","GLOBAL-WIZARD-CASE"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CASE"]," ",["Dict","CABINET"],")"],["\t(ADJECTIVE ",["Dict","TROPHY"]," ",["Dict","WIZARD"],")"],["\t(DESC ",["Str","\"Wizard's trophy cabinet\""],")"],["\t(ACTION ",["Id","WIZARD-CASE-FCN"],")>"],[],["<OBJECT ",["Iddef","WIZARD-CASE"]],["\t(IN ",["Id","TROPHY-ROOM"],")"],["\t(SYNONYM ",["Dict","CASE"]," ",["Dict","CABINET"],")"],["\t(ADJECTIVE ",["Dict","TROPHY"]," ",["Dict","WIZARD"],")"],["\t(DESC ",["Str","\"Wizard's trophy cabinet\""],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","TRANSBIT"],")"],["\t(LDESC ",["Str","\"Imbedded in the wall is an ornate trophy cabinet.\""],")"],["\t(ACTION ",["Id","WIZARD-CASE-FCN"],")"],["\t(CAPACITY 1000)>"],[],["<OBJECT ",["Iddef","BROKEN-CASE"]],["\t(SYNONYM ",["Dict","CASE"]," ",["Dict","CABINET"],")"],["\t(ADJECTIVE ",["Dict","BROKEN"]," ",["Dict","TROPHY"]," ",["Dict","WIZARD"],")"],["\t(DESC ",["Str","\"smashed trophy cabinet\""],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(LDESC ",["Str","\"Shards of a smashed trophy case litter the room.\""],")>"],[],["<ROOM ",["Iddef","PENTAGRAM-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"In this room, inscribed on the floor, is a great pentagram drawn with"]],[["Str","black chalk. In its center is a black circle.\""],")"],["      (DESC ",["Str","\"Pentagram Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (NORTH TO ",["Id","WORKBENCH-ROOM"],")"],["      (GLOBAL ",["Id","GLOBAL-MENHIR"]," ",["Id","GLOBAL-CERBERUS"]," ",["Id","GLOBAL-WIZARD-CASE"],")>"],[],["<OBJECT ",["Iddef","PENTAGRAM"]],["\t(IN ",["Id","PENTAGRAM-ROOM"],")"],["\t(SYNONYM ",["Dict","PENTAGRAM"]," ",["Dict","STAR"]," ",["Dict","CIRCLE"],")"],["\t(ADJECTIVE ",["Dict","GREAT"]," ",["Dict","CHALK"]," ",["Dict","BLACK"],")"],["\t(DESC ",["Str","\"pentagram\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(CAPACITY 200)"],["\t(ACTION ",["Id","PENTAGRAM-FCN"],")>"],[],["<ROOM ",["Iddef","AQUARIUM-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"Here a dark hallway turns a corner. To the south is a dark room, to"]],[["Str","the east is fitful light.\""],")"],["      (DESC ",["Str","\"Aquarium Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (EAST TO ",["Id","WORKBENCH-ROOM"],")"],["      (IN TO ",["Id","IN-AQUARIUM"],")"],["      (SOUTH TO ",["Id","WIZARDS-QUARTERS"],")>"],[],["<OBJECT ",["Iddef","AQUARIUM"]],["\t(IN ",["Id","AQUARIUM-ROOM"],")"],["\t(SYNONYM ",["Dict","AQUARIUM"]," ",["Dict","GLASS"],")"],["\t(ADJECTIVE ",["Dict","HUGE"],")"],["\t(DESC ",["Str","\"aquarium\""],")"],["\t(LDESC ",["Str","\"Filling the northern half of the room is a huge aquarium.\""],")"],["\t(FLAGS ",["Implid","OPENBIT"]," ",["Implid","CONTBIT"],")"],["\t(CAPACITY 200)"],["\t(ACTION ",["Id","AQUARIUM-FCN"],")>"],[],["<OBJECT ",["Iddef","PALANTIR-3"]],["\t(IN ",["Id","IN-AQUARIUM"],")"],["\t(SYNONYM ",["Dict","PALANTIR"]," ",["Dict","SPHERE"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"]," ",["Dict","WHITE"]," ",["Dict","CLEAR"],")"],["\t(DESC ",["Str","\"clear crystal sphere\""],")"],["\t(LDESC ",["Str","\"There is a clear crystal sphere lying in the sand.\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"]," ",["Implid","NDESCBIT"]," ",["Implid","TRANSBIT"],")"],["\t(ACTION ",["Id","PALANTIR"],")"],["\t(VALUE 20)>"],[],["<OBJECT ",["Iddef","SERPENT"]],["\t(IN ",["Id","AQUARIUM"],")"],["\t(SYNONYM ",["Dict","SERPENT"]," ",["Dict","SNAKE"],")"],["\t(ADJECTIVE ",["Dict","BABY"]," ",["Dict","SEA"],")"],["\t(DESC ",["Str","\"baby sea serpent\""],")"],["\t(LDESC ",["Str","\"There is a baby sea serpent swimming in the aquarium.\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","SERPENT-FCN"],")>"],[],["<OBJECT ",["Iddef","DEAD-SERPENT"]],["\t(SYNONYM ",["Dict","SERPENT"]," ",["Dict","SNAKE"],")"],["\t(ADJECTIVE ",["Dict","DEAD"]," ",["Dict","BABY"]," ",["Dict","SEA"],")"],["\t(DESC ",["Str","\"dead sea serpent\""],")"],["\t(LDESC ",["Str","\"There is a dead sea serpent in a heap here.\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"],")"],["\t(ACTION ",["Id","DEAD-SERPENT-FCN"],")"],["\t(SIZE 400)>"],[],["<ROOM ",["Iddef","IN-AQUARIUM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The floor here seems to be made of sand, but it is hard to see anything"]],[["Str","else.\""],")"],["      (DESC ",["Str","\"Murky Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (OUT TO ",["Id","AQUARIUM-ROOM"],")"],["      (ACTION ",["Id","IN-AQUARIUM-FCN"],")>"],[],["<ROOM ",["Iddef","WIZARDS-QUARTERS"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Wizard's Quarters\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","AQUARIUM-ROOM"],")"],["      (ACTION ",["Id","WIZARD-QUARTERS-FCN"],")>"],[],["<ROOM ",["Iddef","CAROUSEL-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Carousel Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (NORTH TO ",["Id","MARBLE-HALL"],")"],["      (NE TO ",["Id","STREAM-PATH"],")"],["      (EAST TO ",["Id","TOPIARY-ROOM"],")"],["      (SE TO ",["Id","RIDDLE-ROOM"],")"],["      (SOUTH TO ",["Id","MENHIR-ROOM"],")"],["      (SW TO ",["Id","COBWEBBY-CORRIDOR"],")"],["      (WEST TO ",["Id","ROOM-8"],")"],["      (NW TO ",["Id","COOL-ROOM"],")"],["      (ACTION ",["Id","CAROUSEL-ROOM-FCN"],")>"],[],[["Comment","; \"SUBTITLE ROOMS FROM OLD ZORK\""]],[],["<ROOM ",["Iddef","RIDDLE-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC ",["Str","\" \""],")"],["       (DESC ",["Str","\"Riddle Room\""],")"],["       (DOWN TO ",["Id","CAROUSEL-ROOM"],")"],["       (NW TO ",["Id","CAROUSEL-ROOM"],")"],["       (EAST TO ",["Id","PEARL-ROOM"]," IF ",["Id","RIDDLE-DOOR"]," IS OPEN)"],["       (FLAGS ",["Implid","RLANDBIT"],")"],["       (ACTION ",["Id","RIDDLE-ROOM-FCN"],")"],["       (PSEUDO ",["Dict","\"RIDDLE\""]," ",["Id","RIDDLE-PSEUDO"],")>"],[],["<OBJECT ",["Iddef","RIDDLE-DOOR"]],["\t(IN ",["Id","RIDDLE-ROOM"],")"],["\t(DESC ",["Str","\"stone door\""],")"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE ",["Dict","GREAT"]," ",["Dict","STONE"],")"],["\t(FLAGS ",["Implid","DOORBIT"]," ",["Implid","CONTBIT"]," ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","RIDDLE-DOOR-FCN"],")>"],[],["<ROOM ",["Iddef","PEARL-ROOM"]],["        (IN ",["Id","ROOMS"],")"],["\t(LDESC"],[["Str","\"This is a former broom closet. The exits are to the east and west.\""],")"],["        (DESC ",["Str","\"Pearl Room\""],")"],["       \t(EAST TO ",["Id","WELL-BOTTOM"],")"],["\t(WEST TO ",["Id","RIDDLE-ROOM"],")"],["\t(FLAGS ",["Implid","RLANDBIT"],")>"],[],["\\"],[],[["Comment",";\"SUBTITLE VOLCANO AREA\""]],[],["<ROOM ",["Iddef","VOLCANO-BOTTOM"]],["        (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are at the bottom of a large dormant volcano. High above you"]],[["Str","light enters from the cone of the volcano. The only exit is to the north.\""],")"],["       (DESC ",["Str","\"Volcano Bottom\""],")"],["       (NORTH TO ",["Id","LAVA-ROOM"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","NONLANDBIT"],")>"],[],["<ROOM ",["Iddef","VAIR-1"]],["        (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are about one hundred feet above the bottom of the volcano. The"]],[["Str","top of the volcano is clearly visible here.\""],")"],["       (DESC ",["Str","\"Volcano Core\""],")"],["       (FLAGS ",["Implid","NONLANDBIT"]," ",["Implid","NWALLBIT"]," )>"],[],["<ROOM ",["Iddef","VAIR-2"]],["        (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are about two hundred feet above the volcano floor. Looming"]],[["Str","above is the rim of the volcano. There is a small ledge on the west"]],[["Str","side.\""],")"],["       (DESC ",["Str","\"Volcano Near Small Ledge\""],")"],["       (WEST TO ",["Id","LEDGE-1"],")"],["       (LAND TO ",["Id","LEDGE-1"],")"],["       (FLAGS ",["Implid","NONLANDBIT"]," ",["Implid","NWALLBIT"]," )>"],[],["<ROOM ",["Iddef","VAIR-3"]],["        (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are high above the floor of the volcano. The rim of the volcano"]],[["Str","looks very narrow and you are very near it. To the"]],[["Str","east is what appears to be a viewing ledge, too thin to land on.\""],")"],["       (DESC ",["Str","\"Volcano by Viewing Ledge\""],")"],["       (FLAGS ",["Implid","NONLANDBIT"]," ",["Implid","NWALLBIT"]," )>"],[],["<ROOM ",["Iddef","VAIR-4"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are near the rim of the volcano. Above you it is open to the sky."]],[["Str","To the west, there is a place to land on a wide ledge.\""],")"],["       (DESC ",["Str","\"Volcano Near Wide Ledge\""],")"],["       (LAND TO ",["Id","LEDGE-2"],")"],["       (WEST TO ",["Id","LEDGE-2"],")"],["       (FLAGS ",["Implid","NONLANDBIT"]," ",["Implid","NWALLBIT"]," )>"],[],["<ROOM ",["Iddef","LEDGE-1"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are on a narrow ledge within an old dormant volcano. This ledge is"]],[["Str","about halfway between the floor below and the rim above. There is an exit"]],[["Str","to the south.\""],")"],["       (DESC ",["Str","\"Narrow Ledge\""],")"],["       (DOWN ",["Str","\"I wouldn't jump from here.\""],")"],["       (WEST TO ",["Id","VOLCANO-BOTTOM"]," IF ",["Id","GNOME-DOOR-FLAG"],")"],["       (SOUTH TO ",["Id","LIBRARY"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","NONLANDBIT"],")>"],[],["<ROOM ",["Iddef","LIBRARY"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This must have been a large library, probably for the royal family. All"]],[["Str","of the shelves have been gnawed to pieces by unfriendly gnomes. To the"]],[["Str","north is an exit.\""],")"],["       (DESC ",["Str","\"Library\""],")"],["       (NORTH TO ",["Id","LEDGE-1"],")"],["       (OUT TO ",["Id","LEDGE-1"],")"],["       (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<ROOM ",["Iddef","VOLCANO-VIEW"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are on a ledge in the middle of a large volcano. Below you"]],[["Str","the volcano bottom can be seen and above is the rim of the volcano."]],[["Str","A couple of ledges can be seen on the other side of the volcano;"]],[["Str","it appears that this ledge is intermediate in elevation between"]],[["Str","those on the other side. The exit from this room is to the east.\""],")"],["       (DESC ",["Str","\"Volcano View\""],")"],["       (DOWN ",["Str","\"I wouldn't try that.\""],")"],["       (CROSS ",["Str","\"It is impossible to cross this distance.\""],")"],["       (EAST TO ",["Id","LAVA-TUBE"],")"],["       (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<ROOM ",["Iddef","LEDGE-2"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC ",["Str","\" \""],")"],["       (DESC ",["Str","\"Wide Ledge\""],")"],["       (DOWN ",["Str","\"It's a long way down.\""],")"],["       (WEST TO ",["Id","VOLCANO-BOTTOM"]," IF ",["Id","GNOME-DOOR-FLAG"],")"],["       (SOUTH TO ",["Id","SAFE-ROOM"],")"],["       (ACTION ",["Id","LEDGE-FCN"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","NONLANDBIT"],")>"],[],["<ROOM ",["Iddef","SAFE-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC ",["Str","\" \""],")"],["       (DESC ",["Str","\"Dusty Room\""],")"],["       (NORTH TO ",["Id","LEDGE-2"],")"],["       (ACTION ",["Id","SAFE-ROOM-FCN"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")>"],[],["<ROOM ",["Iddef","LAVA-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is a small room, whose walls are formed by an old lava flow."]],[["Str","There are exits here to the east and the south.\""],")"],["       (DESC ",["Str","\"Lava Room\""],")"],["       (SOUTH TO ",["Id","VOLCANO-BOTTOM"],")"],["       (EAST TO ",["Id","GLACIER-ROOM"],")"],["       (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<GLOBAL ",["Iddef","BLOC"]," ",["Id","VOLCANO-BOTTOM"],">"],[],["\\"],[],[["Str","\"SUBTITLE ALICE IN WONDERLAND\""]],[],["<ROOM ",["Iddef","MAGNET-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC ",["Str","\" \""],")"],["       (DESC ",["Str","\"Low Room\""],")"],["       (NORTH PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (SOUTH PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (WEST PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (NE PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (NW PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (SW PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (SE PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (EAST PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (OUT PER ",["Id","MAGNET-ROOM-EXIT"],")"],["       (ACTION ",["Id","MAGNET-ROOM-FCN"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")>"],[],["<ROOM ",["Iddef","MACHINE-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is a large room full of assorted heavy machinery, whirring noisily."]],[["Str","The room smells of burned resistors. Along one wall are three buttons"]],[["Str","which are, respectively, round, triangular, and square. Naturally,"]],[["Str","above these buttons are instructions written in EBCDIC. A large sign"]],[["Str","in English above all the buttons says|"]],[["Str","       \\\"DANGER -- HIGH VOLTAGE\\\"|"]],[["Str","There are exits to the west and the south.\""],")"],["       (DESC ",["Str","\"Machine Room\""],")"],["       (WEST TO ",["Id","MAGNET-ROOM"],")"],["       (SOUTH TO ",["Id","CAGE-ROOM"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")>"],[],["<ROOM ",["Iddef","CAGE-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is a dingy closet adjacent to a larger room to the north."]],[["Str","Chiselled into a wall are these words:|"]],[["Str","|"]],[["Str","     Protected by|"]],[["Str","       FROBOZZ|"]],[["Str"," Magic Alarm Company|"]],[["Str","  (Hello, footpad!)||"]],[["Str","There doesn't seem to be any footpad here, however.\""],")"],["       (DESC ",["Str","\"Dingy Closet\""],")"],["       (OUT TO ",["Id","MACHINE-ROOM"],")"],["       (NORTH TO ",["Id","MACHINE-ROOM"],")"],["       (FLAGS ",["Implid","ONBIT"]," ",["Implid","RLANDBIT"],")>"],[],["<ROOM ",["Iddef","IN-CAGE"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC ",["Str","\"You are trapped inside a solid steel cage.\""],")"],["       (DESC ",["Str","\"Cage\""],")"],["       (ACTION ",["Id","IN-CAGE-FCN"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","NWALLBIT"]," ",["Implid","ONBIT"],")>"],[],["<ROOM ",["Iddef","WELL-TOP"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"You are at the top of the well. Well done. There are etchings on"]],[["Str","the side of the well. There is a small crack across the floor at the"]],[["Str","entrance to a room on the east, but it can be crossed easily.\""],")"],["       (DESC ",["Str","\"Top of Well\""],")"],["       (EAST TO ",["Id","TEA-ROOM"],")"],["       (DOWN ",["Str","\"It's a long way down!\""],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","NONLANDBIT"],")"],["       (VALUE 10)"],["       (GLOBAL ",["Id","WELL"],")"],["       (PSEUDO ",["Dict","\"CRACK\""]," ",["Id","CRACK-PSEUDO"],")>"],[],["<ROUTINE ",["Iddef","CRACK-PSEUDO"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"It is a small crack (as advertised) with no redeeming value.\""]," CR>)>>"],[],["<ROOM ",["Iddef","WELL-BOTTOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is a damp circular room, whose walls are made of brick and"]],[["Str","mortar. The roof of this room is not visible, but there appear to be"]],[["Str","some etchings on the walls. There is a passageway to the west.\""],")"],["       (DESC ",["Str","\"Circular Room\""],")"],["       (WEST TO ",["Id","PEARL-ROOM"],")"],["       (UP ",["Str","\"The walls cannot be climbed.\""],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","NONLANDBIT"],")"],["       (GLOBAL ",["Id","WELL"],")>"],[],["<ROOM ",["Iddef","TEA-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is a small room containing a large oblong table, no doubt set"]],[["Str","for afternoon tea. It is clear from the"]],[["Str","objects on the table that the users were indeed mad. In the eastern"]],[["Str","corner of the room is a small hole (no more than four inches high)."]],[["Str","There are passageways leading away to the west and the northwest.\""],")"],["       (DESC ",["Str","\"Tea Room\""],")"],["       (EAST ",["Str","\"Only a mouse could get in there.\""],")"],["       (WEST TO ",["Id","WELL-TOP"],")"],["       (NW TO ",["Id","MAGNET-ROOM"],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["       (PSEUDO ",["Dict","\"HOLE\""]," ",["Id","ALICE-HOLE"],")>"],[],["<ROUTINE ",["Iddef","ALICE-HOLE"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The hole is very small. You could never enter it.\""]," CR>)"],["\t       (<VERB? LOOK-INSIDE>"],["\t\t<TELL ",["Str","\"You can't see what's beyond the hole from here.\""]," CR>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,",["Id","PRSI"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t<TELL ",["Str","\"It doesn't fit through the hole.\""]," CR>)>>"],[],["<ROOM ",["Iddef","POSTS-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is an enormous room, in the center of which are four wooden"]],[["Str","posts delineating a rectangular area, above which is what appears to"]],[["Str","be a wooden roof. In fact, all objects in this room appear to be"]],[["Str","abnormally large. To the east is a passageway. There are large gaping"]],[["Str","chasms to the west and northwest.\""],")"],["       (DESC ",["Str","\"Posts Room\""],")"],["       (NW ",["Str","\"A great chasm blocks your way.\""],")"],["       (EAST TO ",["Id","POOL-ROOM"],")"],["       (WEST ",["Str","\"A great chasm blocks your way.\""],")"],["       (DOWN ",["Str","\"A great chasm blocks your way.\""],")"],["       (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["       (ACTION ",["Id","POSTS-ROOM-FCN"],")"],["       (GLOBAL ",["Id","CHASM"],")>"],[],["<ROOM ",["Iddef","POOL-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["       (LDESC"],[["Str","\"This is a large room, one half of which is depressed. Salty water flows"]],[["Str","from a large leak in the ceiling. The only exit is to the west.\""],")"],["       (DESC ",["Str","\"Pool Room\""],")"],["       (OUT TO ",["Id","POSTS-ROOM"],")"],["       (WEST TO ",["Id","POSTS-ROOM"],")"],["       (FLAGS ",["Implid","RLANDBIT"],")>"],[],["\\"],[],[["Comment","; \"SUBTITLE BANK OF ZORK\""]],[],["<ROOM ",["Iddef","BANK-ENTRANCE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the entrance hall of the Bank of Zork, the largest"]],[["Str","banking institution of the Great Underground Empire. A partial"]],[["Str","account of its history is in \\\"The Lives of the Twelve Flatheads,\\\" in"]],[["Str","the chapter on J. Pierpont Flathead. A more detailed history (albeit"]],[["Str","less objective) may be found in Flathead's outrageous autobiography"]],[["Str","\\\"I'm Rich and You Aren't - So There!\\\"."]],[["Str","Most of the furniture has been ravaged by passing scavengers. All"]],[["Str","that remains are two signs at the northwest and northeast corners of"]],[["Str","the room, which say|"]],[["Str","|"]],[["Str","    <--  VIEWING ROOMS  -->|"]],[["Str","|"]],[["Str","The way out (ornate but tasteful) is to the east."]],[["Str","\""],")"],["      (DESC ",["Str","\"Bank Entrance\""],")"],["      (NW TO ",["Id","TELLER-WEST"],")"],["      (NE TO ",["Id","TELLER-EAST"],")"],["      (EAST TO ",["Id","FRESCO-ROOM"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<ROOM ",["Iddef","TELLER-WEST"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"West Teller's Room\""],")"],["      (NORTH TO ",["Id","VIEWING-WEST"],")"],["      (SOUTH TO ",["Id","BANK-ENTRANCE"],")"],["      (WEST TO ",["Id","DEPOSITORY"],")"],["      (ACTION ",["Id","TELLER-ROOM"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<ROOM ",["Iddef","TELLER-EAST"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"East Teller's Room\""],")"],["      (NORTH TO ",["Id","VIEWING-EAST"],")"],["      (SOUTH TO ",["Id","BANK-ENTRANCE"],")"],["      (EAST TO ",["Id","DEPOSITORY"],")"],["      (ACTION ",["Id","TELLER-ROOM"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<ROOM ",["Iddef","VIEWING-WEST"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This room was used by holders of safety deposit boxes to view"]],[["Str","their contents. On the north side of the room is a sign which says|"]],[["Str","|"]],[["Str","\\\"Remain here while the teller retrieves your safety deposit box."]],[["Str","When you are finished, leave the box, and exit to the south."]],[["Str","Safety deposit boxes cannot be removed from this room!|"]],[["Str","|"]],[["Str","Thank You for Banking at the Zork!\\\""]],[["Str","\""],")"],["      (DESC ",["Str","\"West Viewing Room\""],")"],["      (SOUTH TO ",["Id","BANK-ENTRANCE"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (GLOBAL ",["Id","SEWL"]," ",["Id","SWWL"]," ",["Id","SNWL"]," ",["Id","SSWL"],")>"],[],["<ROOM ",["Iddef","VIEWING-EAST"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This room was used by holders of safety deposit boxes to view"]],[["Str","their contents. On the north side of the room is a sign which says|"]],[["Str","|"]],[["Str","\\\"Remain here while the teller retrieves your safety deposit box."]],[["Str","When you are finished, leave the box, and exit to the south."]],[["Str","Safety deposit boxes cannot be removed from this room!|"]],[["Str","|"]],[["Str","Thank You for Banking at the Zork!\\\""]],[["Str","\""],")"],["      (DESC ",["Str","\"East Viewing Room\""],")"],["      (SOUTH TO ",["Id","BANK-ENTRANCE"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (GLOBAL ",["Id","SEWL"]," ",["Id","SWWL"]," ",["Id","SNWL"]," ",["Id","SSWL"],")>"],[],["<ROOM ",["Iddef","SMALL-ROOM"]],["       (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small, bare room with no distinguishing features. There"]],[["Str","are no exits from this room.\""],")"],["      (DESC ",["Str","\"Small Room\""],")"],["      (FLAGS ",["Implid","RLANDBIT"]," )"],["      (GLOBAL ",["Id","SEWL"]," ",["Id","SWWL"]," ",["Id","SNWL"]," ",["Id","SSWL"],")>"],[],["<ROOM ",["Iddef","VAULT"]],["       (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the Vault of the Bank of Zork, in which there are no doors.\""],")"],["      (DESC ",["Str","\"Vault\""],")"],["      (FLAGS  ",["Implid","RLANDBIT"],")"],["      (GLOBAL ",["Id","SEWL"]," ",["Id","SWWL"]," ",["Id","SNWL"]," ",["Id","SSWL"],")>"],[],["<ROOM ",["Iddef","DEPOSITORY"]],["       (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a large rectangular room. The east and west walls were used"]],[["Str","for storing safety deposit boxes, but all have been carefully removed"]],[["Str","by evil persons. To the east, west, and south of the room are large"]],[["Str","doorways. The northern \\\"wall\\\" of the room is a shimmering curtain of"]],[["Str","light. In the center of the room is a large stone cube, about 10 feet"]],[["Str","on a side. Engraved on the side of the cube is some lettering.\""],")"],["      (DESC ",["Str","\"Safety Depository\""],")"],["      (NORTH ",["Str","\"There is a curtain of light there.\""],")"],["      (WEST PER ",["Id","BKLEAVEW"],")"],["      (EAST PER ",["Id","BKLEAVEE"],")"],["      (SOUTH TO ",["Id","OFFICE"],")"],["      (ACTION ",["Id","DEPOSITORY-FCN"],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (GLOBAL ",["Id","SNWL"],")>"],[],["<ROOM ",["Iddef","OFFICE"]],["       (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This room was the office of the Chairman of the Bank of Zork."]],[["Str","Like the other rooms here, it has been extensively vandalized."]],[["Str","The lone exit is to the north.\""],")"],["      (DESC ",["Str","\"Chairman's Office\""],")"],["      (NORTH TO ",["Id","DEPOSITORY"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")>"],[],["<OBJECT ",["Iddef","MATCH"]],["\t(IN ",["Id","GAZEBO-TABLE"],")"],["\t(SYNONYM ",["Dict","MATCH"]," ",["Dict","MATCHES"]," ",["Dict","MATCHBOOK"],")"],["\t(ADJECTIVE ",["Dict","ZORK"],")"],["\t(DESC ",["Str","\"matchbook\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"],")"],["\t(ACTION ",["Id","MATCH-FCN"],")"],["\t(LDESC"],[["Str","\"There is a matchbook saying \\\"Visit ZORK I\\\" here.\""],")"],["\t(TEXT"],[["Str","\"\\\">> Visit Exotic ZORK I <<|"]],[["Str","|"]],[["Str","Consult the Frobozz Magic Travel Agency, or visit your local"]],[["Str","computer store for more details.\\\"\""],")"],["\t(SIZE 2)>"],[],[],["\\"],[],[["Str","\"SUBTITLE PALANTIR ROOMS\""]],[],["<ROOM ",["Iddef","DREARY-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Dreary Room\""],")"],["      (SOUTH TO ",["Id","TINY-ROOM"]," IF ",["Id","PDOOR"]," IS OPEN)"],["      (OUT TO ",["Id","TINY-ROOM"]," IF ",["Id","PDOOR"]," IS OPEN)"],["      (ACTION ",["Id","DREARY-ROOM-FCN"],")"],["      (FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["      (GLOBAL ",["Id","PDOOR"]," ",["Id","PWINDOW"],")>"],[],["<ROOM ",["Iddef","TINY-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\" \""],")"],["      (DESC ",["Str","\"Tiny Room\""],")"],["      (NORTH TO ",["Id","DREARY-ROOM"]," IF ",["Id","PDOOR"]," IS OPEN)"],["      (IN TO ",["Id","DREARY-ROOM"]," IF ",["Id","PDOOR"]," IS OPEN)"],["      (DOWN TO ",["Id","RAVINE-LEDGE"],")"],["      (FLAGS ",["Implid","RLANDBIT"],")"],["      (ACTION ",["Id","TINY-ROOM-FCN"],")"],["      (GLOBAL ",["Id","PDOOR"]," ",["Id","PWINDOW"]," ",["Id","CHASM"],")>"],[],["\\"],[],[["Comment","; \"SUBTITLE OBJECTS\""]],[],["<OBJECT ",["Iddef","GNOME"]],["\t(SYNONYM ",["Dict","GNOME"],")"],["\t(ADJECTIVE ",["Dict","VOLCANO"],")"],["\t(DESC ",["Str","\"Volcano Gnome\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","GNOME-FCN"],")"],["\t(LDESC ",["Str","\"There is a nervous Volcano Gnome here.\""],")>"],[],["<OBJECT ",["Iddef","BALLOON"]],["\t(IN ",["Id","VOLCANO-BOTTOM"],")"],["\t(SYNONYM ",["Dict","BALLOON"]," ",["Dict","BASKET"],")"],["\t(ADJECTIVE ",["Dict","WICKER"],")"],["\t(DESC ",["Str","\"basket\""],")"],["\t(FLAGS ",["Implid","VEHBIT"]," ",["Implid","OPENBIT"],")"],["\t(ACTION ",["Id","BALLOON-FCN"],")"],["\t(DESCFCN ",["Id","BALLOON-FCN"],")"],["\t(CAPACITY 100)"],["\t(SIZE 70)"],["\t(VTYPE 0)>"],[],["<OBJECT ",["Iddef","BALLOON-LABEL"]],["\t(SYNONYM ",["Dict","LABEL"],")"],["\t(ADJECTIVE ",["Dict","BLUE"],")"],["\t(DESC ",["Str","\"blue label\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(LDESC ",["Str","\"There is a blue label here.\""],")"],["\t(SIZE 1)"],["\t(TEXT"],[["Str","\""]],[["Str","!! FROBOZZ MAGIC BALLOON COMPANY !!|"]],[["Str","|"]],[["Str","Hello, Aviator!|"]],[["Str","|"]],[["Str","To land your balloon, say LAND|"]],[["Str","Otherwise, you're on your own!|"]],[["Str","|"]],[["Str","No warranty expressed or implied."]],[["Str","|\""],")>"],[],["<OBJECT ",["Iddef","SAFE"]],["\t(IN ",["Id","SAFE-ROOM"],")"],["\t(SYNONYM ",["Dict","SAFE"]," ",["Dict","BOX"],")"],["\t(ADJECTIVE ",["Dict","STEEL"],")"],["\t(DESC ",["Str","\"box\""],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","SAFE-FCN"],")"],["\t(CAPACITY 15)>"],[],["<OBJECT ",["Iddef","BRAIDED-WIRE"]],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(IN ",["Id","BALLOON"],")"],["\t(SYNONYM ",["Dict","ROPE"]," ",["Dict","WIRE"],")"],["\t(ADJECTIVE ",["Dict","BRAIDED"],")"],["\t(DESC ",["Str","\"braided wire\""],")"],["\t(ACTION ",["Id","WIRE-FCN"],")>"],[],["<OBJECT ",["Iddef","BRICK"]],["\t(IN ",["Id","MARBLE-HALL"],")"],["\t(SYNONYM ",["Dict","BRICK"],")"],["\t(ADJECTIVE ",["Dict","SQUARE"]," ",["Dict","CLAY"],")"],["\t(DESC ",["Str","\"brick\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"]," ",["Implid","OPENBIT"]," ",["Implid","SEARCHBIT"],")"],["\t(ACTION ",["Id","BRICK-FCN"],")"],["\t(LDESC ",["Str","\"There is a square brick here which feels like clay.\""],")"],["\t(CAPACITY 2)"],["\t(SIZE 9)>"],[],["<OBJECT ",["Iddef","EXPLOSION"]],["\t(SYNONYM ",["Dict","KREBF"],")"],["\t(DESC ",["Str","\"debris from an explosion\""],")"],["\t(LDESC"],[["Str","\"The room is cluttered with debris from an explosion. The walls seem ready"]],[["Str","to collapse.\""],")"],["\t(FLAGS )>"],[],["<OBJECT ",["Iddef","DEAD-BALLOON"]],["\t(SYNONYM ",["Dict","BALLOON"]," ",["Dict","BASKET"],")"],["\t(ADJECTIVE ",["Dict","BROKEN"],")"],["\t(DESC ",["Str","\"broken balloon\""],")"],["\t(LDESC ",["Str","\"There is a balloon here, broken into pieces.\""],")"],["\t(SIZE 40)>"],[],["<OBJECT ",["Iddef","ROUND-BUTTON"]],["\t(IN ",["Id","MACHINE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"],")"],["\t(ADJECTIVE ",["Dict","ROUND"],")"],["\t(DESC ",["Str","\"round button\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","BUTTONS"],")>"],[],["<OBJECT ",["Iddef","SQUARE-BUTTON"]],["\t(IN ",["Id","MACHINE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"],")"],["\t(ADJECTIVE ",["Dict","SQUARE"],")"],["\t(DESC ",["Str","\"square button\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","BUTTONS"],")>"],[],["<OBJECT ",["Iddef","TRIANGULAR-BUTTON"]],["\t(IN ",["Id","MACHINE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"],")"],["\t(ADJECTIVE ",["Dict","TRIANGULAR"],")"],["\t(DESC ",["Str","\"triangular button\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","BUTTONS"],")>"],[],["<OBJECT ",["Iddef","CARD"]],["\t(IN ",["Id","SAFE"],")"],["\t(SYNONYM ",["Dict","CARD"]," ",["Dict","NOTE"],")"],["\t(DESC ",["Str","\"card\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(LDESC ",["Str","\"There is a card with writing on it here.\""],")"],["\t(SIZE 1)"],["\t(TEXT"],[["Str","\""]],[["Str","Warning:|"]],[["Str","    This room was constructed over very weak rock strata. Detonation"]],[["Str","of explosives in this room is strictly prohibited!|"]],[["Str","         Frobozz Magic Cave Company|"]],[["Str","         per M. Agrippa, foreman|"]],[["Str","\""],") >"],[],["<OBJECT ",["Iddef","CLOTH-BAG"]],["\t(IN ",["Id","BALLOON"],")"],["\t(SYNONYM ",["Dict","BAG"],")"],["\t(ADJECTIVE ",["Dict","CLOTH"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(DESC ",["Str","\"cloth bag\""],")"],["\t(ACTION ",["Id","BCONTENTS"],")>"],[],["<OBJECT ",["Iddef","CROWN"]],["\t(IN ",["Id","SAFE"],")"],["\t(SYNONYM ",["Dict","CROWN"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","GAUDY"],")"],["\t(DESC ",["Str","\"gaudy crown\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"]," ",["Implid","WEARBIT"],")"],["\t(FDESC ",["Str","\"The excessively gaudy crown of Lord Dimwit Flathead is here.\""],")"],["\t(LDESC ",["Str","\"Lord Dimwit's crown is here.\""],")"],["\t(SIZE 10)"],["\t(VALUE 20)>"],[],["<OBJECT ",["Iddef","PALANTIR-1"],"\t",["Comment",";\"was SPHER\""]],["\t(IN ",["Id","CAGE-ROOM"],")"],["\t(SYNONYM ",["Dict","SPHERE"]," ",["Dict","BALL"]," ",["Dict","PALANTIR"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"]," ",["Dict","RED"],")"],["\t(DESC ",["Str","\"red crystal sphere\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"]," ",["Implid","TRANSBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","SPHERE-FCN"],")"],["\t(LDESC ",["Str","\"There is a beautiful red crystal sphere here.\""],")"],["\t(SIZE 10)"],["\t(VALUE 20)>"],[],["<OBJECT ",["Iddef","VIOLIN"]],["\t(IN ",["Id","IRON-BOX"],")"],["\t(SYNONYM ",["Dict","STRADIVARIUS"]," ",["Dict","VIOLIN"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","FANCY"],")"],["\t(DESC ",["Str","\"fancy violin\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"],")"],["\t(LDESC ",["Str","\"There is a Stradivarius here.\""],")"],["\t(SIZE 10)"],["\t(VALUE 20)"],["\t(ACTION ",["Id","VIOLIN-FCN"],")>"],[],["<OBJECT ",["Iddef","ICE"]],["\t(IN ",["Id","GLACIER-ROOM"],")"],["\t(SYNONYM ",["Dict","ICE"]," ",["Dict","MASS"]," ",["Dict","GLACIER"],")"],["\t(ADJECTIVE ",["Dict","COLD"]," ",["Dict","ICY"],")"],["\t(DESC ",["Str","\"glacier\""],")"],["\t(ACTION ",["Id","GLACIER-FCN"],")"],["\t(LDESC ",["Str","\"A mass of ice fills the western half of the room.\""],")>"],[],["<OBJECT ",["Iddef","FLASK"]],["\t(IN ",["Id","POOL-ROOM"],")"],["\t(SYNONYM ",["Dict","FLASK"],")"],["\t(ADJECTIVE ",["Dict","GLASS"],")"],["\t(DESC ",["Str","\"stoppered glass flask filled with liquid\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","TRANSBIT"]," ",["Implid","READBIT"],")"],["\t(ACTION ",["Id","FLASK-FCN"],")"],["\t(LDESC"],[["Str","\"A stoppered glass flask with a skull-and-crossbones marking is here."]],[["Str","The flask is filled with some clear liquid.\""],")"],["\t(CAPACITY 5)"],["\t(TEXT ",["Str","\"There is a skull-and-crossbones engraved on the glass.\""],")"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","ROBOT-LABEL"]],["\t(IN ",["Id","MAGNET-ROOM"],")"],["\t(SYNONYM ",["Dict","PAPER"]," ",["Dict","PIECE"]," ",["Dict","INSTRUCTIONS"],")"],["\t(ADJECTIVE ",["Dict","GREEN"],")"],["\t(DESC ",["Str","\"green piece of paper\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(LDESC ",["Str","\"There is a green piece of paper here.\""],")"],["\t(SIZE 3)"],["\t(TEXT"],[["Str","\"!!  FROBOZZ MAGIC ROBOT COMPANY  !!||"]],[],[["Str","Hello, Master!|"]],[["Str","|"]],[["Str","   I am a late-model robot, trained at GUE Tech to perform various"]],[["Str","simple household functions.|"]],[["Str","|"]],[["Str","   To activate me, say the following:|"]],[["Str","|"]],[["Str","        >ROBOT, <things to do>|"]],[["Str","|"]],[["Str","At your service!"]],[["Str","\""],") >"],[],["<OBJECT ",["Iddef","SLOT"]],["\t(IN ",["Id","SAFE-ROOM"],")"],["\t(SYNONYM ",["Dict","SLOT"]," ",["Dict","HOLE"],")"],["\t(DESC ",["Str","\"hole\""],")"],["\t(FLAGS ",["Implid","OPENBIT"]," ",["Implid","NDESCBIT"],")"],["\t(CAPACITY 10)"],["\t(ACTION ",["Id","SLOT-F"],")>"],[],["<ROUTINE ",["Iddef","SLOT-F"]," ()"],["\t <COND (<AND <VERB? LOOK-INSIDE> <NOT <FIRST? ,",["Id","SLOT"],">>>"],["\t\t<TELL ",["Str","\"There's nothing in the hole.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"The oblong hole has been chipped out of the box, probably by someone"]],[["Str","wanting whatever is inside the box. The attempt was a pathetic failure,"]],[["Str","however.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","HOOK-2"]],["\t(IN ",["Id","LEDGE-2"],")"],["\t(SYNONYM ",["Dict","HOOK"],")"],["\t(ADJECTIVE ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"hook\""],")"],["\t(LDESC ",["Str","\"There is a small hook attached to the rock here.\""],")>"],[],["<OBJECT ",["Iddef","HOOK-1"]],["\t(IN ",["Id","LEDGE-1"],")"],["\t(SYNONYM ",["Dict","HOOK"],")"],["\t(ADJECTIVE ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"hook\""],")"],["\t(LDESC ",["Str","\"There is a small hook attached to the rock here.\""],")>"],[],["<OBJECT ",["Iddef","LAMP"]],["\t(IN ",["Id","INSIDE-BARROW"],")"],["\t(SYNONYM ",["Dict","LAMP"]," ",["Dict","LANTERN"]," ",["Dict","LIGHT"],")"],["\t(ADJECTIVE ",["Dict","BRASS"],")"],["\t(DESC ",["Str","\"lamp\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","LIGHTBIT"],")"],["\t(FDESC ",["Str","\"A strangely familiar brass lantern is lying on the ground.\""],")"],["\t(ACTION ",["Id","LANTERN"],")"],["\t(SIZE 15)>"],[],["<OBJECT ",["Iddef","BROKEN-LAMP"],"\t",["Comment",";\"was BLAMP\""]],["\t(SYNONYM ",["Dict","LAMP"]," ",["Dict","LANTERN"]," ",["Dict","LIGHT"],")"],["\t(ADJECTIVE ",["Dict","BROKEN"]," ",["Dict","BRASS"],")"],["\t(DESC ",["Str","\"broken brass lantern\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"],")"],["\t(SIZE 15)>"],[],["<OBJECT ",["Iddef","ALICE-TABLE"]],["\t(IN ",["Id","TEA-ROOM"],")"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(ADJECTIVE ",["Dict","LARGE"]," ",["Dict","OBLONG"],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","OPENBIT"],")"],["\t(DESC ",["Str","\"large oblong table\""],")"],["\t(CAPACITY 50)>"],[],["<OBJECT ",["Iddef","MANGLED-CAGE"]],["\t(SYNONYM ",["Dict","CAGE"],")"],["\t(ADJECTIVE ",["Dict","MANGLED"]," ",["Dict","STEEL"],")"],["\t(DESC ",["Str","\"mangled cage\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"],")"],["\t(LDESC ",["Str","\"There is a mangled steel cage here.\""],")"],["\t(SIZE 60)>"],[],["<OBJECT ",["Iddef","PEARL"]],["\t(IN ",["Id","PEARL-ROOM"],")"],["\t(SYNONYM ",["Dict","NECKLACE"]," ",["Dict","PEARLS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","PEARL"],")"],["\t(DESC ",["Str","\"pearl necklace\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"],")"],["\t(LDESC ",["Str","\"There is a pearl necklace here with hundreds of large pearls.\""],")"],["\t(SIZE 10)"],["\t(VALUE 15)>"],[],["<OBJECT ",["Iddef","EAT-ME-CAKE"]],["\t(IN ",["Id","ALICE-TABLE"],")"],["\t(SYNONYM ",["Dict","CAKE"]," ",["Dict","ICING"]," ",["Dict","CAKES"]," ",["Dict","LETTER"],")"],["\t(ADJECTIVE ",["Dict","GREEN"]," ",["Dict","FROSTED"],")"],["\t(DESC ",["Str","\"cake frosted with green letters\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","FOODBIT"],")"],["\t(ACTION ",["Id","EATME-FCN"],")"],["\t(TEXT ",["Str","\"The icing spells out \\\"Eat Me.\\\"\""],")"],["\t(SIZE 4)>"],[],["<OBJECT ",["Iddef","BLUE-ICING"]],["\t(IN ",["Id","ALICE-TABLE"],")"],["\t(SYNONYM ",["Dict","CAKE"]," ",["Dict","ICING"]," ",["Dict","CAKES"]," ",["Dict","LETTER"],")"],["\t(ADJECTIVE ",["Dict","BLUE"]," ",["Dict","FROSTED"],")"],["\t(DESC ",["Str","\"cake frosted with blue letters\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","FOODBIT"],")"],["\t(ACTION ",["Id","CAKE-FCN"],")"],["\t(SIZE 4)>"],[],["<OBJECT ",["Iddef","ORANGE-ICING"]],["\t(IN ",["Id","ALICE-TABLE"],")"],["\t(SYNONYM ",["Dict","CAKE"]," ",["Dict","CAKES"]," ",["Dict","ICING"]," ",["Dict","LETTER"],")"],["\t(ADJECTIVE ",["Dict","ORANGE"]," ",["Dict","FROSTED"],")"],["\t(DESC ",["Str","\"cake frosted with orange letters\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","FOODBIT"],")"],["\t(ACTION ",["Id","CAKE-FCN"],")"],["\t(SIZE 4)>"],[],["<OBJECT ",["Iddef","RED-ICING"]],["\t(IN ",["Id","ALICE-TABLE"],")"],["\t(SYNONYM ",["Dict","CAKE"]," ",["Dict","CAKES"]," ",["Dict","ICING"]," ",["Dict","LETTER"],")"],["\t(ADJECTIVE ",["Dict","RED"]," ",["Dict","FROSTED"],")"],["\t(DESC ",["Str","\"cake frosted with red letters\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","FOODBIT"],")"],["\t(ACTION ",["Id","CAKE-FCN"],")"],["\t(SIZE 4)>"],[],["<OBJECT ",["Iddef","LEAK"]],["\t(IN ",["Id","POOL-ROOM"],")"],["\t(SYNONYM ",["Dict","LEAK"],")"],["\t(ADJECTIVE ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"leak\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","PLEAK"],")>"],[],["<OBJECT ",["Iddef","POOL"]],["\t(IN ",["Id","POOL-ROOM"],")"],["\t(SYNONYM ",["Dict","POOL"]," ",["Dict","TEARS"],")"],["\t(ADJECTIVE ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"pool of tears\""],")"],["\t(LDESC"],[["Str","\"The leak has submerged the depressed area in a pool of tears. There is"]],[["Str","a hazy something at the deepest part of the pool.\""],")"],["\t(ACTION ",["Id","POOL-FCN"],")>"],[],["<OBJECT ",["Iddef","COIN"]],["\t(IN ",["Id","LEDGE-1"],")"],["\t(SYNONYM ",["Dict","COIN"]," ",["Dict","ZORKMID"]," ",["Dict","GOLD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","GOLD"]," ",["Dict","PRICELESS"],")"],["\t(DESC ",["Str","\"priceless zorkmid\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","READBIT"]," ",["Implid","TAKEBIT"],")"],["\t(FDESC"],[["Str","\"On the floor is a priceless gold zorkmid (a valuable collector's item).\""],")"],["\t(LDESC ",["Str","\"There is an engraved zorkmid here.\""],")"],["\t(SIZE 10)"],["\t(VALUE 20)"],["\t(TEXT"],[["Str","\"This is a beautiful octagonal coin bearing the legends \\\"Ten Thousand"]],[["Str","Zorkmids\\\" and \\\"In Frobs We Trust\\\".\""],")>"],[],[["Comment",";\"      -------------------------|"]],[["Comment","      /      Gold Zorkmid        \\\\|"]],[["Comment","     /  T e n   T h o u s a n d   \\\\|"]],[["Comment","    /        Z O R K M I D S       \\\\|"]],[["Comment","   /                                \\\\|"]],[["Comment","  /        !!!!!!!!!!!!!!!!!!        \\\\|"]],[["Comment"," /        !!!!!          !!!!!        \\\\|"]],[["Comment","!           !!!  ^^  ^^  !!!           !|"]],[["Comment","!           !!!  OO  OO  !!!           !|"]],[["Comment","! In Frobs  !!!    <<    !!!  We Trust !|"]],[["Comment","!            !! (______) !!            !|"]],[["Comment","!             !          !             !|"]],[["Comment","!             !__________!             !|"]],[["Comment"," \\\\                                    /|"]],[["Comment","  \\\\     -- Lord Dimwit Flathead --   /|"]],[["Comment","   \\\\     -- Beloved of Zorkers --   /|"]],[["Comment","    \\\\                              /|"]],[["Comment","     \\\\       * 722 G.U.E. *       /|"]],[["Comment","      \\\\                          /|"]],[["Comment","       --------------------------|"]],[["Comment","\""]],[],["<OBJECT ",["Iddef","STAMP"]],["\t(IN ",["Id","PURPLE-BOOK"],")"],["\t(SYNONYM ",["Dict","STAMP"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","FLATHEAD"],")"],["\t(DESC ",["Str","\"Flathead stamp\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(LDESC ",["Str","\"There is a Flathead stamp here.\""],")"],["\t(SIZE 1)"],["\t(VALUE 10)"],["\t(TEXT ",["Str","\"This three zorkmid stamp bears a portrait of Lord"]],[["Str","Dimwit Flathead, \\\"Our Excessive Leader\\\".\""],")>"],[],[["Comment",";\"|"]],[["Comment","---v----v----v----v----v---|"]],[["Comment","!   !!!!!!!!!!     LORD   !|"]],[["Comment","> !!!!!       !   DIMWIT  <|"]],[["Comment","!  !!!!    ---!  FLATHEAD !|"]],[["Comment","!  !!!C    CC \\\\           !|"]],[["Comment",">   !!        _\\\\          <|"]],[["Comment","!    !!! (____!           !|"]],[["Comment","!     !!      !    Our    !|"]],[["Comment",">      !______! Excessive <|"]],[["Comment","!        /   \\\\   Leader   !|"]],[["Comment","!                         !|"]],[["Comment",">    G.U.E.       Three   <|"]],[["Comment","!   POSTAGE      Zorkmids !|"]],[["Comment","---^----^----^----^----^---|"]],[["Comment","\""]],[],["<OBJECT ",["Iddef","GREEN-BOOK"]],["\t(IN ",["Id","LIBRARY"],")"],["\t(SYNONYM ",["Dict","BOOK"]," ",["Dict","COVER"]," ",["Dict","BOOKS"],")"],["\t(ADJECTIVE ",["Dict","HANDSOME"]," ",["Dict","GREEN"]," ",["Dict","LEATHER"],")"],["\t(DESC ",["Str","\"green book\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","BURNBIT"],")"],["\t(FDESC"],[["Str","\"A handsome book, bound in green leather, sits in the center of the room.\""],")"],["\t(CAPACITY 2)"],["\t(SIZE 10)"],["\t(TEXT ",["Str","\"This book is written in a tongue with which I am unfamiliar.\""],")"],["\t(ACTION ",["Id","RANDOM-BOOK"],")>"],[],["<OBJECT ",["Iddef","BLUE-BOOK"]],["\t(IN ",["Id","LIBRARY"],")"],["\t(SYNONYM ",["Dict","BOOK"]," ",["Dict","COVER"]," ",["Dict","BOOKS"],")"],["\t(ADJECTIVE ",["Dict","BLUE"],")"],["\t(DESC ",["Str","\"blue book\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","BURNBIT"],")"],["\t(FDESC ",["Str","\"Worn and battered in one corner of the room is a blue book.\""],")"],["\t(CAPACITY 2)"],["\t(SIZE 10)"],["\t(TEXT ",["Str","\"This book is written in a tongue with which I am unfamiliar.\""],")"],["\t(ACTION ",["Id","RANDOM-BOOK"],")>"],[],["<OBJECT ",["Iddef","WHITE-BOOK"]],["\t(IN ",["Id","LIBRARY"],")"],["\t(SYNONYM ",["Dict","BOOK"]," ",["Dict","COVER"]," ",["Dict","BOOKS"],")"],["\t(ADJECTIVE ",["Dict","WHITE"]," ",["Dict","GLOSSY"],")"],["\t(DESC ",["Str","\"white book\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","BURNBIT"],")"],["\t(FDESC"],[["Str","\"Right beside the purple book sits a white one.\""],")"],["\t(CAPACITY 2)"],["\t(SIZE 5)"],["\t(TEXT"],[["Str","\"It is written in an unfamiliar tongue and details the use of various"]],[["Str","magical objects, chiefly the so-called \\\"magic wand\\\". Apparently these"]],[["Str","devices work by pointing them at the object to be ensorcelled, and then"]],[["Str","chanting the appropriate magic words. (It's truly amazing how credulous"]],[["Str","these ancients were, isn't it?)\""],")"],["\t(ACTION ",["Id","RANDOM-BOOK"],")>"],[],["<OBJECT ",["Iddef","PURPLE-BOOK"]],["\t(IN ",["Id","LIBRARY"],")"],["\t(SYNONYM ",["Dict","BOOK"]," ",["Dict","BOOKS"],")"],["\t(ADJECTIVE ",["Dict","PURPLE"],")"],["\t(DESC ",["Str","\"purple book\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","BURNBIT"],")"],["\t(LDESC"],[["Str","\"Lying in the dust, and covered with mold, is a purple book.\""],")"],["\t(CAPACITY 2)"],["\t(SIZE 10)"],["\t(ACTION ",["Id","PURPLE-BOOK-FCN"],")"],["\t(TEXT"],[["Str","\"This book is written in a tongue with which I am unfamiliar. Assuming that"]],[["Str","one can indeed tell a book by its cover, it is likely filled with purple prose,"]],[["Str","the like of which is rarely seen outside the Great Underground Empire.\""],")>"],[],["<OBJECT ",["Iddef","RECEPTACLE"]],["\t(IN ",["Id","BALLOON"],")"],["\t(SYNONYM ",["Dict","RECEPTACLE"],")"],["\t(ADJECTIVE ",["Dict","METAL"],")"],["\t(DESC ",["Str","\"receptacle\""],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","SEARCHBIT"]," ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","BCONTENTS"],")"],["\t(CAPACITY 6)>"],[],["<OBJECT ",["Iddef","ROBOT"]],["\t(IN ",["Id","MAGNET-ROOM"],")"],["\t(SYNONYM ",["Dict","ROBOT"]," ",["Dict","R2D2"]," ",["Dict","C3PO"]," ",["Dict","ROBBY"],")"],["\t(DESC ",["Str","\"robot\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(ACTION ",["Id","ROBOT-FCN"],")"],["\t(LDESC ",["Str","\"There is a robot here.\""],")>"],[],["<OBJECT ",["Iddef","RUBY"]],["\t(IN ",["Id","LAVA-ROOM"],")"],["\t(SYNONYM ",["Dict","RUBY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","MOBY"],")"],["\t(DESC ",["Str","\"ruby\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"],")"],["\t(FDESC ",["Str","\"On the floor lies a moby ruby.\""],")"],["\t(LDESC ",["Str","\"There is a moby ruby lying here.\""],")"],["\t(VALUE 15)>"],[],["<OBJECT ",["Iddef","IRON-BOX"]],["\t(IN ",["Id","CAROUSEL-ROOM"],")"],["\t(SYNONYM ",["Dict","BOX"],")"],["\t(ADJECTIVE ",["Dict","STEEL"]," ",["Dict","DENTED"],")"],["\t(DESC ",["Str","\"steel box\""],")"],["\t(FLAGS ",["Implid","CONTBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","INVISIBLE"],")"],["\t(LDESC ",["Str","\"There is a dented steel box here.\""],")"],["\t(CAPACITY 20)"],["\t(SIZE 40)>"],[],["<OBJECT ",["Iddef","CAGE"]],["\t(IN ",["Id","CAGE-ROOM"],")"],["\t(FLAGS ",["Implid","INVISIBLE"],")"],["\t(SYNONYM ",["Dict","CAGE"],")"],["\t(ADJECTIVE ",["Dict","STEEL"]," ",["Dict","SOLID"],")"],["\t(DESC ",["Str","\"solid steel cage\""],")"],["\t(LDESC ",["Str","\"There is a solid steel cage in the middle of the room.\""],")>"],[],["<OBJECT ",["Iddef","CANDY"]],["\t(IN ",["Id","POOL-ROOM"],")"],["\t(SYNONYM ",["Dict","PACKAGE"]," ",["Dict","CANDY"]," ",["Dict","TREASURE"]," ",["Dict","GRASSHOPPERS"],")"],["\t(ADJECTIVE ",["Dict","CANDIED"]," ",["Dict","RARE"],")"],["\t(DESC ",["Str","\"package of candy\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","FOODBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","INVISIBLE"]," ",["Implid","READBIT"],")"],["\t(LDESC ",["Str","\"There is a package of candied goodies here.\""],")"],["\t(ACTION ",["Id","CANDY-FCN"],")"],["\t(SIZE 8)"],["\t(VALUE 15)>"],[],["<OBJECT ",["Iddef","TOP-ETCHINGS"]],["\t(IN ",["Id","WELL-TOP"],")"],["\t(SYNONYM ",["Dict","ETCHINGS"]," ",["Dict","WALL"],")"],["\t(DESC ",["Str","\"wall with etchings\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","TOP-ETCHINGS-F"],")>"],[],["<OBJECT ",["Iddef","BOTTOM-ETCHINGS"]],["\t(IN ",["Id","WELL-BOTTOM"],")"],["\t(SYNONYM ",["Dict","ETCHINGS"]," ",["Dict","WALL"],")"],["\t(DESC ",["Str","\"wall with etchings\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","BOTTOM-ETCHINGS-F"],")>"],[],["<OBJECT ",["Iddef","FUSE"]],["\t(IN ",["Id","COBWEBBY-CORRIDOR"],")"],["\t(SYNONYM ",["Dict","FUSE"]," ",["Dict","STRING"]," ",["Dict","COIL"],")"],["\t(ADJECTIVE ",["Dict","BLACK"]," ",["Dict","THIN"],")"],["\t(DESC ",["Str","\"black string\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(ACTION ",["Id","FUSE-FCN"],")"],["\t(LDESC ",["Str","\"There is a coil of black, braided string here.\""],")"],["\t(SIZE 1)>"],[],["<OBJECT ",["Iddef","BUCKET"]],["\t(IN ",["Id","WELL-BOTTOM"],")"],["\t(SYNONYM ",["Dict","BUCKET"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"],")"],["\t(DESC ",["Str","\"wooden bucket\""],")"],["\t(FLAGS ",["Implid","VEHBIT"]," ",["Implid","OPENBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","BUCKET-FCN"],")"],["\t(CONTFCN ",["Id","BUCKET-CONT"],")"],["\t(LDESC"],[["Str","\"There is a wooden bucket here, 3 feet in diameter and 3 feet high.\""],")"],["\t(CAPACITY 100)"],["\t(SIZE 100)"],["\t(VTYPE 0)>"],[],["<OBJECT ",["Iddef","POSTS"]],["\t(IN ",["Id","POSTS-ROOM"],")"],["\t(SYNONYM ",["Dict","POSTS"]," ",["Dict","POST"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(DESC ",["Str","\"group of wooden posts\""],")>"],[],[["Str","\"SUBTITLE BANK OBJECTS\""]],[],["<OBJECT ",["Iddef","BILLS"]],["\t(IN ",["Id","VAULT"],")"],["\t(SYNONYM ",["Dict","BILLS"]," ",["Dict","STACK"]," ",["Dict","MONEY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","NEAT"]," ",["Dict","MANY"]," ",["Dict","ZORKMID"],")"],["\t(DESC ",["Str","\"stack of zorkmid bills\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(ACTION ",["Id","BILLS-OBJECT"],")"],["\t(LDESC"],["\t ",["Str","\"200 neatly stacked zorkmid bills are here.\""],")"],["\t(FDESC"],["\t ",["Str","\"On the floor sit 200 neatly stacked zorkmid bills.\""],")"],["\t(SIZE 10)"],["\t(VALUE 25)"],["\t(TEXT ",["Str","\"Each bill is worth 100 zorkmids, and bears the legend"]],[["Str","\\\"In Frobs We Trust\\\".\""],")>"],[],[["Comment",";\""]],[["Comment","______________________________________________________________"]],[["Comment","+ 1  0   0          GREAT UNDERGROUND EMPIRE         1  0   0 +|"]],[["Comment","+ 1 0 0 0 0\t\t\t\t\t     1 0 0 0 0+|"]],[["Comment","+ 1 0 0 0 0\t\t\t\t\t     1 0 0 0 0+|"]],[["Comment","+ 1  0   0\t\t    DIMWIT\t\t     1  0   0 +|"]],[["Comment","+\t               ++++++++++++++++\t  \t\t      +|"]],[["Comment","+\t\t       ++   __  __   ++\t\t   B30332744D +|"]],[["Comment","+\t\t       ++  -OO  OO-  ++\t  \t\t      +|"]],[["Comment","+\tIN  FROBS      \\\\++    >>    ++/\t    WE  TRUST         +|"]],[["Comment","+\t\t        ++  ______  ++\t       \t\t      +|"]],[["Comment","+ B30332744D\t         +  ------  +\t       \t\t      +|"]],[["Comment","+                        \\\\\\\\________//\t       \t\t      +|"]],[["Comment","+ 1  0   0    Series\t   FLATHEAD\tLD Flathead  1  0   0 +|"]],[["Comment","+ 1 0 0 0 0   719GUE\t   \t\t Treasurer   1 0 0 0 0+|"]],[["Comment","+ 1 0 0 0 0 \t\t\t\t\t     1 0 0 0 0+|"]],[["Comment","+ 1  0   0\t  One Hundred Royal Zorkmids\t     1  0   0 +|"]],[["Comment","+_____________________________________________________________+|"]],[],[["Comment","\""]],[],["<OBJECT ",["Iddef","PORTRAIT"]],["\t(IN ",["Id","OFFICE"],")"],["\t(SYNONYM ",["Dict","PORTRAIT"]," ",["Dict","PAINTING"]," ",["Dict","ART"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","FLATHEAD"],")"],["\t(DESC ",["Str","\"portrait of J. Pierpont Flathead\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(LDESC"],["\t ",["Str","\"The portrait of J. Pierpont Flathead is here.\""],")"],["\t(FDESC"],["\t ",["Str","\"A portrait of J. Pierpont Flathead hangs on the wall.\""],")"],["\t(SIZE 25)"],["\t(VALUE 20)>"],[],[["Comment",";\"|"]],[["Comment","        !!!!!!!!!!!!!!|"]],[["Comment","       !!   __  __   !!|"]],[["Comment","       !!   $$  $$   !!|"]],[["Comment","       \\\\!!    >>    !!/|"]],[["Comment","        !!  ______  !!|"]],[["Comment","         !  -//--   !|"]],[["Comment","         \\\\\\\\_//_____//|"]],[["Comment","        ___//!  !|"]],[["Comment","        \\\\_// !  !|"]],[["Comment","  __________//  \\\\\\\\__________|"]],[["Comment"," / $ /       *ZZ*       \\\\ $ \\\\|"]],[["Comment","|"]],[["Comment","     J.  PIERPONT  FLATHEAD|"]],[["Comment","          CHAIRMAN|"]],[["Comment","\""]],[],["<OBJECT ",["Iddef","BANK-BROCHURE"]],["\t(IN ",["Id","DEPOSITORY"],")"],["\t(SYNONYM ",["Dict","BROCHURE"]," ",["Dict","PAPER"]," ",["Dict","PIECE"],")"],["\t(ADJECTIVE ",["Dict","BANK"]," ",["Dict","SMALL"]," ",["Dict","WORN"],")"],["\t(DESC ",["Str","\"bank brochure\""],")"],["\t(FDESC ",["Str","\"On the ground is a small, worn piece of paper.\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"],")"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"The paper is barely readable. You can only make out \\\"... valuables"]],[["Str","are completely safe ... advanced"]],[["Str","magic technology ... impossible to take valuables from the depository"]],[["Str","... either teller's ... Many customers faint ... teller pops in ..."]],[["Str","seems to walk through ... walls ...\\\"\""],")>"],[],["<OBJECT ",["Iddef","CUBE"]],["\t(IN ",["Id","DEPOSITORY"],")"],["\t(SYNONYM ",["Dict","VAULT"]," ",["Dict","CUBE"]," ",["Dict","LETTER"],")"],["\t(ADJECTIVE ",["Dict","STONE"]," ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"large stone cube\""],")"],["\t(FLAGS ",["Implid","READBIT"]," ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","CUBE-F"],")>"],[],["<OBJECT ",["Iddef","CURTAIN"]],["\t(IN ",["Id","DEPOSITORY"],")"],["\t(SYNONYM ",["Dict","CURTAIN"]," ",["Dict","LIGHT"],")"],["\t(ADJECTIVE ",["Dict","SHIMMERING"],")"],["\t(DESC ",["Str","\"shimmering curtain of light\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","SCOL-OBJECT"],")>"],[],["<OBJECT ",["Iddef","GNOME-OF-ZURICH"]],["\t(SYNONYM ",["Dict","GNOME"]," ",["Dict","ZURICH"],")"],["\t(ADJECTIVE ",["Dict","ZURICH"],")"],["\t(DESC ",["Str","\"Gnome of Zurich\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","ZGNOME-FCN"],")"],["\t(LDESC ",["Str","\"There is a Gnome of Zurich here.\""],")>"],[],[["Comment",";\"PALANTIR SECTION\""]],[],["<OBJECT ",["Iddef","PDOOR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"]," ",["Dict","OAK"],")"],["\t(DESC ",["Str","\"door made of oak\""],")"],["\t(FLAGS ",["Implid","DOORBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","PDOOR-FCN"],")>"],[],["<OBJECT ",["Iddef","PWINDOW"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WINDOW"],")"],["\t(ADJECTIVE ",["Dict","BARRED"],")"],["\t(DESC ",["Str","\"barred window\""],")"],["\t(FLAGS ",["Implid","DOORBIT"],")"],["\t(ACTION ",["Id","PWINDOW-FCN"],")>"],[],["<OBJECT ",["Iddef","LID-1"]],["\t(IN ",["Id","TINY-ROOM"],")"],["\t(SYNONYM ",["Dict","LID"],")"],["\t(ADJECTIVE ",["Dict","METAL"],")"],["\t(DESC ",["Str","\"metal lid\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","CONTBIT"],")"],["\t(ACTION ",["Id","PLID-FCN"],")>"],[],["<OBJECT ",["Iddef","LID-2"]],["\t(IN ",["Id","DREARY-ROOM"],")"],["\t(SYNONYM ",["Dict","LID"],")"],["\t(ADJECTIVE ",["Dict","METAL"],")"],["\t(DESC ",["Str","\"metal lid\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(ACTION ",["Id","PLID-FCN"],")>"],[],["<OBJECT ",["Iddef","PTABLE"]],["\t(IN ",["Id","DREARY-ROOM"],")"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(ADJECTIVE ",["Dict","DUSTY"]," ",["Dict","WOODEN"],")"],["\t(DESC ",["Str","\"table\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","CONTBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","OPENBIT"],")"],["\t(CAPACITY 40)>"],[],["<OBJECT ",["Iddef","PCRACK"]],["\t(IN ",["Id","DREARY-ROOM"],")"],["\t(SYNONYM ",["Dict","CRACK"],")"],["\t(ADJECTIVE ",["Dict","NARROW"],")"],["\t(DESC ",["Str","\"narrow crack\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","KEYHOLE-1"]],["\t(IN ",["Id","TINY-ROOM"],")"],["\t(SYNONYM ",["Dict","KEYHOLE"]," ",["Dict","HOLE"],")"],["\t(DESC ",["Str","\"keyhole\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","OPENBIT"]," ",["Implid","SEARCHBIT"],")"],["\t(ACTION ",["Id","PKH-FCN"],")"],["\t(CAPACITY 2)>"],[],["<OBJECT ",["Iddef","KEYHOLE-2"]],["\t(IN ",["Id","DREARY-ROOM"],")"],["\t(SYNONYM ",["Dict","KEYHOLE"]," ",["Dict","HOLE"],")"],["\t(DESC ",["Str","\"keyhole\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","OPENBIT"]," ",["Implid","SEARCHBIT"],")"],["\t(ACTION ",["Id","PKH-FCN"],")"],["\t(CAPACITY 2)>"],[],["<OBJECT ",["Iddef","LETTER-OPENER"]],["\t(IN ",["Id","GAZEBO-TABLE"],")"],["\t(SYNONYM ",["Dict","OPENER"],")"],["\t(ADJECTIVE ",["Dict","LETTER"],")"],["\t(DESC ",["Str","\"letter opener\""],")"],["\t(SIZE 2)"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","TOOLBIT"],")>"],[],["<OBJECT ",["Iddef","KEY"]],["\t(IN ",["Id","KEYHOLE-2"],")"],["\t(SYNONYM ",["Dict","KEY"],")"],["\t(ADJECTIVE ",["Dict","IRON"]," ",["Dict","RUSTY"],")"],["\t(DESC ",["Str","\"rusty iron key\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","NDESCBIT"]," ",["Implid","TURNBIT"]," ",["Implid","TOOLBIT"],")"],["\t(ACTION ",["Id","PKEY-FCN"],")"],["\t(SIZE 2)>"],[],["<OBJECT ",["Iddef","PALANTIR-2"]],["\t(IN ",["Id","DREARY-ROOM"],")"],["\t(SYNONYM ",["Dict","PALANTIR"]," ",["Dict","SPHERE"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"]," ",["Dict","BLUE"],")"],["\t(DESC ",["Str","\"blue crystal sphere\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","TAKEBIT"]," ",["Implid","TRANSBIT"],")"],["\t(ACTION ",["Id","PALANTIR"],")"],["\t(VALUE 20)"],["\t(FDESC ",["Str","\"In the center of the table sits a blue crystal sphere.\""],")>"],[],["<OBJECT ",["Iddef","GAZEBO"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","GAZEBO"]," ",["Dict","STRUCTURE"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"],")"],["\t(DESC ",["Str","\"gazebo\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","GAZEBO-FCN"],")>"],[],["<OBJECT ",["Iddef","GAZEBO-TABLE"]],["\t(IN ",["Id","GAZEBO-ROOM"],")"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(ADJECTIVE ",["Dict","TEA"],")"],["\t(DESC ",["Str","\"table\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(CAPACITY 100)>"],[],["<OBJECT ",["Iddef","NEWSPAPER"]],["\t(IN ",["Id","GAZEBO-TABLE"],")"],["\t(SYNONYM ",["Dict","PAPER"]," ",["Dict","NEWSPAPER"],")"],["\t(ADJECTIVE ",["Dict","NEWS"]," ",["Dict","NEWSPAPER"],")"],["\t(DESC ",["Str","\"newspaper\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","BURNBIT"]," ",["Implid","READBIT"],")"],["\t(TEXT"],[["Str","\"** U.S. News and Dungeon Report **|"]],[["Str","|"]],[["Str","FAMED ADVENTURER TO EXPLORE GREAT UNDERGROUND EMPIRE|"]],[["Str","|"]],[["Str","Our correspondents report that a world-famous and battle-hardened"]],[["Str","adventurer has been seen in the vicinity of the Great Underground"]],[["Str","Empire. Local grues have been reported sharpening their (slavering)"]],[["Str","fangs....|"]],[["Str","|"]],[["Str","\\\"Zork II: The Wizard of Frobozz\\\" was written by Dave Lebling and Marc"]],[["Str","Blank, and is (c) Copyright 1981, 1982, 1983 by Infocom, Inc.|"]],[["Str","|\""],")>"],[],["<OBJECT ",["Iddef","PLACE-MAT"]],["\t(IN ",["Id","GAZEBO-TABLE"],")"],["\t(SYNONYM ",["Dict","MAT"]," ",["Dict","PLACEM"],")"],["\t(ADJECTIVE ",["Dict","PLACE"],")"],["\t(DESC ",["Str","\"place mat\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(ACTION ",["Id","PLACE-MAT-FCN"],")"],["\t(SIZE 12)"],["\t(CAPACITY 20)>"],[],["<OBJECT ",["Iddef","TEAPOT"]],["\t(IN ",["Id","GAZEBO-TABLE"],")"],["\t(SYNONYM ",["Dict","TEAPOT"]," ",["Dict","POT"],")"],["\t(ADJECTIVE ",["Dict","CHINA"]," ",["Dict","TEA"],")"],["\t(DESC ",["Str","\"china teapot\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","TRANSBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(CAPACITY 4)"],["\t(ACTION ",["Id","TEAPOT-F"],")>"],[],["<ROUTINE ",["Iddef","TEAPOT-F"]," ()"],["\t <COND (<VERB? CLOSE>"],["\t\t<TELL ",["Str","\"The teapot has no lid.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","WATER"]],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"]," ",["Dict","LIQUID"]," ",["Dict","H2O"],")"],["\t(DESC ",["Str","\"quantity of water\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","DRINKBIT"],")"],["\t(ACTION ",["Id","WATER-FCN"],")"],["\t(LDESC ",["Str","\"There is some water here.\""],")"],["\t(SIZE 4)>"],[],["<OBJECT ",["Iddef","SALTY-WATER"]],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"]," ",["Dict","LIQUID"]," ",["Dict","H2O"],")"],["\t(DESC ",["Str","\"quantity of salty water\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","DRINKBIT"],")"],["\t(ACTION ",["Id","WATER-FCN"],")"],["\t(LDESC ",["Str","\"There is some water here.\""],")"],["\t(SIZE 4)>"],[],["<OBJECT ",["Iddef","GOLD-KEY"]],["\t(IN ",["Id","UNICORN"],")"],["\t(SYNONYM ",["Dict","KEY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","DELICATE"]," ",["Dict","GOLD"],")"],["\t(DESC ",["Str","\"delicate gold key\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","NDESCBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","UNICORN-FCN"],")"],["\t(VALUE 15)"],["\t(SIZE 3)>"],[],["<OBJECT ",["Iddef","RIBBON"]],["\t(IN ",["Id","UNICORN"],")"],["\t(SYNONYM ",["Dict","RIBBON"],")"],["\t(ADJECTIVE ",["Dict","VELVET"]," ",["Dict","SATIN"],")"],["\t(DESC ",["Str","\"ribbon\""],")"],["\t(ACTION ",["Id","UNICORN-FCN"],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","ROSE"]],["\t(SYNONYM ",["Dict","ROSE"],")"],["\t(ADJECTIVE ",["Dict","BEAUTIFUL"]," ",["Dict","RED"]," ",["Dict","PERFECT"],")"],["\t(DESC ",["Str","\"perfect rose\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"],")"],["\t(SIZE 1)"],["\t(ACTION ",["Id","ROSE-F"],")>"],[],["<ROUTINE ",["Iddef","ROSE-F"]," ()"],["\t <COND (<VERB? SMELL>"],["\t\t<TELL"],[["Str","\"Unlike your efforts here, it comes out smelling like a rose.\""],"CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"A rose is a rose is a rose....\""]," CR>)>>"],[],["<OBJECT ",["Iddef","GENIE"]],["\t(SYNONYM ",["Dict","DEVIL"]," ",["Dict","DEMON"]," ",["Dict","GENIE"]," ",["Dict","DJINN"],")"],["\t(DESC ",["Str","\"demon\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","GENIE-FCN"],")"],["\t(LDESC ",["Str","\"There is a demon floating in mid-air here.\""],")>"],[],["<OBJECT ",["Iddef","WIZARD"]],["\t(SYNONYM ",["Dict","WIZARD"]," ",["Dict","MAGICIAN"]," ",["Dict","SORCEROR"]," ",["Dict","MAN"],")"],["\t(ADJECTIVE ",["Dict","STRANGE"]," ",["Dict","LITTLE"]," ",["Dict","FROBOZZ"]," ",["Dict","OLD"],")"],["\t(DESC ",["Str","\"Wizard of Frobozz\""],")"],["\t(LDESC"],[["Str","\"The Wizard of Frobozz is here, eyeing you warily.\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"]," ",["Implid","CONTBIT"]," ",["Implid","OPENBIT"],")"],["\t(ACTION ",["Id","WIZARD-FCN"],")>"],[],["<OBJECT ",["Iddef","WAND"]],["\t(IN ",["Id","WIZARD"],")"],["\t(SYNONYM ",["Dict","WAND"],")"],["\t(ADJECTIVE ",["Dict","MAGIC"],")"],["\t(DESC ",["Str","\"Wizard's magic wand\""],")"],["\t(FLAGS ",["Implid","STAGGERED"]," ",["Implid","NDESCBIT"]," ",["Implid","TAKEBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","WAND-FCN"],")"],["\t(VALUE 30)>"],[],["<OBJECT ",["Iddef","SWORD"]],["\t(IN ",["Id","INSIDE-BARROW"],")"],["\t(SYNONYM ",["Dict","SWORD"]," ",["Dict","ORCRIST"]," ",["Dict","GLAMDRING"]," ",["Dict","BLADE"],")"],["\t(ADJECTIVE ",["Dict","ELVISH"]," ",["Dict","OLD"]," ",["Dict","ANTIQUE"],")"],["\t(DESC ",["Str","\"sword\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","WEAPONBIT"]," ",["Implid","TRYTAKEBIT"],")"],["\t(ACTION ",["Id","SWORD-FCN"],")"],["\t(LDESC ",["Str","\"An Elvish sword of great antiquity is here.\""],")"],["\t(FDESC ",["Str","\"A sword of Elvish workmanship is on the ground.\""],")"],["\t(SIZE 30)"],["\t(VALUE 0)>"],[],["<OBJECT ",["Iddef","REPELLENT"]],["\t(IN ",["Id","ROOM-8"],")"],["\t(SYNONYM ",["Dict","REPELLENT"]," ",["Dict","CAN"],")"],["\t(ADJECTIVE ",["Dict","GRUE"]," ",["Dict","MAGIC"],")"],["\t(DESC ",["Str","\"Frobozz Magic Grue Repellent\""],")"],["\t(FLAGS ",["Implid","TAKEBIT"]," ",["Implid","READBIT"],")"],["\t(ACTION ",["Id","REPELLENT-FCN"],")"],["\t(FDESC"],[["Str","\"A spray can is in the corner. In large type is the legend \\\"Frobozz Magic"]],[["Str","Grue Repellent\\\".\""],")"],["\t(TEXT"],[["Str","\"!!! FROBOZZ MAGIC GRUE REPELLENT !!!|"]],[["Str","|"]],[["Str","Instructions for use: Apply liberally to creature to be protected."]],[["Str","Duration of effect is unpredictable. Use only in place of death!|"]],[["Str","|"]],[["Str","(No warranty expressed or implied)\""],")>"],[],["<ROOM ",["Iddef","DEAD-PALANTIR-1"]],["\t(IN ",["Id","ROOMS"],")"],["\t(LDESC ",["Str","\" \""],")"],["\t(DESC ",["Str","\"Room of Red Mist\""],")"],["\t(WEST TO ",["Id","DEAD-PALANTIR-2"],")"],["\t(FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["\t(ACTION ",["Id","DEAD-PALANTIR"],")"],["\t(GLOBAL ",["Id","GLOBAL-PALANTIR"],")>"],[],["<ROOM ",["Iddef","DEAD-PALANTIR-2"]],["\t(IN ",["Id","ROOMS"],")"],["\t(LDESC ",["Str","\" \""],")"],["\t(DESC ",["Str","\"Room of Blue Mist\""],")"],["\t(WEST TO ",["Id","DEAD-PALANTIR-3"],")"],["\t(FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["\t(ACTION ",["Id","DEAD-PALANTIR"],")"],["\t(GLOBAL ",["Id","GLOBAL-PALANTIR"],")>"],[],["<ROOM ",["Iddef","DEAD-PALANTIR-3"]],["\t(IN ",["Id","ROOMS"],")"],["\t(LDESC ",["Str","\" \""],")"],["\t(DESC ",["Str","\"Room of White Mist\""],")"],["\t(WEST TO ",["Id","DEAD-PALANTIR-4"],")"],["\t(FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["\t(ACTION ",["Id","DEAD-PALANTIR"],")"],["\t(GLOBAL ",["Id","GLOBAL-PALANTIR"],")>"],[],["<ROOM ",["Iddef","DEAD-PALANTIR-4"]],["\t(LDESC ",["Str","\" \""],")"],["\t(IN ",["Id","ROOMS"],")"],["\t(DESC ",["Str","\"Room of Black Mist\""],")"],["\t(FLAGS ",["Implid","RLANDBIT"]," ",["Implid","ONBIT"],")"],["\t(ACTION ",["Id","DEAD-PALANTIR"],")>"],[],["<OBJECT ",["Iddef","GLOBAL-PALANTIR"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","SPHERE"],")"],["\t(ADJECTIVE ",["Dict","RED"]," ",["Dict","BLUE"]," ",["Dict","WHITE"]," ",["Dict","CRYSTAL"],")"],["\t(DESC ",["Str","\"sphere\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","GLOBAL-PALANTIRS"],")>"],[],["<OBJECT ",["Iddef","FOOTPAD"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","FOOTPAD"],")"],["\t(DESC ",["Str","\"footpad\""],")"],["\t(ACTION ",["Id","FOOTPAD-F"],")>"],[],["<ROUTINE ",["Iddef","FOOTPAD-F"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"A footpad is a thief.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","COMPASS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(DESC ",["Str","\"compass\""],")"],["\t(SYNONYM ",["Dict","COMPASS"],")"],["\t(ACTION ",["Id","COMPASS-F"],")>"],[],["<ROUTINE ",["Iddef","COMPASS-F"]," ()"],["\t <COND (<VERB? FIND>"],["\t\t<TELL"],[["Str","\"It's on your person. And lucky for you, or you would become hopelessly"]],[["Str","lost.\""]," CR>)"],["\t       (<VERB? DROP THROW OVERBOARD>"],["\t\t<TELL"],[["Str","\"You can't get rid of it. It is an extension of yourself.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL"],[["Str","\"It's one of those gizmos with a needle and a card with the eight major"]],[["Str","compass directions. Simple, but effective.\""]," CR>)"],["\t       (<VERB? READ>"],["\t\t<TELL"],[["Str","\"It doesn't make very interesting reading - just the compass directions.\""]," CR>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You can't do that. And don't bother to ask why.\""]," CR>)>>"],[]],"gclock.zil":[[["Str","\"GCLOCK for"]],[["Str","\t\t\t    The Zork Trilogy"]],[["Str","\t (c) Copyright 1983 Infocom, Inc.  All Rights Reserved\""]],[],["<CONSTANT ",["Iddef","C-TABLELEN"]," 180>"],[],["<GLOBAL ",["Iddef","C-TABLE"]," <ITABLE NONE 180>>"],[],["<GLOBAL ",["Iddef","C-DEMONS"]," 180>"],[],["<GLOBAL ",["Iddef","C-INTS"]," 180>"],[],["<CONSTANT ",["Iddef","C-INTLEN"]," 6>"],[],["<CONSTANT ",["Iddef","C-ENABLED?"]," 0>"],[],["<CONSTANT ",["Iddef","C-TICK"]," 1>"],[],["<CONSTANT ",["Iddef","C-RTN"]," 2>"],[],["<ROUTINE ",["Iddef","DEMON"]," (",["Localid","RTN"]," ",["Localid","TICK"]," \"AUX\" ",["Localid","CINT"],")"],["\t #DECL ((",["Localid","RTN"],") ATOM (",["Localid","TICK"],") FIX (",["Localid","CINT"],") <PRIMTYPE VECTOR>)"],["\t <PUT <SET ",["Localid","CINT"]," <",["Id","INT"]," .",["Localid","RTN"]," T>> ,",["Id","C-TICK"]," .",["Localid","TICK"],">"],["\t .",["Localid","CINT"],">"],[],["<ROUTINE ",["Iddef","QUEUE"]," (",["Localid","RTN"]," ",["Localid","TICK"]," \"AUX\" ",["Localid","CINT"],")"],["\t #DECL ((",["Localid","RTN"],") ATOM (",["Localid","TICK"],") FIX (",["Localid","CINT"],") <PRIMTYPE VECTOR>)"],["\t <PUT <SET ",["Localid","CINT"]," <",["Id","INT"]," .",["Localid","RTN"],">> ,",["Id","C-TICK"]," .",["Localid","TICK"],">"],["\t .",["Localid","CINT"],">"],[],["<ROUTINE ",["Localid","INT"]," (",["Localid","RTN"]," \"OPTIONAL\" (",["Localid","DEMON"]," <>) ",["Localid","E"]," ",["Localid","C"]," ",["Localid","INT"],")"],["\t #DECL ((",["Localid","RTN"],") ATOM (",["Localid","DEMON"],") <OR ATOM FALSE> (",["Localid","E"]," ",["Localid","C"]," ",["Localid","INT"],") <PRIMTYPE"],["\t\t\t\t\t\t\t      VECTOR>)"],["\t <SET ",["Localid","E"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-TABLELEN"],">>"],["\t <SET ",["Localid","C"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-INTS"],">>"],["\t <REPEAT ()"],["\t\t <COND (<==? .",["Localid","C"]," .",["Localid","E"],">"],["\t\t\t<SETG ",["Id","C-INTS"]," <- ,",["Id","C-INTS"]," ,",["Id","C-INTLEN"],">>"],["\t\t\t<AND .",["Localid","DEMON"]," <SETG ",["Id","C-DEMONS"]," <- ,",["Id","C-DEMONS"]," ,",["Id","C-INTLEN"],">>>"],["\t\t\t<SET ",["Localid","INT"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-INTS"],">>"],["\t\t\t<PUT .",["Localid","INT"]," ,",["Id","C-RTN"]," .",["Localid","RTN"],">"],["\t\t\t<RETURN .",["Localid","INT"],">)"],["\t\t       (<EQUAL? <GET .",["Localid","C"]," ,",["Id","C-RTN"],"> .",["Localid","RTN"],"> <RETURN .",["Localid","C"],">)>"],["\t\t <SET ",["Localid","C"]," <REST .",["Localid","C"]," ,",["Id","C-INTLEN"],">>>>"],[],["<GLOBAL ",["Iddef","CLOCK-WAIT"]," <>>"],[],["<ROUTINE ",["Iddef","CLOCKER"]," (\"AUX\" ",["Localid","C"]," ",["Localid","E"]," ",["Localid","TICK"]," (",["Localid","FLG"]," <>))"],["\t #DECL ((",["Localid","C"]," ",["Localid","E"],") <PRIMTYPE VECTOR> (",["Localid","TICK"],") FIX (",["Localid","FLG"],") <OR FALSE ATOM>)"],["\t <COND (,",["Id","CLOCK-WAIT"]," <SETG ",["Id","CLOCK-WAIT"]," <>> <RFALSE>)>"],["\t <SET ",["Localid","C"]," <REST ,",["Id","C-TABLE"]," <COND (,",["Id","P-WON"]," ,",["Id","C-INTS"],") (T ,",["Id","C-DEMONS"],")>>>"],["\t <SET ",["Localid","E"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-TABLELEN"],">>"],["\t <REPEAT ()"],["\t\t <COND (<==? .",["Localid","C"]," .",["Localid","E"],">"],["\t\t\t<COND (<G? <SETG ",["Id","MOVES"]," <+ ,",["Id","MOVES"]," 1>> 999>"],["\t\t\t       <SETG ",["Id","MOVES"]," 0>)>"],["\t\t\t<RETURN .",["Localid","FLG"],">)"],["\t\t       (<NOT <0? <GET .",["Localid","C"]," ,",["Id","C-ENABLED?"],">>>"],["\t\t\t<SET ",["Localid","TICK"]," <GET .",["Localid","C"]," ,",["Id","C-TICK"],">>"],["\t\t\t<COND (<0? .",["Localid","TICK"],">)"],["\t\t\t      (T"],["\t\t\t       <PUT .",["Localid","C"]," ,",["Id","C-TICK"]," <- .",["Localid","TICK"]," 1>>"],["\t\t\t       <COND (<AND <NOT <G? .",["Localid","TICK"]," 1>>"],["\t\t\t\t\t   <APPLY <GET .",["Localid","C"]," ,",["Id","C-RTN"],">>>"],["\t\t\t\t      <SET ",["Localid","FLG"]," T>)>)>)>"],["\t\t <SET ",["Localid","C"]," <REST .",["Localid","C"]," ,",["Id","C-INTLEN"],">>>>"]],"gglobals.zil":[["\t\t\t",["Str","\"Generic GLOBALS file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],[["Str","\"SUBTITLE GLOBAL OBJECTS\""]],[],["<OBJECT ",["Iddef","GLOBAL-OBJECTS"]],["\t(FLAGS ",["Implid","RMUNGBIT"]," ",["Implid","INVISIBLE"]," ",["Implid","TOUCHBIT"]," ",["Implid","SURFACEBIT"]," ",["Implid","TRYTAKEBIT"]],["\t       ",["Implid","OPENBIT"]," ",["Implid","SEARCHBIT"]," ",["Implid","TRANSBIT"]," ",["Implid","ONBIT"]," ",["Implid","RLANDBIT"]," ",["Implid","FIGHTBIT"]],["\t       ",["Implid","STAGGERED"]," ",["Implid","WEARBIT"],")>"],[],["<OBJECT ",["Iddef","LOCAL-GLOBALS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","ZZMGCK"],")"],["\t(DESCFCN ",["Id","PATH-OBJECT"],")"],["        (GLOBAL ",["Id","GLOBAL-OBJECTS"],")"],["\t(ADVFCN 0)"],["\t(FDESC ",["Str","\"F\""],")"],["\t(LDESC ",["Str","\"F\""],")"],["\t(PSEUDO ",["Dict","\"FOOBAR\""]," ",["Id","V-WALK"],")"],["\t(CONTFCN 0)"],["\t(VTYPE 1)"],["\t(SIZE 0)"],["\t(CAPACITY 0)>"],[],[["Comment",";\"Yes, this synonym for LOCAL-GLOBALS needs to exist... sigh\""]],[],["<OBJECT ",["Iddef","ROOMS"]],["\t(IN TO ",["Iddef","ROOMS"],")>"],[],["<OBJECT ",["Iddef","INTNUM"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","INTNUM"],")"],["\t(FLAGS ",["Implid","TOOLBIT"],")"],["\t(DESC ",["Str","\"number\""],")>"],[],["<OBJECT ",["Iddef","PSEUDO-OBJECT"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(DESC ",["Str","\"pseudo\""],")"],["\t(ACTION ",["Id","CRETIN-FCN"],")>"],[],["<OBJECT ",["Iddef","IT"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","IT"]," ",["Dict","THEM"]," ",["Dict","HER"]," ",["Dict","HIM"],")"],["\t(DESC ",["Str","\"random object\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TOUCHBIT"],")>"],[],["<OBJECT ",["Iddef","NOT-HERE-OBJECT"]],["\t(DESC ",["Str","\"such thing\""]," ",["Comment",";\"[not here]\""],")"],["\t(ACTION ",["Id","NOT-HERE-OBJECT-F"],")>"],[],["<ROUTINE ",["Iddef","NOT-HERE-OBJECT-F"]," (\"AUX\" ",["Localid","TBL"]," (",["Localid","PRSO?"]," T) ",["Localid","OBJ"],")"],["\t ",["Comment",";\"This COND is game independent (except the TELL)\""]],["\t <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","NOT-HERE-OBJECT"],">"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","NOT-HERE-OBJECT"],">>"],["\t\t<TELL ",["Str","\"Those things aren't here!\""]," CR>"],["\t\t<RTRUE>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," ,",["Id","NOT-HERE-OBJECT"],">"],["\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSO"],">)"],["\t       (T"],["\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSI"],">"],["\t\t<SET ",["Localid","PRSO?"]," <>>)>"],["\t ",["Comment",";\"Here is the default 'cant see any' printer\""]],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">"],["\t\t<TELL ",["Str","\"You can't see any\""],">"],["\t\t<",["Id","NOT-HERE-PRINT"]," .",["Localid","PRSO?"],">"],["\t\t<TELL ",["Str","\" here!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","WINNER"]," ",["Str","\" seems confused. \\\"I don't see any\""],">"],["\t\t<",["Id","NOT-HERE-PRINT"]," .",["Localid","PRSO?"],">"],["\t\t<TELL ",["Str","\" here!\\\"\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","FIND-NOT-HERE"]," (",["Localid","TBL"]," ",["Localid","PRSO?"]," \"AUX\" ",["Localid","M-F"]," ",["Localid","OBJ"],")"],["\t",["Comment",";\"Here is where special-case code goes. <MOBY-FIND .TBL> returns"]],[["Comment","\t   number of matches. If 1, then P-MOBY-FOUND is it. One may treat"]],[["Comment","\t   the 0 and >1 cases alike or different. It doesn't matter. Always"]],[["Comment","\t   return RFALSE (not handled) if you have resolved the problem.\""]],["\t<SET ",["Localid","M-F"]," <",["Id","MOBY-FIND"]," .",["Localid","TBL"],">>"],["\t<COND (,",["Id","DEBUG"]],["\t       <TELL ",["Str","\"[Moby-found \""]," N .",["Localid","M-F"]," ",["Str","\" objects\""]," ",["Str","\"]\""]," CR>)>"],["\t<COND (<AND <G? .",["Localid","M-F"]," 1>"],["\t\t    <SET ",["Localid","OBJ"]," <GETP <1 .",["Localid","TBL"],"> ,",["Implid","P?GLOBAL"],">>>"],["\t       <SET ",["Localid","M-F"]," 1>"],["\t       <SETG ",["Id","P-MOBY-FOUND"]," .",["Localid","OBJ"],">)>"],["\t<COND (<==? 1 .",["Localid","M-F"],">"],["\t       <COND (,",["Id","DEBUG"]," <TELL ",["Str","\"[Namely: \""]," D ,",["Id","P-MOBY-FOUND"]," ",["Str","\"]\""]," CR>)>"],["\t       <COND (.",["Localid","PRSO?"]," <SETG ",["Id","PRSO"]," ,",["Id","P-MOBY-FOUND"],">)"],["\t\t     (T <SETG ",["Id","PRSI"]," ,",["Id","P-MOBY-FOUND"],">)>"],["\t       <RFALSE>)"],["\t      (<NOT .",["Localid","PRSO?"],">"],["\t       <TELL ",["Str","\"You wouldn't find any\""],">"],["\t       <",["Id","NOT-HERE-PRINT"]," .",["Localid","PRSO?"],">"],["\t       <TELL ",["Str","\" there.\""]," CR>"],["\t       <RTRUE>)"],["\t      (T ,",["Id","NOT-HERE-OBJECT"],")>>"],[],["<ROUTINE ",["Iddef","GLOBAL-NOT-HERE-PRINT"]," (",["Localid","OBJ"],")"],["\t ",["Comment",";<COND (,P-MULT <SETG P-NOT-HERE <+ ,P-NOT-HERE 1>>)>"]],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <TELL ",["Str","\"You can't see any\""],">"],["\t <COND (<EQUAL? .",["Localid","OBJ"]," ,",["Id","PRSO"],"> <",["Id","PRSO-PRINT"],">)"],["\t       (T <",["Id","PRSI-PRINT"],">)>"],["\t <TELL ",["Str","\" here.\""]," CR>>"],[],["<ROUTINE ",["Iddef","NOT-HERE-PRINT"]," (",["Localid","PRSO?"],")"],[" <COND (,",["Id","P-OFLAG"]],["\t<COND (,",["Id","P-XADJ"]," <TELL ",["Str","\" \""],"> <PRINTB ,",["Id","P-XADJN"],">)>"],["\t<COND (,",["Id","P-XNAM"]," <TELL ",["Str","\" \""],"> <PRINTB ,",["Id","P-XNAM"],">)>)"],["       (.",["Localid","PRSO?"]],["\t<",["Id","BUFFER-PRINT"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],"> <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],"> <>>)"],["       (T"],["\t<",["Id","BUFFER-PRINT"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2"],"> <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2L"],"> <>>)>>"],[],["<ROUTINE ",["Iddef","NULL-F"]," (\"OPTIONAL\" ",["Localid","A1"]," ",["Localid","A2"],")"],["\t <RFALSE>>"],[],["/^L"],[],[["Str","\"Objects shared by all three Zorks go here\""]],[],["<GLOBAL ",["Iddef","LOAD-MAX"]," 100>"],[],["<GLOBAL ",["Iddef","LOAD-ALLOWED"]," 100>"],[],["<OBJECT ",["Iddef","BLESSINGS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","BLESSINGS"]," ",["Dict","GRACES"],")"],["\t(DESC ",["Str","\"blessings\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","STAIRS"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","STAIRS"]," ",["Dict","STEPS"]," ",["Dict","STAIRCASE"]," ",["Dict","STAIRWAY"],")"],["\t(ADJECTIVE ",["Dict","STONE"]," ",["Dict","DARK"]," ",["Dict","MARBLE"]," ",["Dict","FORBIDDING"]," ",["Dict","STEEP"],")"],["\t(DESC ",["Str","\"stairs\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","CLIMBBIT"],")"],["\t(ACTION ",["Id","STAIRS-F"],")>"],[],["<ROUTINE ",["Iddef","STAIRS-F"]," ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<TELL"],[["Str","\"You should say whether you want to go up or down.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","SAILOR"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","SAILOR"],")"],["\t(DESC ",["Str","\"sailor\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","SAILOR-FCN"],")>"],[],["<ROUTINE ",["Iddef","SAILOR-FCN"]," ()"],["\t  <COND (<VERB? HELLO>"],["\t\t <SETG ",["Id","HS"]," <+ ,",["Id","HS"]," 1>>"],["\t\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t '<COND (<NOT <FSET? ,VIKING-SHIP ,INVISIBLE>>"]],[["Ifndef","\t\t                 <TELL"]],[["Ifndef","\"The seaman looks up and maneuvers the boat toward shore. He cries out \\\"I"]],[["Ifndef","have waited three ages for someone to say those words and save me from"]],[["Ifndef","sailing this endless ocean. Please accept this gift. You may find it"]],[["Ifndef","useful!\\\" He throws something which falls near you in the sand, then sails"]],[["Ifndef","off toward the west, singing a lively, but somewhat uncouth, sailor song.\" CR>"]],[["Ifndef","\t\t                 <FSET ,VIKING-SHIP ,INVISIBLE>"]],[["Ifndef","\t\t                 <MOVE ,VIAL ,HERE>)"]],[["Ifndef","\t\t                (<==? ,HERE ,FLATHEAD-OCEAN>"]],[["Ifndef","\t\t                 <COND (,SHIP-GONE"]],[["Ifndef","\t\t\t                <TELL \"Nothing happens anymore.\" CR>)"]],[["Ifndef","\t\t\t               (T"]],[["Ifndef","\t\t\t\t        <TELL \"Nothing happens yet.\" CR>)>)>)"]],["\t\t\t(T"],["\t\t\t '<",["Id","NULL-F"],">)>"],["\t\t <COND (<0? <MOD ,",["Id","HS"]," 20>>"],["\t\t\t<TELL ",["Str","\"You seem to be repeating yourself.\""]," CR>)"],["\t\t       (<0? <MOD ,",["Id","HS"]," 10>>"],["\t\t\t<TELL"],[["Str","\"I think that phrase is getting a bit worn out.\""]," CR>)"],["\t\t       (T"],["\t\t\t<TELL ",["Str","\"Nothing happens here.\""]," CR>)>)>>"],[],["<OBJECT ",["Iddef","GROUND"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","GROUND"]," ",["Dict","SAND"]," ",["Dict","DIRT"]," ",["Dict","FLOOR"],")"],["\t(DESC ",["Str","\"ground\""],")"],["\t(ACTION ",["Id","GROUND-FUNCTION"],")>"],[],["<ROUTINE ",["Iddef","GROUND-FUNCTION"]," ()"],["\t <COND (<AND <VERB? PUT PUT-ON>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","GROUND"],">>"],["\t\t<",["Id","PERFORM"]," ,V?DROP ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,SANDY-CAVE>"]],[["Ifndef","\t\t\t <SAND-FUNCTION>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (<VERB? DIG>"],["\t\t<TELL ",["Str","\"The ground is too hard for digging here.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","GRUE"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","GRUE"],")"],["\t(ADJECTIVE ",["Dict","LURKING"]," ",["Dict","SINISTER"]," ",["Dict","HUNGRY"]," ",["Dict","SILENT"],")"],["\t(DESC ",["Str","\"lurking grue\""],")"],["\t(ACTION ",["Id","GRUE-FUNCTION"],")>"],[],["<ROUTINE ",["Iddef","GRUE-FUNCTION"]," ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The grue is a sinister, lurking presence in the dark places of the"]],[["Str","earth. Its favorite diet is adventurers, but its insatiable"]],[["Str","appetite is tempered by its fear of light. No grue has ever been"]],[["Str","seen by the light of day, and few have survived its fearsome jaws"]],[["Str","to tell the tale.\""]," CR>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"There is no grue here, but I'm sure there is at least one lurking"]],[["Str","in the darkness nearby. I wouldn't let my light go out if I were"]],[["Str","you!\""]," CR>)"],["\t  (<VERB? LISTEN>"],["\t   <TELL"],[["Str","\"It makes no sound but is always lurking in the darkness nearby.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","LUNGS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","LUNGS"]," ",["Dict","AIR"]," ",["Dict","MOUTH"]," ",["Dict","BREATH"],")"],["\t(DESC ",["Str","\"blast of air\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")>"],[],["<OBJECT ",["Iddef","ME"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","ME"]," ",["Dict","MYSELF"]," ",["Dict","SELF"]," ",["Dict","CRETIN"],")"],["\t(DESC ",["Str","\"you\""],")"],["\t(FLAGS ",["Implid","ACTORBIT"],")"],["\t(ACTION ",["Id","CRETIN-FCN"],")>"],[],["<ROUTINE ",["Iddef","CRETIN-FCN"]," ()"],["\t <COND (<VERB? TELL>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<TELL"],[["Str","\"Talking to yourself is said to be a sign of impending mental collapse.\""]," CR>)"],["\t       (<AND <VERB? GIVE>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","ME"],">>"],["\t\t<",["Id","PERFORM"]," ,V?TAKE ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<VERB? MAKE>"],["\t\t<TELL ",["Str","\"Only you can do that.\""]," CR>)"],["\t       (<VERB? DISEMBARK>"],["\t\t<TELL ",["Str","\"You'll have to do that on your own.\""]," CR>)"],["\t       (<VERB? EAT>"],["\t\t<TELL ",["Str","\"Auto-cannibalism is not the answer.\""]," CR>)"],["\t       (<VERB? ATTACK MUNG>"],["\t\t<COND (<AND ,",["Id","PRSI"]," <FSET? ,",["Id","PRSI"]," ,",["Implid","WEAPONBIT"],">>"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\"If you insist.... Poof, you're dead!\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Suicide is not the answer.\""]," CR>)>)"],["\t       (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"How romantic!\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t\t      '(<EQUAL? ,HERE <LOC ,MIRROR-1> <LOC ,MIRROR-2>>"]],[["Ifndef","\t\t                <TELL"]],[["Ifndef","\"Your image in the mirror looks tired.\" CR>))"]],["\t\t\t     (T"],["\t\t\t      '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"That's difficult unless your eyes are prehensile.\""]," CR>)>)>>"],[],["<OBJECT ",["Iddef","ADVENTURER"]],["\t(SYNONYM ",["Dict","ADVENTURER"],")"],["\t(DESC ",["Str","\"cretin\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","INVISIBLE"]," ",["Implid","SACREDBIT"]," ",["Implid","ACTORBIT"],")"],["\t(STRENGTH 0)"],["\t(ACTION 0)>"],[],["<OBJECT ",["Iddef","PATHOBJ"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","PASSAGE"]," ",["Dict","CRAWLWAY"]," ",["Dict","TRAIL"]," ",["Dict","PATH"],")"],["        (ADJECTIVE ",["Dict","FOREST"]," ",["Dict","NARROW"]," ",["Dict","LONG"]," ",["Dict","WINDING"],")"],["\t(DESC ",["Str","\"way\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"],")"],["\t(ACTION ",["Id","PATH-OBJECT"],")>"],[],["<ROUTINE ",["Iddef","PATH-OBJECT"]," ()"],["\t <COND (<VERB? TAKE FOLLOW>"],["\t\t<TELL ",["Str","\"You must specify a direction to go.\""]," CR>)"],["\t       (<VERB? FIND>"],["\t\t<TELL ",["Str","\"I can't help you there....\""]," CR>)"],["\t       (<VERB? DIG>"],["\t\t<TELL ",["Str","\"Not a chance.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","ZORKMID"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","ZORKMID"],")"],["\t(DESC ",["Str","\"zorkmid\""],")"],["\t(ACTION ",["Id","ZORKMID-FUNCTION"],")>"],[],["<ROUTINE ",["Iddef","ZORKMID-FUNCTION"]," ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The zorkmid is the unit of currency of the Great Underground Empire.\""]," CR>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"The best way to find zorkmids is to go out and look for them.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","HANDS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","PAIR"]," ",["Dict","HANDS"]," ",["Dict","HAND"],")"],["\t(ADJECTIVE ",["Dict","BARE"],")"],["\t(DESC ",["Str","\"pair of hands\""],")"],["\t(FLAGS ",["Implid","NDESCBIT"]," ",["Implid","TOOLBIT"],")>"]],"gmacros.zil":[[["Str","\"GMACROS for"]],[["Str","\t\t\t    The Zork Trilogy"]],[["Str","\t (c) Copyright 1983 Infocom, Inc.  All Rights Reserved\""]],[],["<SETG ",["Iddef","C-ENABLED?"]," 0>"],["<SETG ",["Iddef","C-ENABLED"]," 1>"],["<SETG ",["Iddef","C-DISABLED"]," 0>"],[],["<DEFMAC TELL (\"ARGS\" A)"],["\t<FORM PROG ()"],["\t      !<MAPF ,LIST"],["\t\t     <FUNCTION (\"AUX\" E P O)"],["\t\t\t  <COND (<EMPTY? .A> <MAPSTOP>)"],["\t\t\t\t(<SET E <NTH .A 1>>"],["\t\t\t\t <SET A <REST .A>>)>"],["\t\t\t  <COND (<TYPE? .E ATOM>"],["\t\t\t\t <COND (<OR <=? <SET P <SPNAME .E>>"],["\t\t\t\t\t\t",["Str","\"CRLF\""],">"],["\t\t\t\t\t    <=? .P ",["Str","\"CR\""],">>"],["\t\t\t\t\t<MAPRET '<CRLF>>)"],["\t\t\t\t       (<EMPTY? .A>"],["\t\t\t\t\t<ERROR INDICATOR-AT-END? .E>)"],["\t\t\t\t       (ELSE"],["\t\t\t\t\t<SET O <NTH .A 1>>"],["\t\t\t\t\t<SET A <REST .A>>"],["\t\t\t\t\t<COND (<OR <=? <SET P <SPNAME .E>>"],["\t\t\t\t\t\t       ",["Str","\"DESC\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"D\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"OBJ\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"O\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTD .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"A\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"AN\""],">>"],["\t\t\t\t\t       <MAPRET <FORM ",["Id","PRINTA"]," .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"NUM\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"N\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTN .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"CHAR\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"CHR\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"C\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTC .O>>)"],["\t\t\t\t\t      (ELSE"],["\t\t\t\t\t       <MAPRET"],["\t\t\t\t\t\t <FORM PRINT"],["\t\t\t\t\t\t       <FORM GETP .O .E>>>)>)>)"],["\t\t\t\t(<TYPE? .E STRING ZSTRING>"],["\t\t\t\t <MAPRET <FORM PRINTI .E>>)"],["\t\t\t\t(<TYPE? .E FORM>"],["\t\t\t\t <MAPRET <FORM PRINT .E>>)"],["\t\t\t\t(ELSE <ERROR UNKNOWN-TYPE .E>)>>>>>"],[],["<ROUTINE ",["Iddef","PRINTA"]," (",["Localid","O"],")"],["\t <TELL ",["Str","\"a \""]," D .",["Localid","O"],">>"],[],["<DEFMAC VERB? (\"ARGS\" ATMS)"],["\t<MULTIFROB ",["Id","PRSA"]," .ATMS>>"],[],["<DEFMAC PRSO? (\"ARGS\" ATMS)"],["\t<MULTIFROB ",["Id","PRSO"]," .ATMS>>"],[],["<DEFMAC PRSI? (\"ARGS\" ATMS)"],["\t<MULTIFROB ",["Id","PRSI"]," .ATMS>>"],[],["<DEFMAC ",["Id","ROOM?"]," (\"ARGS\" ATMS)"],["\t<MULTIFROB ",["Id","HERE"]," .ATMS>>"],[],["<DEFINE MULTIFROB (X ATMS \"AUX\" (OO (OR)) (O .OO) (L ()) ATM)"],["\t<REPEAT ()"],["\t\t<COND (<EMPTY? .ATMS>"],["\t\t       <RETURN!- <COND (<LENGTH? .OO 1> <ERROR .X>)"],["\t\t\t\t       (<LENGTH? .OO 2> <NTH .OO 2>)"],["\t\t\t\t       (ELSE <CHTYPE .OO FORM>)>>)>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<EMPTY? .ATMS> <RETURN!->)>"],["\t\t\t<SET ATM <NTH .ATMS 1>>"],["\t\t\t<SET L"],["\t\t\t     (<COND (<TYPE? .ATM ATOM>"],["\t\t\t\t     <FORM GVAL"],["\t\t\t\t\t   <COND (<==? .X ",["Id","PRSA"],">"],["\t\t\t\t\t\t  <PARSE"],["\t\t\t\t\t\t    <STRING ",["Str","\"V?\""]],["\t\t\t\t\t\t\t    <SPNAME .ATM>>>)"],["\t\t\t\t\t\t (ELSE .ATM)>>)"],["\t\t\t\t    (ELSE .ATM)>"],["\t\t\t      !.L)>"],["\t\t\t<SET ATMS <REST .ATMS>>"],["\t\t\t<COND (<==? <LENGTH .L> 3> <RETURN!->)>>"],["\t\t<SET O <REST <PUTREST .O (<FORM EQUAL? <FORM GVAL .X> !.L>)>>>"],["\t\t<SET L ()>>>"],[],["<DEFMAC BSET ('OBJ \"ARGS\" BITS)"],["\t<MULTIBITS FSET .OBJ .BITS>>"],[],["<DEFMAC BCLEAR ('OBJ \"ARGS\" BITS)"],["\t<MULTIBITS FCLEAR .OBJ .BITS>>"],[],["<DEFMAC BSET? ('OBJ \"ARGS\" BITS)"],["\t<MULTIBITS FSET? .OBJ .BITS>>"],[],["<DEFINE MULTIBITS (X OBJ ATMS \"AUX\" (O ()) ATM)"],["\t<REPEAT ()"],["\t\t<COND (<EMPTY? .ATMS>"],["\t\t       <RETURN!- <COND (<LENGTH? .O 1> <NTH .O 1>)"],["\t\t\t\t       (<==? .X FSET?> <FORM OR !.O>)"],["\t\t\t\t       (ELSE <FORM PROG () !.O>)>>)>"],["\t\t<SET ATM <NTH .ATMS 1>>"],["\t\t<SET ATMS <REST .ATMS>>"],["\t\t<SET O"],["\t\t     (<FORM .X"],["\t\t\t    .OBJ"],["\t\t\t    <COND (<TYPE? .ATM FORM> .ATM)"],["\t\t\t\t  (ELSE <FORM GVAL .ATM>)>>"],["\t\t      !.O)>>>"],[],["<DEFMAC RFATAL ()"],["\t'<PROG () <PUSH 2> <RSTACK>>>"],[],["<DEFMAC PROB ('BASE? \"OPTIONAL\" 'LOSER?)"],["\t<COND (<ASSIGNED? LOSER?> <FORM ",["Id","ZPROB"]," .BASE?>)"],["\t      (ELSE <FORM G? .BASE? '<RANDOM 100>>)>>"],[],["<ROUTINE ",["Iddef","ZPROB"]],["\t (",["Localid","BASE"],")"],["\t <COND (,",["Id","LUCKY"]," <G? .",["Localid","BASE"]," <RANDOM 100>>)"],["\t       (ELSE <G? .",["Localid","BASE"]," <RANDOM 300>>)>>"],[],["<ROUTINE ",["Iddef","RANDOM-ELEMENT"]," (",["Localid","FROB"],")"],["\t <GET .",["Localid","FROB"]," <RANDOM <GET .",["Localid","FROB"]," 0>>>>"],[],["<ROUTINE ",["Iddef","PICK-ONE"]," (",["Localid","FROB"]],["\t\t   \"AUX\" (",["Localid","L"]," <GET .",["Localid","FROB"]," 0>) (",["Localid","CNT"]," <GET .",["Localid","FROB"]," 1>) ",["Localid","RND"]," ",["Localid","MSG"]," ",["Localid","RFROB"],")"],["\t <SET ",["Localid","L"]," <- .",["Localid","L"]," 1>>"],["\t <SET ",["Localid","FROB"]," <REST .",["Localid","FROB"]," 2>>"],["\t <SET ",["Localid","RFROB"]," <REST .",["Localid","FROB"]," <* .",["Localid","CNT"]," 2>>>"],["\t <SET ",["Localid","RND"]," <RANDOM <- .",["Localid","L"]," .",["Localid","CNT"],">>>"],["\t <SET ",["Localid","MSG"]," <GET .",["Localid","RFROB"]," .",["Localid","RND"],">>"],["\t <PUT .",["Localid","RFROB"]," .",["Localid","RND"]," <GET .",["Localid","RFROB"]," 1>>"],["\t <PUT .",["Localid","RFROB"]," 1 .",["Localid","MSG"],">"],["\t <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>"],["\t <COND (<==? .",["Localid","CNT"]," .",["Localid","L"],"> <SET ",["Localid","CNT"]," 0>)>"],["\t <PUT .",["Localid","FROB"]," 0 .",["Localid","CNT"],">"],["\t .",["Localid","MSG"],">"],[],["<DEFMAC ENABLE ('",["Id","INT"],") <FORM PUT .",["Id","INT"]," ,",["Id","C-ENABLED?"]," 1>>"],[],["<DEFMAC DISABLE ('",["Id","INT"],") <FORM PUT .",["Id","INT"]," ,",["Id","C-ENABLED?"]," 0>>"],[],["<DEFMAC FLAMING? ('OBJ)"],["\t<FORM AND <FORM FSET? .OBJ ',",["Implid","FLAMEBIT"],">"],["\t          <FORM FSET? .OBJ ',",["Implid","ONBIT"],">>>"],[],["<DEFMAC OPENABLE? ('OBJ)"],["\t<FORM OR <FORM FSET? .OBJ ',",["Implid","DOORBIT"],">"],["\t         <FORM FSET? .OBJ ',",["Implid","CONTBIT"],">>>"],[],["<DEFMAC ABS ('NUM)"],["\t<FORM COND (<FORM L? .NUM 0> <FORM - 0 .NUM>)"],["\t           (T .NUM)>>"]],"gmain.zil":[["\t\t\t",["Str","\"Generic MAIN file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],["<GLOBAL ",["Iddef","PLAYER"]," <>>"],[],["<GLOBAL ",["Iddef","P-WON"]," <>>"],[],["<CONSTANT ",["Iddef","M-FATAL"]," 2>"],[],["<CONSTANT ",["Iddef","M-HANDLED"]," 1>"],[],["<CONSTANT ",["Iddef","M-NOT-HANDLED"]," <>>"],[],["<CONSTANT ",["Iddef","M-OBJECT"]," <>>"],[],["<CONSTANT ",["Iddef","M-BEG"]," 1>"],[],["<CONSTANT ",["Iddef","M-END"]," 6>"],[],["<CONSTANT ",["Iddef","M-ENTER"]," 2>"],[],["<CONSTANT ",["Iddef","M-LOOK"]," 3>"],[],["<CONSTANT ",["Iddef","M-FLASH"]," 4>"],[],["<CONSTANT ",["Iddef","M-OBJDESC"]," 5>"],[],["<GLOBAL ",["Iddef","DEBUG"]," <>>"],[],[["Comment",";\"GO now lives in SPECIAL.ZIL\""]],[],[],["<ROUTINE ",["Iddef","MAIN-LOOP"]," (\"AUX\" ",["Localid","ICNT"]," ",["Localid","OCNT"]," ",["Localid","NUM"]," ",["Localid","CNT"]," ",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Localid","V"]," ",["Localid","PTBL"]," ",["Localid","OBJ1"]," ",["Localid","TMP"],")"],["   <REPEAT ()"],["     <SET ",["Localid","CNT"]," 0>"],["     <SET ",["Localid","OBJ"]," <>>"],["     <SET ",["Localid","PTBL"]," T>"],["     <COND (<SETG ",["Id","P-WON"]," <",["Id","PARSER"],">>"],["\t    <SET ",["Localid","ICNT"]," <GET ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"],">>"],["\t    <SET ",["Localid","NUM"]],["\t\t <COND (<0? <SET ",["Localid","OCNT"]," <GET ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"],">>> .",["Localid","OCNT"],")"],["\t\t       (<G? .",["Localid","OCNT"]," 1>"],["\t\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSO"],">"],["\t\t\t<COND (<0? .",["Localid","ICNT"],"> <SET ",["Localid","OBJ"]," <>>)"],["\t\t\t      (T <SET ",["Localid","OBJ"]," <GET ,",["Id","P-PRSI"]," 1>>)>"],["\t\t\t.",["Localid","OCNT"],")"],["\t\t       (<G? .",["Localid","ICNT"]," 1>"],["\t\t\t<SET ",["Localid","PTBL"]," <>>"],["\t\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSI"],">"],["\t\t\t<SET ",["Localid","OBJ"]," <GET ,",["Id","P-PRSO"]," 1>>"],["\t\t\t.",["Localid","ICNT"],")"],["\t\t       (T 1)>>"],["\t    <COND (<AND <NOT .",["Localid","OBJ"],"> <1? .",["Localid","ICNT"],">> <SET ",["Localid","OBJ"]," <GET ,",["Id","P-PRSI"]," 1>>)>"],["\t    <COND (<==? ,",["Id","PRSA"]," ,V?WALK> <SET ",["Localid","V"]," <",["Id","PERFORM"]," ,",["Id","PRSA"]," ,",["Id","PRSO"],">>)"],["\t\t  (<0? .",["Localid","NUM"],">"],["\t\t   <COND (<0? <BAND <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SBITS"],"> ,",["Id","P-SONUMS"],">>"],["\t\t\t  <SET ",["Localid","V"]," <",["Id","PERFORM"]," ,",["Id","PRSA"],">>"],["\t\t\t  <SETG ",["Id","PRSO"]," <>>)"],["\t\t\t (<NOT ,",["Id","LIT"],">"],["\t\t\t  <TELL ",["Str","\"It's too dark to see.\""]," CR>)"],["\t\t\t (T"],["\t\t\t  <TELL ",["Str","\"It's not clear what you're referring to.\""]," CR>"],["\t\t\t  <SET ",["Localid","V"]," <>>)>)"],["\t\t  (T"],["\t\t   <SETG ",["Id","P-NOT-HERE"]," 0>"],["\t\t   <SETG ",["Id","P-MULT"]," <>>"],["\t\t   <COND (<G? .",["Localid","NUM"]," 1> <SETG ",["Id","P-MULT"]," T>)>"],["\t\t   <SET ",["Localid","TMP"]," <>>"],["\t\t   <REPEAT ()"],["\t\t\t   <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> .",["Localid","NUM"],">"],["\t\t\t\t  <COND (<G? ,",["Id","P-NOT-HERE"]," 0>"],["\t\t\t\t\t <TELL ",["Str","\"The \""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," .",["Localid","NUM"],">>"],["\t\t\t\t\t\t<TELL ",["Str","\"other \""],">)>"],["\t\t\t\t\t <TELL ",["Str","\"object\""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<TELL ",["Str","\"s\""],">)>"],["\t\t\t\t\t <TELL ",["Str","\" that you mentioned \""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<TELL ",["Str","\"are\""],">)"],["\t\t\t\t\t       (T <TELL ",["Str","\"is\""],">)>"],["\t\t\t\t\t <TELL ",["Str","\"n't here.\""]," CR>)"],["\t\t\t\t\t(<NOT .",["Localid","TMP"],">"],["\t\t\t\t\t <TELL"],[["Str","\"There's nothing here to take.\""]," CR>)>"],["\t\t\t\t  <RETURN>)"],["\t\t\t\t (T"],["\t\t\t\t  <COND (.",["Localid","PTBL"]," <SET ",["Localid","OBJ1"]," <GET ,",["Id","P-PRSO"]," .",["Localid","CNT"],">>)"],["\t\t\t\t\t(T <SET ",["Localid","OBJ1"]," <GET ,",["Id","P-PRSI"]," .",["Localid","CNT"],">>)>"],["\t\t\t\t  <SETG ",["Id","PRSO"]," <COND (.",["Localid","PTBL"]," .",["Localid","OBJ1"],") (T .",["Localid","OBJ"],")>>"],["\t\t\t\t  <SETG ",["Id","PRSI"]," <COND (.",["Localid","PTBL"]," .",["Localid","OBJ"],") (T .",["Localid","OBJ1"],")>>"],["\t\t\t\t  <COND (<OR <G? .",["Localid","NUM"]," 1>"],["\t\t\t\t\t     <EQUAL? <GET <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">"],["\t\t\t\t\t\t\t  0>"],["\t\t\t\t\t\t     ,W?ALL>>"],["\t\t\t\t\t <SET ",["Localid","V"]," <LOC ,",["Id","WINNER"],">>"],["\t\t\t\t\t <COND (<EQUAL? .",["Localid","OBJ1"]],["\t\t\t\t\t\t\t,",["Id","NOT-HERE-OBJECT"],">"],["\t\t\t\t\t\t<SETG ",["Id","P-NOT-HERE"]],["\t\t\t\t\t\t      <+ ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (<AND <VERB? TAKE>"],["\t\t\t\t\t\t     ,",["Id","PRSI"]],["\t\t\t\t\t\t     <EQUAL? <GET <GET ,",["Id","P-ITBL"]],["\t\t\t\t\t\t\t\t       ,",["Id","P-NC1"],">"],["\t\t\t\t\t\t\t\t  0>"],["\t\t\t\t\t\t\t     ,W?ALL>"],["\t\t\t\t\t\t     <NOT <IN? ,",["Id","PRSO"]," ,",["Id","PRSI"],">>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (<AND <EQUAL? ,",["Id","P-GETFLAGS"]],["\t\t\t\t\t\t\t     ,",["Id","P-ALL"],">"],["\t\t\t\t\t\t     <VERB? TAKE>"],["\t\t\t\t\t\t     <OR <AND <NOT <EQUAL?"],["\t\t\t\t\t\t\t       <LOC .",["Localid","OBJ1"],">"],["\t\t\t\t\t\t\t       ,",["Id","WINNER"]],["\t\t\t\t\t\t\t       .",["Localid","V"],">>"],["\t\t\t\t\t\t\t      <NOT <FSET?"],["\t\t\t\t\t\t\t\t  <LOC .",["Localid","OBJ1"],">"],["\t\t\t\t\t\t\t\t ,",["Implid","SURFACEBIT"],">>>"],["\t\t\t\t\t\t\t <NOT <OR <FSET? .",["Localid","OBJ1"]],["\t\t\t\t\t\t\t              ,",["Implid","TAKEBIT"],">"],["\t\t\t\t\t\t\t          <FSET? .",["Localid","OBJ1"]],["\t\t\t\t\t\t\t       ,",["Implid","TRYTAKEBIT"],">>>>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (T"],["\t\t\t\t\t\t<COND (<EQUAL? .",["Localid","OBJ1"]," ,",["Id","IT"],">"],["\t\t\t\t\t\t       <PRINTD ,",["Id","P-IT-OBJECT"],">)"],["\t\t\t\t\t\t      (T <PRINTD .",["Localid","OBJ1"],">)>"],["\t\t\t\t\t\t<TELL ",["Str","\": \""],">)>)>"],["\t\t\t\t  <SET ",["Localid","TMP"]," T>"],["\t\t\t\t  <SET ",["Localid","V"]," <",["Id","PERFORM"]," ,",["Id","PRSA"]," ,",["Id","PRSO"]," ,",["Id","PRSI"],">>"],["\t\t\t\t  <COND (<==? .",["Localid","V"]," ,",["Id","M-FATAL"],"> <RETURN>)>)>>)>"],["\t    <COND (<NOT <==? .",["Localid","V"]," ,",["Id","M-FATAL"],">>"],["\t\t   ",["Comment",";<COND (<==? <LOC ,WINNER> ,PRSO>"]],[["Comment","\t\t\t  <SETG PRSO <>>)>"]],["\t\t   <SET ",["Localid","V"]," <APPLY <GETP <LOC ,",["Id","WINNER"],"> ,",["Implid","P?ACTION"],"> ,",["Id","M-END"],">>)>"],["\t    <COND (<VERB? AGAIN WALK SAVE RESTORE ",["Id","SCORE"]," VERSION ",["Comment",";WAIT"],"> T)"],["\t\t  (T"],["\t\t   <SETG ",["Id","L-PRSA"]," ,",["Id","PRSA"],">"],["\t\t   <SETG ",["Id","L-PRSO"]," ,",["Id","PRSO"],">"],["\t\t   <SETG ",["Id","L-PRSI"]," ,",["Id","PRSI"],">)>"],["\t    <COND (<==? .",["Localid","V"]," ,",["Id","M-FATAL"],"> <SETG ",["Id","P-CONT"]," <>>)>)"],["\t   (T"],["\t    <SETG ",["Id","P-CONT"]," <>>)>"],["     <COND (,",["Id","P-WON"]],["\t    <COND (<VERB? TELL BRIEF ",["Id","SUPER-BRIEF"]," ",["Id","VERBOSE"]," SAVE VERSION"],["\t\t\t  QUIT RESTART ",["Id","SCORE"]," SCRIPT UNSCRIPT RESTORE> T)"],["\t\t  (T <SET ",["Localid","V"]," <",["Id","CLOCKER"],">>)>)>>>"],[],["<GLOBAL ",["Iddef","L-PRSA"]," <>>"],[],["<GLOBAL ",["Iddef","L-PRSO"]," <>>"],[],["<GLOBAL ",["Iddef","L-PRSI"]," <>>"],[],["<GLOBAL ",["Iddef","P-MULT"]," <>>"],[],["<GLOBAL ",["Iddef","P-NOT-HERE"]," 0>"],[],[],[],["%<COND (<GASSIGNED? PREDGEN>"],[],["'<ROUTINE ",["Iddef","PERFORM"]," (",["Localid","A"]," \"OPTIONAL\" (",["Localid","O"]," <>) (",["Localid","I"]," <>) \"AUX\" ",["Localid","V"]," ",["Localid","OA"]," ",["Localid","OO"]," ",["Localid","OI"],")"],["\t<COND (,",["Id","DEBUG"]],["\t       <TELL ",["Str","\"[Perform: \""],">"],["\t       %<COND (<GASSIGNED? PREDGEN> '<TELL N .",["Localid","A"],">)"],["\t\t      ",["Ifndef","(T '<PRINC <NTH ,ACTIONS <+ <* .A 2> 1>>>)"],">"],["\t       <COND (<AND .",["Localid","O"]," <NOT <==? .",["Localid","A"]," ,V?WALK>>>"],["\t\t      <TELL ",["Str","\"/\""]," D .",["Localid","O"],">)>"],["\t       <COND (.",["Localid","I"]," <TELL ",["Str","\"/\""]," D .",["Localid","I"],">)>"],["\t       <TELL ",["Str","\"]\""]," CR>)>"],["\t<SET ",["Localid","OA"]," ,",["Id","PRSA"],">"],["\t<SET ",["Localid","OO"]," ,",["Id","PRSO"],">"],["\t<SET ",["Localid","OI"]," ,",["Id","PRSI"],">"],["\t<COND (<AND <EQUAL? ,",["Id","IT"]," .",["Localid","I"]," .",["Localid","O"],">"],["\t\t    <NOT <EQUAL? ,",["Id","P-IT-LOC"]," ,",["Id","HERE"],">>>"],["\t       <TELL ",["Str","\"I don't see what you are referring to.\""]," CR>"],["\t       <RFATAL>)>"],["\t<COND (<==? .",["Localid","O"]," ,",["Id","IT"],"> <SET ",["Localid","O"]," ,",["Id","P-IT-OBJECT"],">)>"],["\t<COND (<==? .",["Localid","I"]," ,",["Id","IT"],"> <SET ",["Localid","I"]," ,",["Id","P-IT-OBJECT"],">)>"],["\t<SETG ",["Id","PRSA"]," .",["Localid","A"],">"],["\t<SETG ",["Id","PRSO"]," .",["Localid","O"],">"],["\t<COND (<AND ,",["Id","PRSO"]," <NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","IT"],">> <NOT <VERB? WALK>>>"],["\t       <SETG ",["Id","P-IT-OBJECT"]," ,",["Id","PRSO"],">"],["\t       <SETG ",["Id","P-IT-LOC"]," ,",["Id","HERE"],">)>"],["\t<SETG ",["Id","PRSI"]," .",["Localid","I"],">"],["\t<COND (<AND <EQUAL? ,",["Id","NOT-HERE-OBJECT"]," ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t    <SET ",["Localid","V"]," <",["Id","NOT-HERE-OBJECT-F"],">>> .",["Localid","V"],")"],["\t      (T"],["\t       <SET ",["Localid","O"]," ,",["Id","PRSO"],">"],["\t       <SET ",["Localid","I"]," ,",["Id","PRSI"],">"],["\t       <COND"],["\t\t(<SET ",["Localid","V"]," <APPLY <GETP ,",["Id","WINNER"]," ,",["Implid","P?ACTION"],">>> .",["Localid","V"],")"],["\t\t(<SET ",["Localid","V"]," <APPLY <GETP <LOC ,",["Id","WINNER"],"> ,",["Implid","P?ACTION"],"> ,",["Id","M-BEG"],">> .",["Localid","V"],")"],["\t\t(<SET ",["Localid","V"]," <APPLY <GET ,",["Id","PREACTIONS"]," .",["Localid","A"],">>> .",["Localid","V"],")"],["\t\t(<AND .",["Localid","I"]," <SET ",["Localid","V"]," <APPLY <GETP .",["Localid","I"]," ,",["Implid","P?ACTION"],">>>> .",["Localid","V"],")"],["\t\t(<AND .",["Localid","O"]],["\t\t      <NOT <==? .",["Localid","A"]," ,V?WALK>>"],["\t\t      <LOC .",["Localid","O"],">"],["\t\t      <SET ",["Localid","V"]," <APPLY <GETP <LOC .",["Localid","O"],"> ,",["Implid","P?CONTFCN"],">>>>"],["\t\t .",["Localid","V"],")"],["\t\t(<AND .",["Localid","O"]],["\t\t      <NOT <==? .",["Localid","A"]," ,V?WALK>>"],["\t\t      <SET ",["Localid","V"]," <APPLY <GETP .",["Localid","O"]," ,",["Implid","P?ACTION"],">>>>"],["\t\t .",["Localid","V"],")"],["\t\t(<SET ",["Localid","V"]," <APPLY <GET ,",["Id","ACTIONS"]," .",["Localid","A"],">>> .",["Localid","V"],")>)>"],["\t<SETG ",["Id","PRSA"]," .",["Localid","OA"],">"],["\t<SETG ",["Id","PRSO"]," .",["Localid","OO"],">"],["\t<SETG ",["Id","PRSI"]," .",["Localid","OI"],">"],["\t.",["Localid","V"],">)"],["       ",["Ifndef","(T"]],[],[["Ifndef","'<PROG ()"]],[],[["Ifndef","<SETG DEBUG <>>"]],[],[["Ifndef","<ROUTINE PERFORM (A \"OPTIONAL\" (O <>) (I <>) \"AUX\" V OA OO OI)"]],[["Ifndef","\t#DECL ((A) FIX (O) <OR FALSE OBJECT FIX> (I) <OR FALSE OBJECT> (V) ANY)"]],[["Ifndef","\t<COND (,DEBUG"]],[["Ifndef","\t       <TELL \"** PERFORM: PRSA = \">"]],[["Ifndef","\t       <PRINC <NTH ,ACTIONS <+ <* .A 2> 1>>>"]],[["Ifndef","\t       <COND (<AND .O <NOT <==? .A ,V?WALK>>>"]],[["Ifndef","\t\t      <TELL \" | PRSO = \" D .O>)>"]],[["Ifndef","\t       <COND (.I <TELL \" | PRSI = \" D .I>)>)>"]],[["Ifndef","\t<SET OA ,PRSA>"]],[["Ifndef","\t<SET OO ,PRSO>"]],[["Ifndef","\t<SET OI ,PRSI>"]],[["Ifndef","\t<COND (<AND <EQUAL? ,IT .I .O>"]],[["Ifndef","\t\t    <NOT <EQUAL? ,P-IT-LOC ,HERE>>>"]],[["Ifndef","\t       <TELL \"I don't see what you are referring to.\" CR>"]],[["Ifndef","\t       <RFATAL>)>"]],[["Ifndef","\t<COND (<==? .O ,IT> <SET O ,P-IT-OBJECT>)>"]],[["Ifndef","\t<COND (<==? .I ,IT> <SET I ,P-IT-OBJECT>)>"]],[["Ifndef","\t<SETG PRSA .A>"]],[["Ifndef","\t<SETG PRSO .O>"]],[["Ifndef","\t<COND (<AND ,PRSO <NOT <VERB? WALK>>>"]],[["Ifndef","\t       <SETG P-IT-OBJECT ,PRSO>"]],[["Ifndef","\t       <SETG P-IT-LOC ,HERE>)>"]],[["Ifndef","\t<SETG PRSI .I>"]],[["Ifndef","\t<COND (<AND <EQUAL? ,NOT-HERE-OBJECT ,PRSO ,PRSI>"]],[["Ifndef","\t\t    <SET V <D-APPLY \"Not Here\" ,NOT-HERE-OBJECT-F>>> .V)"]],[["Ifndef","\t      (T"]],[["Ifndef","\t       <SET O ,PRSO>"]],[["Ifndef","\t       <SET I ,PRSI>"]],[["Ifndef","\t       <COND (<SET V <DD-APPLY \"Actor\" ,WINNER"]],[["Ifndef","\t\t\t\t      <GETP ,WINNER ,P?ACTION>>> .V)"]],[["Ifndef","\t\t     (<SET V <D-APPLY \"Room (M-BEG)\""]],[["Ifndef","\t\t\t\t      <GETP <LOC ,WINNER> ,P?ACTION>"]],[["Ifndef","\t\t\t\t      ,M-BEG>> .V)"]],[["Ifndef","\t\t     (<SET V <D-APPLY \"Preaction\""]],[["Ifndef","\t\t\t\t      <GET ,PREACTIONS .A>>> .V)"]],[["Ifndef","\t\t     (<AND .I <SET V <D-APPLY \"PRSI\""]],[["Ifndef","\t\t\t\t\t      <GETP .I ,P?ACTION>>>> .V)"]],[["Ifndef","\t\t     (<AND .O"]],[["Ifndef","\t\t\t   <NOT <==? .A ,V?WALK>>"]],[["Ifndef","\t\t\t   <LOC .O>"]],[["Ifndef","\t\t\t   <GETP <LOC .O> ,P?CONTFCN>"]],[["Ifndef","\t\t\t   <SET V <DD-APPLY \"Container\" <LOC .O>"]],[["Ifndef","\t\t\t\t\t   <GETP <LOC .O> ,P?CONTFCN>>>>"]],[["Ifndef","\t\t      .V)"]],[["Ifndef","\t\t     (<AND .O"]],[["Ifndef","\t\t\t   <NOT <==? .A ,V?WALK>>"]],[["Ifndef","\t\t\t   <SET V <D-APPLY \"PRSO\""]],[["Ifndef","\t\t\t\t\t   <GETP .O ,P?ACTION>>>>"]],[["Ifndef","\t\t      .V)"]],[["Ifndef","\t\t     (<SET V <D-APPLY <>"]],[["Ifndef","\t\t\t\t      <GET ,ACTIONS .A>>> .V)>)>"]],[["Ifndef","\t<SETG PRSA .OA>"]],[["Ifndef","\t<SETG PRSO .OO>"]],[["Ifndef","\t<SETG PRSI .OI>"]],[["Ifndef","\t.V>"]],[],[["Ifndef","<DEFINE D-APPLY (STR FCN \"OPTIONAL\" FOO \"AUX\" RES)"]],[["Ifndef","\t<COND (<NOT .FCN> <>)"]],[["Ifndef","\t      (T"]],[["Ifndef","\t       <COND (,DEBUG"]],[["Ifndef","\t\t      <COND (<NOT .STR>"]],[["Ifndef","\t\t\t     <TELL CR \"  Default ->\" CR>)"]],[["Ifndef","\t\t\t    (T <TELL CR \"  \" .STR \" -> \">)>)>"]],[["Ifndef","\t       <SET RES"]],[["Ifndef","\t\t    <COND (<ASSIGNED? FOO>"]],[["Ifndef","\t\t\t   <APPLY .FCN .FOO>)"]],[["Ifndef","\t\t\t  (T <APPLY .FCN>)>>"]],[["Ifndef","\t       <COND (<AND ,DEBUG .STR>"]],[["Ifndef","\t\t      <COND (<==? .RES 2>"]],[["Ifndef","\t\t\t     <TELL \"Fatal\" CR>)"]],[["Ifndef","\t\t\t    (<NOT .RES>"]],[["Ifndef","\t\t\t     <TELL \"Not handled\">)"]],[["Ifndef","\t\t\t    (T <TELL \"Handled\" CR>)>)>"]],[["Ifndef","\t       .RES)>>"]],[],[["Ifndef","<ROUTINE DD-APPLY (STR OBJ FCN \"OPTIONAL\" (FOO <>))"]],[["Ifndef","\t<COND (,DEBUG <TELL \"[\" D .OBJ \"=]\">)>"]],[["Ifndef","\t<D-APPLY .STR .FCN .FOO>>"]],[["Ifndef",">)"],">"],[]],"gparser.zil":[["\t\t\t",["Str","\"Generic PARSER file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],[["Str","\"WHICH and TRAP retrofixes installed\""]],[],[["Str","\"Parser global variable convention:  All parser globals will"]],[["Str","  begin with 'P-'.  Local variables are not restricted in any"]],[["Str","  way."]],[["Str","\""]],[],["<SETG ",["Iddef","SIBREAKS"]," ",["Str","\".,\\\"\""],">"],[],["<GLOBAL ",["Iddef","GWIM-DISABLE"]," <>>"],[],["<GLOBAL ",["Iddef","PRSA"]," <>>"],[],["<GLOBAL ",["Iddef","PRSI"]," <>>"],[],["<GLOBAL ",["Iddef","PRSO"]," <>>"],[],["<GLOBAL ",["Iddef","P-TABLE"]," 0>"],[],["<GLOBAL ",["Iddef","P-ONEOBJ"]," 0>"],[],["<GLOBAL ",["Iddef","P-SYNTAX"]," 0>"],[],["<GLOBAL ",["Iddef","P-CCSRC"]," 0>"],[],["<GLOBAL ",["Iddef","P-LEN"]," 0>"],[],["<GLOBAL ",["Iddef","P-DIR"]," 0>"],[],["<GLOBAL ",["Iddef","HERE"]," 0>"],[],["<GLOBAL ",["Iddef","WINNER"]," 0>"],[],["<GLOBAL ",["Iddef","P-LEXV"]," <ITABLE BYTE 120>>"],[["Comment",";\"INBUF - Input buffer for READ\""]],[],["<GLOBAL ",["Iddef","P-INBUF"]," <ITABLE BYTE 100>>"],[["Comment",";\"Parse-cont variable\""]],[],["<GLOBAL ",["Iddef","P-CONT"]," <>>"],[],["<GLOBAL ",["Iddef","P-IT-OBJECT"]," <>>"],["<GLOBAL ",["Iddef","P-IT-LOC"]," <>>"],[],[["Comment",";\"Orphan flag\""]],[],["<GLOBAL ",["Iddef","P-OFLAG"]," <>>"],[],["<GLOBAL ",["Iddef","P-MERGED"]," <>>"],[],["<GLOBAL ",["Iddef","P-ACLAUSE"]," <>>"],[],["<GLOBAL ",["Iddef","P-ANAM"]," <>>"],[],["<GLOBAL ",["Iddef","P-AADJ"]," <>>"],[["Comment",";\"Parser variables and temporaries\""]],[],["<CONSTANT ",["Iddef","P-PHRLEN"]," 3>"],[],["<CONSTANT ",["Iddef","P-ORPHLEN"]," 7>"],[],["<CONSTANT ",["Iddef","P-RTLEN"]," 3>"],[["Comment",";\"Byte offset to # of entries in LEXV\""]],[],["<CONSTANT ",["Iddef","P-LEXWORDS"]," 1>"],[["Comment",";\"Word offset to start of LEXV entries\""]],[],["<CONSTANT ",["Iddef","P-LEXSTART"]," 1>"],[["Comment",";\"Number of words per LEXV entry\""]],[],["<CONSTANT ",["Iddef","P-LEXELEN"]," 2>"],[],["<CONSTANT ",["Iddef","P-WORDLEN"]," 4>"],[["Comment",";\"Offset to parts of speech byte\""]],[],["<CONSTANT ",["Iddef","P-PSOFF"]," 4>"],[["Comment",";\"Offset to first part of speech\""]],[],["<CONSTANT ",["Iddef","P-P1OFF"]," 5>"],[["Comment",";\"First part of speech bit mask in PSOFF byte\""]],[],["<CONSTANT ",["Iddef","P-P1BITS"]," 3>"],[],["<CONSTANT ",["Iddef","P-ITBLLEN"]," 9>"],[],["<GLOBAL ",["Iddef","P-ITBL"]," <TABLE 0 0 0 0 0 0 0 0 0 0>>"],[],["<GLOBAL ",["Iddef","P-OTBL"]," <TABLE 0 0 0 0 0 0 0 0 0 0>>"],[],["<GLOBAL ",["Iddef","P-VTBL"]," <TABLE 0 0 0 0>>"],[],["<GLOBAL ",["Iddef","P-NCN"]," 0>"],[],["<CONSTANT ",["Iddef","P-VERB"]," 0>"],[],["<CONSTANT ",["Iddef","P-VERBN"]," 1>"],[],["<CONSTANT ",["Iddef","P-PREP1"]," 2>"],[],["<CONSTANT ",["Iddef","P-PREP1N"]," 3>"],[],["<CONSTANT ",["Iddef","P-PREP2"]," 4>"],[],["<CONSTANT ",["Iddef","P-PREP2N"]," 5>"],[],["<CONSTANT ",["Iddef","P-NC1"]," 6>"],[],["<CONSTANT ",["Iddef","P-NC1L"]," 7>"],[],["<CONSTANT ",["Iddef","P-NC2"]," 8>"],[],["<CONSTANT ",["Iddef","P-NC2L"]," 9>"],[],["<GLOBAL ",["Iddef","QUOTE-FLAG"]," <>>"],[],[["Str","\" Grovel down the input finding the verb, prepositions, and noun clauses."]],[["Str","   If the input is <direction> or <walk> <direction>, fall out immediately"]],[["Str","   setting PRSA to ,V?WALK and PRSO to <direction>.  Otherwise, perform"]],[["Str","   all required orphaning, syntax checking, and noun clause lookup.\""]],[],["<ROUTINE ",["Iddef","PARSER"]," (\"AUX\" (",["Localid","PTR"]," ,",["Id","P-LEXSTART"],") ",["Localid","WRD"]," (",["Localid","VAL"]," 0) (",["Localid","VERB"]," <>)"],["\t\t       ",["Localid","LEN"]," (",["Localid","DIR"]," <>) (",["Localid","NW"]," 0) (",["Localid","LW"]," 0) ",["Localid","NUM"]," ",["Localid","SCNT"]," (",["Localid","CNT"]," -1))"],["\t<REPEAT ()"],["\t\t<COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> ,",["Id","P-ITBLLEN"],"> <RETURN>)"],["\t\t      (T <PUT ,",["Id","P-ITBL"]," .",["Localid","CNT"]," 0>)>>"],["\t<SETG ",["Id","P-ADVERB"]," <>>"],["\t<SETG ",["Id","P-MERGED"]," <>>"],["\t<PUT ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<PUT ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<PUT ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<COND (<AND <NOT ,",["Id","QUOTE-FLAG"],"> <N==? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t       <SETG ",["Id","WINNER"]," ,",["Id","PLAYER"],">"],["\t       <COND (<NOT <FSET? <LOC ,",["Id","WINNER"],"> ,",["Implid","VEHBIT"],">>"],["\t\t      <SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>)>"],["\t       <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>)>"],["\t<COND (,",["Id","P-CONT"]],["\t       <SET ",["Localid","PTR"]," ,",["Id","P-CONT"],">"],["\t       <COND (<AND <NOT ,",["Id","SUPER-BRIEF"],">"],["\t\t\t   <==? ,",["Id","PLAYER"]," ,",["Id","WINNER"],">"],["\t\t\t   <NOT <VERB? SAY>>>"],["\t\t      <CRLF>)>"],["\t       <SETG ",["Id","P-CONT"]," <>>)"],["\t      (T"],["\t       <SETG ",["Id","WINNER"]," ,",["Id","PLAYER"],">"],["\t       <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t       <COND (<NOT <FSET? <LOC ,",["Id","WINNER"],"> ,",["Implid","VEHBIT"],">>"],["\t\t      <SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>)>"],["\t       <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t       <COND (<NOT ,",["Id","SUPER-BRIEF"],"> <CRLF>)>"],["\t       <TELL ",["Str","\">\""],">"],["\t       <READ ,",["Id","P-INBUF"]," ,",["Id","P-LEXV"],">)>"],["\t<SETG ",["Id","P-LEN"]," <GETB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"],">>"],["\t<COND (<0? ,",["Id","P-LEN"],"> <TELL ",["Str","\"I beg your pardon?\""]," CR> <RFALSE>)>"],["\t<SET ",["Localid","LEN"]," ,",["Id","P-LEN"],">"],["\t<SETG ",["Id","P-DIR"]," <>>"],["\t<SETG ",["Id","P-NCN"]," 0>"],["\t<SETG ",["Id","P-GETFLAGS"]," 0>"],["\t<REPEAT ()"],["\t\t<COND (<L? <SETG ",["Id","P-LEN"]," <- ,",["Id","P-LEN"]," 1>> 0>"],["\t\t       <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t       <RETURN>)"],["\t\t      (<OR <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," .",["Localid","PTR"],">>"],["\t\t\t   <SET ",["Localid","WRD"]," <",["Id","NUMBER?"]," .",["Localid","PTR"],">>>"],["\t\t       <COND (<AND <==? .",["Localid","WRD"]," ,W?TO>"],["\t\t\t\t   <EQUAL? .",["Localid","VERB"]," ,ACT?TELL ",["Comment",";,ACT?ASK"],">>"],["\t\t\t      <SET ",["Localid","WRD"]," ,W?QUOTE>)"],["\t\t\t     (<AND <==? .",["Localid","WRD"]," ,W?THEN>"],["\t\t\t\t   <NOT .",["Localid","VERB"],">"],["\t\t\t\t   <NOT ,",["Id","QUOTE-FLAG"],"> ",["Comment",";\"Last NOT added 7/3\""],">"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERB"]," ,ACT?TELL>"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"]," 0>"],["\t\t\t      <SET ",["Localid","WRD"]," ,W?QUOTE>)>"],["\t\t       <COND (<OR <EQUAL? .",["Localid","WRD"]," ,W?THEN ,W?PERIOD>"],["\t\t\t\t  <EQUAL? .",["Localid","WRD"]," ,W?QUOTE>>"],["\t\t\t      <COND (<EQUAL? .",["Localid","WRD"]," ,W?QUOTE>"],["\t\t\t\t     <COND (,",["Id","QUOTE-FLAG"]],["\t\t\t\t\t    <SETG ",["Id","QUOTE-FLAG"]," <>>)"],["\t\t\t\t\t   (T <SETG ",["Id","QUOTE-FLAG"]," T>)>)>"],["\t\t\t      <OR <0? ,",["Id","P-LEN"],">"],["\t\t\t\t  <SETG ",["Id","P-CONT"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>"],["\t\t\t      <PUTB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"]," ,",["Id","P-LEN"],">"],["\t\t\t      <RETURN>)"],["\t\t\t     (<AND <SET ",["Localid","VAL"]],["\t\t\t\t\t<",["Id","WT?"]," .",["Localid","WRD"]],["\t\t\t\t\t     ,PS?DIRECTION"],["\t\t\t\t\t     ,P1?DIRECTION>>"],["\t\t\t\t   <EQUAL? .",["Localid","VERB"]," <> ,ACT?WALK>"],["\t\t\t\t   <OR <==? .",["Localid","LEN"]," 1>"],["\t\t\t\t       <AND <==? .",["Localid","LEN"]," 2>"],["\t\t\t\t\t    <EQUAL? .",["Localid","VERB"]," ,ACT?WALK>>"],["\t\t\t\t       <AND <EQUAL? <SET ",["Localid","NW"]],["\t\t\t\t\t\t     <GET ,",["Id","P-LEXV"]],["\t\t\t\t\t\t\t  <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>"],["\t\t\t\t\t            ,W?THEN"],["\t\t\t\t\t            ,W?PERIOD"],["\t\t\t\t\t            ,W?QUOTE>"],["\t\t\t\t\t    <NOT <L? .",["Localid","LEN"]," 2>>>"],["\t\t\t\t       <AND ,",["Id","QUOTE-FLAG"]],["\t\t\t\t\t    <==? .",["Localid","LEN"]," 2>"],["\t\t\t\t\t    <EQUAL? .",["Localid","NW"]," ,W?QUOTE>>"],["\t\t\t\t       <AND <G? .",["Localid","LEN"]," 2>"],["\t\t\t\t\t    <EQUAL? .",["Localid","NW"]," ,W?COMMA ,W?AND>>>>"],["\t\t\t      <SET ",["Localid","DIR"]," .",["Localid","VAL"],">"],["\t\t\t      <COND (<EQUAL? .",["Localid","NW"]," ,W?COMMA ,W?AND>"],["\t\t\t\t     <PUT ,",["Id","P-LEXV"]],["\t\t\t\t\t  <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">"],["\t\t\t\t\t  ,W?THEN>)>"],["\t\t\t      <COND (<NOT <G? .",["Localid","LEN"]," 2>>"],["\t\t\t\t     <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t\t\t     <RETURN>)>)"],["\t\t\t     (<AND <SET ",["Localid","VAL"]," <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?VERB ,P1?VERB>>"],["\t\t\t\t   <NOT .",["Localid","VERB"],">>"],["\t\t\t      <SET ",["Localid","VERB"]," .",["Localid","VAL"],">"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERB"]," .",["Localid","VAL"],">"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"]," ,",["Id","P-VTBL"],">"],["\t\t\t      <PUT ,",["Id","P-VTBL"]," 0 .",["Localid","WRD"],">"],["\t\t\t      <PUTB ,",["Id","P-VTBL"]," 2 <GETB ,",["Id","P-LEXV"]],["\t\t\t\t\t\t    <SET ",["Localid","NUM"]],["\t\t\t\t\t\t\t <+ <* .",["Localid","PTR"]," 2> 2>>>>"],["\t\t\t      <PUTB ,",["Id","P-VTBL"]," 3 <GETB ,",["Id","P-LEXV"]," <+ .",["Localid","NUM"]," 1>>>)"],["\t\t\t     (<OR <SET ",["Localid","VAL"]," <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?PREPOSITION 0>>"],["\t\t\t\t  <AND <OR <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE ",["Comment",";,W?A"],">"],["\t\t\t\t\t   <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?ADJECTIVE>"],["\t\t\t\t\t   <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?OBJECT>>"],["\t\t\t\t       <SET ",["Localid","VAL"]," 0>>>"],["\t\t\t      <COND (<AND <G? ,",["Id","P-LEN"]," 0>"],["\t\t\t\t\t  <==? <GET ,",["Id","P-LEXV"]],["\t\t\t\t\t\t    <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>"],["\t\t\t\t\t       ,W?OF>"],["\t\t\t\t\t  <0? .",["Localid","VAL"],">"],["\t\t\t\t\t  <NOT"],["\t\t\t\t\t   <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE ,W?A>>>)"],["\t\t\t\t    (<AND <NOT <0? .",["Localid","VAL"],">>"],["\t\t\t\t          <OR <0? ,",["Id","P-LEN"],">"],["\t\t\t\t\t      <EQUAL? <GET ,",["Id","P-LEXV"]," <+ .",["Localid","PTR"]," 2>>"],["\t\t\t\t\t\t      ,W?THEN ,W?PERIOD>>>"],["\t\t\t\t     <COND (<L? ,",["Id","P-NCN"]," 2>"],["\t\t\t\t\t    <PUT ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"]," .",["Localid","VAL"],">"],["\t\t\t\t\t    <PUT ,",["Id","P-ITBL"]," ,",["Id","P-PREP1N"]," .",["Localid","WRD"],">)>)"],["\t\t\t\t    (<==? ,",["Id","P-NCN"]," 2>"],["\t\t\t\t     <TELL"],[["Str","\"There were too many nouns in that sentence.\""]," CR>"],["\t\t\t\t     <RFALSE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <SETG ",["Id","P-NCN"]," <+ ,",["Id","P-NCN"]," 1>>"],["\t\t\t\t     <OR <SET ",["Localid","PTR"]," <",["Id","CLAUSE"]," .",["Localid","PTR"]," .",["Localid","VAL"]," .",["Localid","WRD"],">>"],["\t\t\t\t\t <RFALSE>>"],["\t\t\t\t     <COND (<L? .",["Localid","PTR"]," 0>"],["\t\t\t\t\t    <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t\t\t\t    <RETURN>)>)>)"],["\t\t\t     (<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?BUZZ-WORD>)"],["\t\t\t     (<AND <EQUAL? .",["Localid","VERB"]," ,ACT?TELL>"],["\t\t\t\t   <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?VERB ,P1?VERB>>"],["\t\t\t      <TELL"],[["Str","\"Please consult your manual for the correct way to talk to other people"]],[["Str","or creatures.\""]," CR>"],["\t\t\t      <RFALSE>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","CANT-USE"]," .",["Localid","PTR"],">"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T"],["\t\t       <",["Id","UNKNOWN-WORD"]," .",["Localid","PTR"],">"],["\t\t       <RFALSE>)>"],["\t\t<SET ",["Localid","LW"]," .",["Localid","WRD"],">"],["\t\t<SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>"],["\t<COND (.",["Localid","DIR"]],["\t       <SETG ",["Id","PRSA"]," ,V?WALK>"],["\t       <SETG ",["Id","PRSO"]," .",["Localid","DIR"],">"],["\t       <SETG ",["Id","P-WALK-DIR"]," .",["Localid","DIR"],">"],["\t       <RETURN T>)>"],["\t<SETG ",["Id","P-WALK-DIR"]," <>>"],["\t<COND (,",["Id","P-OFLAG"]," <",["Id","ORPHAN-MERGE"],">)>"],["\t<COND (<AND <",["Id","SYNTAX-CHECK"],"> <",["Id","SNARF-OBJECTS"],"> <",["Id","MANY-CHECK"],"> <",["Id","TAKE-CHECK"],">>"],["\t       T)>>"],[],[],["<GLOBAL ",["Iddef","P-WALK-DIR"]," <>>"],[],[["Comment",";\"Check whether word pointed at by PTR is the correct part of speech."]],[["Comment","   The second argument is the part of speech (,PS?<part of speech>).  The"]],[["Comment","   3rd argument (,P1?<part of speech>), if given, causes the value"]],[["Comment","   for that part of speech to be returned.\""]],[],["<ROUTINE ",["Iddef","WT?"]," (",["Localid","PTR"]," ",["Localid","BIT"]," \"OPTIONAL\" (",["Localid","B1"]," 5) \"AUX\" (",["Localid","OFFS"]," ,",["Id","P-P1OFF"],") ",["Localid","TYP"],")"],["\t<COND (<BTST <SET ",["Localid","TYP"]," <GETB .",["Localid","PTR"]," ,",["Id","P-PSOFF"],">> .",["Localid","BIT"],">"],["\t       <COND (<G? .",["Localid","B1"]," 4> <RTRUE>)"],["\t\t     (T"],["\t\t      <SET ",["Localid","TYP"]," <BAND .",["Localid","TYP"]," ,",["Id","P-P1BITS"],">>"],["\t\t      <COND (<NOT <==? .",["Localid","TYP"]," .",["Localid","B1"],">> <SET ",["Localid","OFFS"]," <+ .",["Localid","OFFS"]," 1>>)>"],["\t\t      <GETB .",["Localid","PTR"]," .",["Localid","OFFS"],">)>)>>"],[],[["Comment",";\" Scan through a noun clause, leave a pointer to its starting location\""]],[],["<ROUTINE ",["Iddef","CLAUSE"]," (",["Localid","PTR"]," ",["Localid","VAL"]," ",["Localid","WRD"]," \"AUX\" ",["Localid","OFF"]," ",["Localid","NUM"]," (",["Localid","ANDFLG"]," <>) (",["Localid","FIRST??"]," T) ",["Localid","NW"]," (",["Localid","LW"]," 0))"],["\t<SET ",["Localid","OFF"]," <* <- ,",["Id","P-NCN"]," 1> 2>>"],["\t<COND (<NOT <==? .",["Localid","VAL"]," 0>>"],["\t       <PUT ,",["Id","P-ITBL"]," <SET ",["Localid","NUM"]," <+ ,",["Id","P-PREP1"]," .",["Localid","OFF"],">> .",["Localid","VAL"],">"],["\t       <PUT ,",["Id","P-ITBL"]," <+ .",["Localid","NUM"]," 1> .",["Localid","WRD"],">"],["\t       <SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>)"],["\t      (T <SETG ",["Id","P-LEN"]," <+ ,",["Id","P-LEN"]," 1>>)>"],["\t<COND (<0? ,",["Id","P-LEN"],"> <SETG ",["Id","P-NCN"]," <- ,",["Id","P-NCN"]," 1>> <RETURN -1>)>"],["\t<PUT ,",["Id","P-ITBL"]," <SET ",["Localid","NUM"]," <+ ,",["Id","P-NC1"]," .",["Localid","OFF"],">> <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>>>"],["\t<COND (<EQUAL? <GET ,",["Id","P-LEXV"]," .",["Localid","PTR"],"> ,W?THE ,W?A ,W?AN>"],["\t       <PUT ,",["Id","P-ITBL"]," .",["Localid","NUM"]," <REST <GET ,",["Id","P-ITBL"]," .",["Localid","NUM"],"> 4>>)>"],["\t<REPEAT ()"],["\t\t<COND (<L? <SETG ",["Id","P-LEN"]," <- ,",["Id","P-LEN"]," 1>> 0>"],["\t\t       <PUT ,",["Id","P-ITBL"]," <+ .",["Localid","NUM"]," 1> <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>>>"],["\t\t       <RETURN -1>)>"],["\t\t<COND (<OR <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," .",["Localid","PTR"],">>"],["\t\t\t   <SET ",["Localid","WRD"]," <",["Id","NUMBER?"]," .",["Localid","PTR"],">>>"],["\t\t       <COND (<0? ,",["Id","P-LEN"],"> <SET ",["Localid","NW"]," 0>)"],["\t\t\t     (T <SET ",["Localid","NW"]," <GET ,",["Id","P-LEXV"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>)>"],["\t\t       <COND (<EQUAL? .",["Localid","WRD"]," ,W?AND ,W?COMMA> <SET ",["Localid","ANDFLG"]," T>)"],["\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE>"],["\t\t\t      <COND (<==? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t     <SETG ",["Id","P-LEN"]," <- ,",["Id","P-LEN"]," 1>>"],["\t\t\t\t     <SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>)>)"],["\t\t\t     (<OR <EQUAL? .",["Localid","WRD"]," ,W?THEN ,W?PERIOD>"],["\t\t\t\t  <AND <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?PREPOSITION>"],["\t\t\t\t       <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],">"],["\t\t\t\t          ",["Comment",";\"ADDED 4/27 FOR TURTLE,UP\""]],["\t\t\t\t       <NOT .",["Localid","FIRST??"],">>>"],["\t\t\t      <SETG ",["Id","P-LEN"]," <+ ,",["Id","P-LEN"]," 1>>"],["\t\t\t      <PUT ,",["Id","P-ITBL"]],["\t\t\t\t   <+ .",["Localid","NUM"]," 1>"],["\t\t\t\t   <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>>>"],["\t\t\t      <RETURN <- .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>)"],["\t\t\t     (<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?OBJECT>"],["\t\t\t      <COND (<AND <G? ,",["Id","P-LEN"]," 0>"],["\t\t\t\t\t  <EQUAL? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t\t  <NOT <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE>>>"],["\t\t\t\t     T)"],["\t\t\t\t    (<AND <",["Id","WT?"]," .",["Localid","WRD"]],["\t\t\t\t\t       ,PS?ADJECTIVE"],["\t\t\t\t\t       ,P1?ADJECTIVE>"],["\t\t\t\t\t  <NOT <==? .",["Localid","NW"]," 0>>"],["\t\t\t\t\t  <",["Id","WT?"]," .",["Localid","NW"]," ,PS?OBJECT>>)"],["\t\t\t\t    (<AND <NOT .",["Localid","ANDFLG"],">"],["\t\t\t\t\t  <NOT <EQUAL? .",["Localid","NW"]," ,W?BUT ,W?EXCEPT>>"],["\t\t\t\t\t  <NOT <EQUAL? .",["Localid","NW"]," ,W?AND ,W?COMMA>>>"],["\t\t\t\t     <PUT ,",["Id","P-ITBL"]],["\t\t\t\t\t  <+ .",["Localid","NUM"]," 1>"],["\t\t\t\t\t  <REST ,",["Id","P-LEXV"]," <* <+ .",["Localid","PTR"]," 2> 2>>>"],["\t\t\t\t     <RETURN .",["Localid","PTR"],">)"],["\t\t\t\t    (T <SET ",["Localid","ANDFLG"]," <>>)>)"],["\t\t\t     (<AND <OR ,",["Id","P-MERGED"]],["\t\t\t\t       ,",["Id","P-OFLAG"]],["\t\t\t\t       <NOT <EQUAL? <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],"> 0>>>"],["\t\t\t\t   <OR <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?ADJECTIVE>"],["\t\t\t\t       <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?BUZZ-WORD>>>)"],["\t\t\t     (<AND .",["Localid","ANDFLG"]],["\t\t\t\t   <OR <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?DIRECTION>"],["\t\t\t\t       <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?VERB>>>"],["\t\t\t      <SET ",["Localid","PTR"]," <- .",["Localid","PTR"]," 4>>"],["\t\t\t      <PUT ,",["Id","P-LEXV"]," <+ .",["Localid","PTR"]," 2> ,W?THEN>"],["\t\t\t      <SETG ",["Id","P-LEN"]," <+ ,",["Id","P-LEN"]," 2>>)"],["\t\t\t     (<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?PREPOSITION> T)"],["\t\t\t     (T"],["\t\t\t      <",["Id","CANT-USE"]," .",["Localid","PTR"],">"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T <",["Id","UNKNOWN-WORD"]," .",["Localid","PTR"],"> <RFALSE>)>"],["\t\t<SET ",["Localid","LW"]," .",["Localid","WRD"],">"],["\t\t<SET ",["Localid","FIRST??"]," <>>"],["\t\t<SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>>"],[],["<ROUTINE ",["Iddef","NUMBER?"]," (",["Localid","PTR"]," \"AUX\" ",["Localid","CNT"]," ",["Localid","BPTR"]," ",["Localid","CHR"]," (",["Localid","SUM"]," 0) (",["Localid","TIM"]," <>))"],["\t <SET ",["Localid","CNT"]," <GETB <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>> 2>>"],["\t <SET ",["Localid","BPTR"]," <GETB <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>> 3>>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","CNT"]," <- .",["Localid","CNT"]," 1>> 0> <RETURN>)"],["\t\t       (T"],["\t\t\t<SET ",["Localid","CHR"]," <GETB ,",["Id","P-INBUF"]," .",["Localid","BPTR"],">>"],["\t\t\t<COND (<==? .",["Localid","CHR"]," 58>"],["\t\t\t       <SET ",["Localid","TIM"]," .",["Localid","SUM"],">"],["\t\t\t       <SET ",["Localid","SUM"]," 0>)"],["\t\t\t      (<G? .",["Localid","SUM"]," 10000> <RFALSE>)"],["\t\t\t      (<AND <L? .",["Localid","CHR"]," 58> <G? .",["Localid","CHR"]," 47>>"],["\t\t\t       <SET ",["Localid","SUM"]," <+ <* .",["Localid","SUM"]," 10> <- .",["Localid","CHR"]," 48>>>)"],["\t\t\t      (T <RFALSE>)>"],["\t\t\t<SET ",["Localid","BPTR"]," <+ .",["Localid","BPTR"]," 1>>)>>"],["\t <PUT ,",["Id","P-LEXV"]," .",["Localid","PTR"]," ,W?INTNUM>"],["\t <COND (<G? .",["Localid","SUM"]," 1000> <RFALSE>)"],["\t       (.",["Localid","TIM"]],["\t\t<COND (<L? .",["Localid","TIM"]," 8> <SET ",["Localid","TIM"]," <+ .",["Localid","TIM"]," 12>>)"],["\t\t      (<G? .",["Localid","TIM"]," 23> <RFALSE>)>"],["\t\t<SET ",["Localid","SUM"]," <+ .",["Localid","SUM"]," <* .",["Localid","TIM"]," 60>>>)>"],["\t <SETG ",["Id","P-NUMBER"]," .",["Localid","SUM"],">"],["\t ,W?INTNUM>"],[],["<GLOBAL ",["Iddef","P-NUMBER"]," 0>"],["<GLOBAL ",["Iddef","P-DIRECTION"]," 0>"],[],[],[["Comment",";\"New ORPHAN-MERGE for TRAP Retrofix 6/21/84\""]],[],["<ROUTINE ",["Iddef","ORPHAN-MERGE"]," (\"AUX\" (",["Localid","CNT"]," -1) ",["Localid","TEMP"]," ",["Localid","VERB"]," ",["Localid","BEG"]," ",["Localid","END"]," (",["Localid","ADJ"]," <>) ",["Localid","WRD"],")"],["   <SETG ",["Id","P-OFLAG"]," <>>"],["   <COND (<",["Id","WT?"]," <GET <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"],"> 0> ,PS?ADJECTIVE ,P1?ADJECTIVE>"],["\t  <SET ",["Localid","ADJ"]," T>)>"],["   <COND (<AND <NOT <0? <SET ",["Localid","VERB"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],">>>>"],["\t       <NOT .",["Localid","ADJ"],">"],["\t       <NOT <==? .",["Localid","VERB"]," <GET ,",["Id","P-OTBL"]," ,",["Id","P-VERB"],">>>>"],["\t  <RFALSE>)"],["\t (<==? ,",["Id","P-NCN"]," 2> <RFALSE>)"],["\t (<==? <GET ,",["Id","P-OTBL"]," ,",["Id","P-NC1"],"> 1>"],["\t  <COND (<OR <==? <SET ",["Localid","TEMP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>"],["\t\t\t  <GET ,",["Id","P-OTBL"]," ,",["Id","P-PREP1"],">>"],["\t\t     <0? .",["Localid","TEMP"],">>"],["\t\t <COND (.",["Localid","ADJ"]],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1"]," <REST ,",["Id","P-LEXV"]," 2>>"],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1L"]," <REST ,",["Id","P-LEXV"]," 6>>)"],["\t\t       (T"],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">>"],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1L"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],">>)>)"],["\t\t(T <RFALSE>)>)"],["\t (<==? <GET ,",["Id","P-OTBL"]," ,",["Id","P-NC2"],"> 1>"],["\t  <COND (<OR <==? <SET ",["Localid","TEMP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>"],["\t\t\t  <GET ,",["Id","P-OTBL"]," ,",["Id","P-PREP2"],">>"],["\t\t     <0? .",["Localid","TEMP"],">>"],["\t\t <COND (.",["Localid","ADJ"]],["\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1"]," <REST ,",["Id","P-LEXV"]," 2>>"],["\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"]," <REST ,",["Id","P-LEXV"]," 6>>)>"],["\t\t <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC2"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">>"],["\t\t <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC2L"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],">>"],["\t\t <SETG ",["Id","P-NCN"]," 2>)"],["\t\t(T <RFALSE>)>)"],["\t (<NOT <ZERO? ,",["Id","P-ACLAUSE"],">>"],["\t  <COND (<AND <NOT <==? ,",["Id","P-NCN"]," 1>> <NOT .",["Localid","ADJ"],">>"],["\t\t <SETG ",["Id","P-ACLAUSE"]," <>>"],["\t\t <RFALSE>)"],["\t\t(T"],["\t\t <SET ",["Localid","BEG"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">>"],["\t\t <COND (.",["Localid","ADJ"]," <SET ",["Localid","BEG"]," <REST ,",["Id","P-LEXV"]," 2>> <SET ",["Localid","ADJ"]," <>>)>"],["\t\t <SET ",["Localid","END"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],">>"],["\t\t <REPEAT ()"],["\t\t\t <SET ",["Localid","WRD"]," <GET .",["Localid","BEG"]," 0>>"],["\t\t\t <COND (<==? .",["Localid","BEG"]," .",["Localid","END"],">"],["\t\t\t\t<COND (.",["Localid","ADJ"]," <",["Id","ACLAUSE-WIN"]," .",["Localid","ADJ"],"> <RETURN>)"],["\t\t\t\t      (T <SETG ",["Id","P-ACLAUSE"]," <>> <RFALSE>)>)"],["\t\t\t       (<AND <NOT .",["Localid","ADJ"],">"],["\t\t\t\t     <OR <BTST <GETB .",["Localid","WRD"]," ,",["Id","P-PSOFF"],">"],["\t\t\t\t\t       ,PS?ADJECTIVE>"],["\t\t\t\t\t <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE>>>"],["\t\t\t\t<SET ",["Localid","ADJ"]," .",["Localid","WRD"],">)"],["\t\t\t       (<OR <BTST <GETB .",["Localid","WRD"]," ,",["Id","P-PSOFF"],"> ,PS?OBJECT>"],["\t\t\t\t    <==? .",["Localid","WRD"]," ,W?ONE>>"],["\t\t\t\t<COND (<NOT <EQUAL? .",["Localid","WRD"]," ,",["Id","P-ANAM"]," ,W?ONE>>"],["\t\t\t\t       <RFALSE>)"],["\t\t\t\t      (T <",["Id","ACLAUSE-WIN"]," .",["Localid","ADJ"],"> <RETURN>)>)>"],["\t\t\t <SET ",["Localid","BEG"]," <REST .",["Localid","BEG"]," ,",["Id","P-WORDLEN"],">>"],["\t\t\t <COND (<EQUAL? .",["Localid","END"]," 0>"],["\t\t\t\t<SET ",["Localid","END"]," .",["Localid","BEG"],">"],["\t\t\t\t<SETG ",["Id","P-NCN"]," 1>"],["\t\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1"]," <BACK .",["Localid","BEG"]," 4>>"],["\t\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"]," .",["Localid","BEG"],">)>>)>)>"],["   <REPEAT ()"],["\t   <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> ,",["Id","P-ITBLLEN"],">"],["\t\t  <SETG ",["Id","P-MERGED"]," T>"],["\t\t  <RTRUE>)"],["\t\t (T <PUT ,",["Id","P-ITBL"]," .",["Localid","CNT"]," <GET ,",["Id","P-OTBL"]," .",["Localid","CNT"],">>)>>"],["   T>"],[],[["Comment",";\"New ACLAUSE-WIN for TRAP retrofix 6/21/84\""]],[],["<ROUTINE ",["Iddef","ACLAUSE-WIN"]," (",["Localid","ADJ"],")"],["\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERB"]," <GET ,",["Id","P-OTBL"]," ,",["Id","P-VERB"],">>"],["\t<SETG ",["Id","P-CCSRC"]," ,",["Id","P-OTBL"],">"],["\t<",["Id","CLAUSE-COPY"]," ,",["Id","P-ACLAUSE"]," <+ ,",["Id","P-ACLAUSE"]," 1> .",["Localid","ADJ"],">"],["\t<AND <NOT <==? <GET ,",["Id","P-OTBL"]," ,",["Id","P-NC2"],"> 0>> <SETG ",["Id","P-NCN"]," 2>>"],["\t<SETG ",["Id","P-ACLAUSE"]," <>>"],["\t<RTRUE>>"],[],[["Comment",";\"Print undefined word in input."]],[["Comment","   PTR points to the unknown word in P-LEXV\""]],[],["<ROUTINE ",["Iddef","WORD-PRINT"]," (",["Localid","CNT"]," ",["Localid","BUF"],")"],["\t <REPEAT ()"],["\t\t <COND (<DLESS? ",["Localid","CNT"]," 0> <RETURN>)"],["\t\t       (ELSE"],["\t\t\t<PRINTC <GETB ,",["Id","P-INBUF"]," .",["Localid","BUF"],">>"],["\t\t\t<SET ",["Localid","BUF"]," <+ .",["Localid","BUF"]," 1>>)>>>"],[],["<ROUTINE ",["Iddef","UNKNOWN-WORD"]," (",["Localid","PTR"]," \"AUX\" ",["Localid","BUF"],")"],["\t<COND (<VERB? SAY>"],["\t       <TELL ",["Str","\"Nothing happens.\""]," CR>"],["\t       <RFALSE>)>"],["\t<TELL ",["Str","\"I don't know the word \\\"\""],">"],["\t<",["Id","WORD-PRINT"]," <GETB <REST ,",["Id","P-LEXV"]," <SET ",["Localid","BUF"]," <* .",["Localid","PTR"]," 2>>> 2>"],["\t\t    <GETB <REST ,",["Id","P-LEXV"]," .",["Localid","BUF"],"> 3>>"],["\t<TELL ",["Str","\"\\\".\""]," CR>"],["\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t<SETG ",["Id","P-OFLAG"]," <>>>"],[],["<ROUTINE ",["Iddef","CANT-USE"]," (",["Localid","PTR"]," \"AUX\" ",["Localid","BUF"],")"],["\t<COND (<VERB? SAY>"],["\t       <TELL ",["Str","\"Nothing happens.\""]," CR>"],["\t       <RFALSE>)>"],["\t<TELL ",["Str","\"You used the word \\\"\""],">"],["\t<",["Id","WORD-PRINT"]," <GETB <REST ,",["Id","P-LEXV"]," <SET ",["Localid","BUF"]," <* .",["Localid","PTR"]," 2>>> 2>"],["\t\t    <GETB <REST ,",["Id","P-LEXV"]," .",["Localid","BUF"],"> 3>>"],["\t<TELL ",["Str","\"\\\" in a way that I don't understand.\""]," CR>"],["\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t<SETG ",["Id","P-OFLAG"]," <>>>"],[],[["Comment",";\" Perform syntax matching operations, using P-ITBL as the source of"]],[["Comment","   the verb and adjectives for this input.  Returns false if no"]],[["Comment","   syntax matches, and does it's own orphaning.  If return is true,"]],[["Comment","   the syntax is saved in P-SYNTAX.\""]],[],["<GLOBAL ",["Iddef","P-SLOCBITS"]," 0>"],[],["<CONSTANT ",["Iddef","P-SYNLEN"]," 8>"],[],["<CONSTANT ",["Iddef","P-SBITS"]," 0>"],[],["<CONSTANT ",["Iddef","P-SPREP1"]," 1>"],[],["<CONSTANT ",["Iddef","P-SPREP2"]," 2>"],[],["<CONSTANT ",["Iddef","P-SFWIM1"]," 3>"],[],["<CONSTANT ",["Iddef","P-SFWIM2"]," 4>"],[],["<CONSTANT ",["Iddef","P-SLOC1"]," 5>"],[],["<CONSTANT ",["Iddef","P-SLOC2"]," 6>"],[],["<CONSTANT ",["Iddef","P-SACTION"]," 7>"],[],["<CONSTANT ",["Iddef","P-SONUMS"]," 3>"],[],["<ROUTINE ",["Iddef","SYNTAX-CHECK"]," (\"AUX\" ",["Localid","SYN"]," ",["Localid","LEN"]," ",["Localid","NUM"]," ",["Localid","OBJ"]],["\t\t       \t    (",["Localid","DRIVE1"]," <>) (",["Localid","DRIVE2"]," <>) ",["Localid","PREP"]," ",["Localid","VERB"]," ",["Localid","TMP"],")"],["\t<COND (<0? <SET ",["Localid","VERB"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],">>>"],["\t       <TELL ",["Str","\"There was no verb in that sentence!\""]," CR>"],["\t       <RFALSE>)>"],["\t<SET ",["Localid","SYN"]," <GET ,",["Id","VERBS"]," <- 255 .",["Localid","VERB"],">>>"],["\t<SET ",["Localid","LEN"]," <GETB .",["Localid","SYN"]," 0>>"],["\t<SET ",["Localid","SYN"]," <REST .",["Localid","SYN"],">>"],["\t<REPEAT ()"],["\t\t<SET ",["Localid","NUM"]," <BAND <GETB .",["Localid","SYN"]," ,",["Id","P-SBITS"],"> ,",["Id","P-SONUMS"],">>"],["\t\t<COND (<G? ,",["Id","P-NCN"]," .",["Localid","NUM"],"> T)"],["\t\t      (<AND <NOT <L? .",["Localid","NUM"]," 1>>"],["\t\t\t    <0? ,",["Id","P-NCN"],">"],["\t\t\t    <OR <0? <SET ",["Localid","PREP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>>"],["\t\t\t\t<==? .",["Localid","PREP"]," <GETB .",["Localid","SYN"]," ,",["Id","P-SPREP1"],">>>>"],["\t\t       <SET ",["Localid","DRIVE1"]," .",["Localid","SYN"],">)"],["\t\t      (<==? <GETB .",["Localid","SYN"]," ,",["Id","P-SPREP1"],"> <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>"],["\t\t       <COND (<AND <==? .",["Localid","NUM"]," 2> <==? ,",["Id","P-NCN"]," 1>>"],["\t\t\t      <SET ",["Localid","DRIVE2"]," .",["Localid","SYN"],">)"],["\t\t\t     (<==? <GETB .",["Localid","SYN"]," ,",["Id","P-SPREP2"],">"],["\t\t\t\t   <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP2"],">>"],["\t\t\t      <",["Id","SYNTAX-FOUND"]," .",["Localid","SYN"],">"],["\t\t\t      <RTRUE>)>)>"],["\t\t<COND (<DLESS? ",["Localid","LEN"]," 1>"],["\t\t       <COND (<OR .",["Localid","DRIVE1"]," .",["Localid","DRIVE2"],"> <RETURN>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"That sentence isn't one I recognize.\""]," CR>"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T <SET ",["Localid","SYN"]," <REST .",["Localid","SYN"]," ,",["Id","P-SYNLEN"],">>)>>"],["\t<COND (<AND .",["Localid","DRIVE1"]],["\t\t    <SET ",["Localid","OBJ"]],["\t\t\t <",["Id","GWIM"]," <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SFWIM1"],">"],["\t\t\t       <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SLOC1"],">"],["\t\t\t       <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SPREP1"],">>>>"],["\t       <PUT ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"]," 1>"],["\t       <PUT ,",["Id","P-PRSO"]," 1 .",["Localid","OBJ"],">"],["\t       <",["Id","SYNTAX-FOUND"]," .",["Localid","DRIVE1"],">)"],["\t      (<AND .",["Localid","DRIVE2"]],["\t\t    <SET ",["Localid","OBJ"]],["\t\t\t <",["Id","GWIM"]," <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SFWIM2"],">"],["\t\t\t       <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SLOC2"],">"],["\t\t\t       <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SPREP2"],">>>>"],["\t       <PUT ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"]," 1>"],["\t       <PUT ,",["Id","P-PRSI"]," 1 .",["Localid","OBJ"],">"],["\t       <",["Id","SYNTAX-FOUND"]," .",["Localid","DRIVE2"],">)"],["\t      (<EQUAL? .",["Localid","VERB"]," ,ACT?FIND>"],["\t       <TELL ",["Str","\"That question can't be answered.\""]," CR>"],["\t       <RFALSE>)"],["\t      (<NOT <==? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t       <",["Id","CANT-ORPHAN"],">)"],["\t      (T"],["\t       <",["Id","ORPHAN"]," .",["Localid","DRIVE1"]," .",["Localid","DRIVE2"],">"],["\t       <TELL ",["Str","\"What do you want to \""],">"],["\t       <SET ",["Localid","TMP"]," <GET ,",["Id","P-OTBL"]," ,",["Id","P-VERBN"],">>"],["\t       <COND (<==? .",["Localid","TMP"]," 0> <TELL ",["Str","\"tell\""],">)"],["\t\t     (<0? <GETB ,",["Id","P-VTBL"]," 2>>"],["\t\t      <PRINTB <GET .",["Localid","TMP"]," 0>>)"],["\t\t     (T"],["\t\t      <",["Id","WORD-PRINT"]," <GETB .",["Localid","TMP"]," 2> <GETB .",["Localid","TMP"]," 3>>"],["\t\t      <PUTB ,",["Id","P-VTBL"]," 2 0>)>"],["\t       <COND (.",["Localid","DRIVE2"]],["\t\t      <",["Id","CLAUSE-PRINT"]," ,",["Id","P-NC1"]," ,",["Id","P-NC1L"],">)>"],["\t       <SETG ",["Id","P-OFLAG"]," T>"],["\t       <",["Id","PREP-PRINT"]," <COND (.",["Localid","DRIVE1"]," <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SPREP1"],">)"],["\t\t\t\t (T <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SPREP2"],">)>>"],["\t       <TELL ",["Str","\"?\""]," CR>"],["\t       <RFALSE>)>>"],[],["<ROUTINE ",["Iddef","CANT-ORPHAN"]," ()"],["\t <TELL ",["Str","\"\\\"I don't understand! What are you referring to?\\\"\""]," CR>"],["\t <RFALSE>>"],[],[],["<ROUTINE ",["Iddef","ORPHAN"]," (",["Localid","D1"]," ",["Localid","D2"]," \"AUX\" (",["Localid","CNT"]," -1))"],["\t<PUT ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<SETG ",["Id","P-CCSRC"]," ,",["Id","P-ITBL"],">"],["\t<REPEAT ()"],["\t\t<COND (<IGRTR? ",["Localid","CNT"]," ,",["Id","P-ITBLLEN"],"> <RETURN>)"],["\t\t      (T <PUT ,",["Id","P-OTBL"]," .",["Localid","CNT"]," <GET ,",["Id","P-ITBL"]," .",["Localid","CNT"],">>)>>"],["\t<COND (<==? ,",["Id","P-NCN"]," 2> <",["Id","CLAUSE-COPY"]," ,",["Id","P-NC2"]," ,",["Id","P-NC2L"],">)>"],["\t<COND (<NOT <L? ,",["Id","P-NCN"]," 1>> <",["Id","CLAUSE-COPY"]," ,",["Id","P-NC1"]," ,",["Id","P-NC1L"],">)>"],["\t<COND (.",["Localid","D1"]],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-PREP1"]," <GETB .",["Localid","D1"]," ,",["Id","P-SPREP1"],">>"],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1"]," 1>)"],["\t      (.",["Localid","D2"]],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-PREP2"]," <GETB .",["Localid","D2"]," ,",["Id","P-SPREP2"],">>"],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC2"]," 1>)>>"],[],["<ROUTINE ",["Iddef","CLAUSE-PRINT"]," (",["Localid","BPTR"]," ",["Localid","EPTR"]," \"OPTIONAL\" (",["Localid","THE?"]," T))"],["\t<",["Id","BUFFER-PRINT"]," <GET ,",["Id","P-ITBL"]," .",["Localid","BPTR"],"> <GET ,",["Id","P-ITBL"]," .",["Localid","EPTR"],"> .",["Localid","THE?"],">>"],[],["<ROUTINE ",["Iddef","BUFFER-PRINT"]," (",["Localid","BEG"]," ",["Localid","END"]," ",["Localid","CP"]," \"AUX\" (",["Localid","NOSP"]," <>) ",["Localid","WRD"]," (",["Localid","FIRST??"]," T) (",["Localid","PN"]," <>))"],["\t <REPEAT ()"],["\t\t<COND (<==? .",["Localid","BEG"]," .",["Localid","END"],"> <RETURN>)"],["\t\t      (T"],["\t\t       <COND (.",["Localid","NOSP"]," <SET ",["Localid","NOSP"]," <>>)"],["\t\t\t     (T <TELL ",["Str","\" \""],">)>"],["\t\t       <COND (<==? <SET ",["Localid","WRD"]," <GET .",["Localid","BEG"]," 0>> ,W?PERIOD> <SET ",["Localid","NOSP"]," T>)"],["\t\t\t     (T"],["\t\t\t      <COND (<AND .",["Localid","FIRST??"]," <NOT .",["Localid","PN"],"> .",["Localid","CP"],">"],["\t\t\t\t     <TELL ",["Str","\"the \""],">)>"],["\t\t\t      <COND (<OR ,",["Id","P-OFLAG"]," ,",["Id","P-MERGED"],"> <PRINTB .",["Localid","WRD"],">)"],["\t\t\t\t    (<AND <==? .",["Localid","WRD"]," ,W?IT>"],["\t\t\t\t\t  <==? ,",["Id","P-IT-LOC"]," ,",["Id","HERE"],">>"],["\t\t\t\t     <PRINTD ,",["Id","P-IT-OBJECT"],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <",["Id","WORD-PRINT"]," <GETB .",["Localid","BEG"]," 2>"],["\t\t\t\t\t\t <GETB .",["Localid","BEG"]," 3>>)>"],["\t\t\t      <SET ",["Localid","FIRST??"]," <>>)>)>"],["\t\t<SET ",["Localid","BEG"]," <REST .",["Localid","BEG"]," ,",["Id","P-WORDLEN"],">>>>"],[],["<ROUTINE ",["Iddef","CAPITALIZE"]," (",["Localid","PTR"],")"],["\t <PRINTC <- <GETB ,",["Id","P-INBUF"]," <GETB .",["Localid","PTR"]," 3>> 32>>"],["\t <",["Id","WORD-PRINT"]," <- <GETB .",["Localid","PTR"]," 2> 1> <+ <GETB .",["Localid","PTR"]," 3> 1>>>"],[],["<ROUTINE ",["Iddef","PREP-PRINT"]," (",["Localid","PREP"]," \"AUX\" ",["Localid","WRD"],")"],["\t<COND (<NOT <0? .",["Localid","PREP"],">>"],["\t       <TELL ",["Str","\" \""],">"],["\t       <SET ",["Localid","WRD"]," <",["Id","PREP-FIND"]," .",["Localid","PREP"],">>"],["\t       <PRINTB .",["Localid","WRD"],">)>>"],[],["<ROUTINE ",["Iddef","CLAUSE-COPY"]," (",["Localid","BPTR"]," ",["Localid","EPTR"]," \"OPTIONAL\" (",["Localid","INSRT"]," <>) \"AUX\" ",["Localid","BEG"]," ",["Localid","END"],")"],["\t<SET ",["Localid","BEG"]," <GET ,",["Id","P-CCSRC"]," .",["Localid","BPTR"],">>"],["\t<SET ",["Localid","END"]," <GET ,",["Id","P-CCSRC"]," .",["Localid","EPTR"],">>"],["\t<PUT ,",["Id","P-OTBL"]],["\t     .",["Localid","BPTR"]],["\t     <REST ,",["Id","P-OCLAUSE"]],["\t\t   <+ <* <GET ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"],"> ,",["Id","P-LEXELEN"],"> 2>>>"],["\t<REPEAT ()"],["\t\t<COND (<==? .",["Localid","BEG"]," .",["Localid","END"],">"],["\t\t       <PUT ,",["Id","P-OTBL"]],["\t\t\t    .",["Localid","EPTR"]],["\t\t\t    <REST ,",["Id","P-OCLAUSE"]],["\t\t\t\t  <+ <* <GET ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"],"> ,",["Id","P-LEXELEN"],">"],["\t\t\t\t     2>>>"],["\t\t       <RETURN>)"],["\t\t      (T"],["\t\t       <COND (<AND .",["Localid","INSRT"]," <==? ,",["Id","P-ANAM"]," <GET .",["Localid","BEG"]," 0>>>"],["\t\t\t      <",["Id","CLAUSE-ADD"]," .",["Localid","INSRT"],">)>"],["\t\t       <",["Id","CLAUSE-ADD"]," <GET .",["Localid","BEG"]," 0>>)>"],["\t\t<SET ",["Localid","BEG"]," <REST .",["Localid","BEG"]," ,",["Id","P-WORDLEN"],">>>>"],[],[],["<ROUTINE ",["Iddef","CLAUSE-ADD"]," (",["Localid","WRD"]," \"AUX\" ",["Localid","PTR"],")"],["\t<SET ",["Localid","PTR"]," <+ <GET ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"],"> 2>>"],["\t<PUT ,",["Id","P-OCLAUSE"]," <- .",["Localid","PTR"]," 1> .",["Localid","WRD"],">"],["\t<PUT ,",["Id","P-OCLAUSE"]," .",["Localid","PTR"]," 0>"],["\t<PUT ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"]," .",["Localid","PTR"],">>"],[],["<ROUTINE ",["Iddef","PREP-FIND"]," (",["Localid","PREP"]," \"AUX\" (",["Localid","CNT"]," 0) ",["Localid","SIZE"],")"],["\t<SET ",["Localid","SIZE"]," <* <GET ,",["Id","PREPOSITIONS"]," 0> 2>>"],["\t<REPEAT ()"],["\t\t<COND (<IGRTR? ",["Localid","CNT"]," .",["Localid","SIZE"],"> <RFALSE>)"],["\t\t      (<==? <GET ,",["Id","PREPOSITIONS"]," .",["Localid","CNT"],"> .",["Localid","PREP"],">"],["\t\t       <RETURN <GET ,",["Id","PREPOSITIONS"]," <- .",["Localid","CNT"]," 1>>>)>>>"],[],["<ROUTINE ",["Iddef","SYNTAX-FOUND"]," (",["Localid","SYN"],")"],["\t<SETG ",["Id","P-SYNTAX"]," .",["Localid","SYN"],">"],["\t<SETG ",["Id","PRSA"]," <GETB .",["Localid","SYN"]," ,",["Id","P-SACTION"],">>>"],[],["<GLOBAL ",["Iddef","P-GWIMBIT"]," 0>"],[],["<ROUTINE ",["Iddef","GWIM"]," (",["Localid","GBIT"]," ",["Localid","LBIT"]," ",["Localid","PREP"]," \"AUX\" ",["Localid","OBJ"],")"],["\t<COND (<==? .",["Localid","GBIT"]," ,",["Implid","RMUNGBIT"],">"],["\t       <RETURN ,",["Id","ROOMS"],">)>"],["\t<SETG ",["Id","P-GWIMBIT"]," .",["Localid","GBIT"],">"],["\t<SETG ",["Id","P-SLOCBITS"]," .",["Localid","LBIT"],">"],["\t<PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<COND (<",["Id","GET-OBJECT"]," ,",["Id","P-MERGE"]," <>>"],["\t       <SETG ",["Id","P-GWIMBIT"]," 0>"],["\t       <COND (<==? <GET ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t      <COND (<EQUAL? <SET ",["Localid","OBJ"]," <GET ,",["Id","P-MERGE"]," 1>> ,",["Id","ME"],">"],["\t\t\t     <RFALSE>)>"],["\t\t      <TELL ",["Str","\"(\""],">"],["\t\t      <COND (<NOT <0? .",["Localid","PREP"],">>"],["\t\t\t     <PRINTB <SET ",["Localid","PREP"]," <",["Id","PREP-FIND"]," .",["Localid","PREP"],">>>"],["\t\t\t     <COND (<==? .",["Localid","PREP"]," ,W?OUT>"],["\t\t\t\t    <TELL ",["Str","\" of\""],">)>"],["\t\t\t     <COND (<==? .",["Localid","OBJ"]," ,",["Id","HANDS"],">"],["\t\t\t\t    <TELL ",["Str","\" your hands)\""]," CR>)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL ",["Str","\" the \""],">)>)>"],["\t\t      <COND (<NOT <==? .",["Localid","OBJ"]," ,",["Id","HANDS"],">>"],["\t\t\t     <TELL D .",["Localid","OBJ"]," ",["Str","\")\""]," CR>)>"],["\t\t      .",["Localid","OBJ"],")>)"],["\t      (T <SETG ",["Id","P-GWIMBIT"]," 0> <RFALSE>)>>"],[],["<ROUTINE ",["Iddef","SNARF-OBJECTS"]," (\"AUX\" ",["Localid","PTR"],")"],["\t<COND (<NOT <==? <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">> 0>>"],["\t       <SETG ",["Id","P-SLOCBITS"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC1"],">>"],["\t       <OR <",["Id","SNARFEM"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],"> ,",["Id","P-PRSO"],"> <RFALSE>>"],["\t       <OR <0? <GET ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"],">>"],["\t\t   <SETG ",["Id","P-PRSO"]," <",["Id","BUT-MERGE"]," ,",["Id","P-PRSO"],">>>)>"],["\t<COND (<NOT <==? <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2"],">> 0>>"],["\t       <SETG ",["Id","P-SLOCBITS"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC2"],">>"],["\t       <OR <",["Id","SNARFEM"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2L"],"> ,",["Id","P-PRSI"],"> <RFALSE>>"],["\t       <COND (<NOT <0? <GET ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"],">>>"],["\t\t      <COND (<==? <GET ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t\t     <SETG ",["Id","P-PRSO"]," <",["Id","BUT-MERGE"]," ,",["Id","P-PRSO"],">>)"],["\t\t\t    (T <SETG ",["Id","P-PRSI"]," <",["Id","BUT-MERGE"]," ,",["Id","P-PRSI"],">>)>)>)>"],["\t<RTRUE>>"],[],["<ROUTINE ",["Iddef","BUT-MERGE"]," (",["Localid","TBL"]," \"AUX\" ",["Localid","LEN"]," ",["Localid","BUTLEN"]," (",["Localid","CNT"]," 1) (",["Localid","MATCHES"]," 0) ",["Localid","OBJ"]," ",["Localid","NTBL"],")"],["\t<SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t<PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<REPEAT ()"],["\t\t<COND (<DLESS? ",["Localid","LEN"]," 0> <RETURN>)"],["\t\t      (<",["Id","ZMEMQ"]," <SET ",["Localid","OBJ"]," <GET .",["Localid","TBL"]," .",["Localid","CNT"],">> ,",["Id","P-BUTS"],">)"],["\t\t      (T"],["\t\t       <PUT ,",["Id","P-MERGE"]," <+ .",["Localid","MATCHES"]," 1> .",["Localid","OBJ"],">"],["\t\t       <SET ",["Localid","MATCHES"]," <+ .",["Localid","MATCHES"]," 1>>)>"],["\t\t<SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>>"],["\t<PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," .",["Localid","MATCHES"],">"],["\t<SET ",["Localid","NTBL"]," ,",["Id","P-MERGE"],">"],["\t<SETG ",["Id","P-MERGE"]," .",["Localid","TBL"],">"],["\t.",["Localid","NTBL"],">"],[],["<GLOBAL ",["Iddef","P-NAM"]," <>>"],[],["<GLOBAL ",["Iddef","P-ADJ"]," <>>"],[],["<GLOBAL ",["Iddef","P-ADVERB"]," <>>"],[],["<GLOBAL ",["Iddef","P-ADJN"]," <>>"],[],["<GLOBAL ",["Iddef","P-PRSO"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-PRSI"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-BUTS"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-MERGE"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-OCLAUSE"]," <ITABLE NONE 100>>"],[],["<GLOBAL ",["Iddef","P-MATCHLEN"]," 0>"],[],["<GLOBAL ",["Iddef","P-GETFLAGS"]," 0>"],[],["<CONSTANT ",["Iddef","P-ALL"]," 1>"],[],["<CONSTANT ",["Iddef","P-ONE"]," 2>"],[],["<CONSTANT ",["Iddef","P-INHIBIT"]," 4>"],[],["<GLOBAL ",["Iddef","P-CSPTR"]," <>>"],["<GLOBAL ",["Iddef","P-CEPTR"]," <>>"],["<GLOBAL ",["Iddef","P-AND"]," <>>"],[],["<ROUTINE ",["Iddef","SNARFEM"]," (",["Localid","PTR"]," ",["Localid","EPTR"]," ",["Localid","TBL"]," \"AUX\" (",["Localid","BUT"]," <>) ",["Localid","LEN"]," ",["Localid","WV"]," ",["Localid","WRD"]," ",["Localid","NW"],")"],["   <SETG ",["Id","P-AND"]," <>>"],["   <SETG ",["Id","P-GETFLAGS"]," 0>"],["   <SETG ",["Id","P-CSPTR"]," .",["Localid","PTR"],">"],["   <SETG ",["Id","P-CEPTR"]," .",["Localid","EPTR"],">"],["   <PUT ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"]," 0>"],["   <PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," 0>"],["   <SET ",["Localid","WRD"]," <GET .",["Localid","PTR"]," 0>>"],["   <REPEAT ()"],["\t   <COND (<==? .",["Localid","PTR"]," .",["Localid","EPTR"],"> <RETURN <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">>>)"],["\t\t (T"],["\t\t  <SET ",["Localid","NW"]," <GET .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>"],["\t\t  <COND (<==? .",["Localid","WRD"]," ,W?ALL>"],["\t\t\t <SETG ",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">"],["\t\t\t <COND (<==? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t<SET ",["Localid","PTR"]," <REST .",["Localid","PTR"]," ,",["Id","P-WORDLEN"],">>)>)"],["\t\t\t(<EQUAL? .",["Localid","WRD"]," ,W?BUT ,W?EXCEPT>"],["\t\t\t <OR <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">> <RFALSE>>"],["\t\t\t <SET ",["Localid","BUT"]," ,",["Id","P-BUTS"],">"],["\t\t\t <PUT .",["Localid","BUT"]," ,",["Id","P-MATCHLEN"]," 0>)"],["\t\t\t(<EQUAL? .",["Localid","WRD"]," ,W?A ,W?ONE>"],["\t\t\t <COND (<NOT ,",["Id","P-ADJ"],">"],["\t\t\t\t<SETG ",["Id","P-GETFLAGS"]," ,",["Id","P-ONE"],">"],["\t\t\t\t<COND (<==? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t       <SET ",["Localid","PTR"]," <REST .",["Localid","PTR"]," ,",["Id","P-WORDLEN"],">>)>)"],["\t\t\t       (T"],["\t\t\t\t<SETG ",["Id","P-NAM"]," ,",["Id","P-ONEOBJ"],">"],["\t\t\t\t<OR <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">> <RFALSE>>"],["\t\t\t\t<AND <0? .",["Localid","NW"],"> <RTRUE>>)>)"],["\t\t\t(<AND <EQUAL? .",["Localid","WRD"]," ,W?AND ,W?COMMA>"],["\t\t\t      <NOT <EQUAL? .",["Localid","NW"]," ,W?AND ,W?COMMA>>>"],["\t\t\t <SETG ",["Id","P-AND"]," T>"],["\t\t\t <OR <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">> <RFALSE>>"],["\t\t\t T)"],["\t\t\t(<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?BUZZ-WORD>)"],["\t\t\t(<EQUAL? .",["Localid","WRD"]," ,W?AND ,W?COMMA>)"],["\t\t\t(<==? .",["Localid","WRD"]," ,W?OF>"],["\t\t\t <COND (<0? ,",["Id","P-GETFLAGS"],">"],["\t\t\t\t<SETG ",["Id","P-GETFLAGS"]," ,",["Id","P-INHIBIT"],">)>)"],["\t\t\t(<AND <SET ",["Localid","WV"]," <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?ADJECTIVE ,P1?ADJECTIVE>>"],["\t\t\t      <NOT ,",["Id","P-ADJ"],">>"],["\t\t\t <SETG ",["Id","P-ADJ"]," .",["Localid","WV"],">"],["\t\t\t <SETG ",["Id","P-ADJN"]," .",["Localid","WRD"],">)"],["\t\t\t(<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?OBJECT ,P1?OBJECT>"],["\t\t\t <SETG ",["Id","P-NAM"]," .",["Localid","WRD"],">"],["\t\t\t <SETG ",["Id","P-ONEOBJ"]," .",["Localid","WRD"],">)>)>"],["\t   <COND (<NOT <==? .",["Localid","PTR"]," .",["Localid","EPTR"],">>"],["\t\t  <SET ",["Localid","PTR"]," <REST .",["Localid","PTR"]," ,",["Id","P-WORDLEN"],">>"],["\t\t  <SET ",["Localid","WRD"]," .",["Localid","NW"],">)>>>"],[],["<CONSTANT ",["Iddef","SH"]," 128>"],[],["<CONSTANT ",["Iddef","SC"]," 64>"],[],["<CONSTANT ",["Iddef","SIR"]," 32>"],[],["<CONSTANT ",["Iddef","SOG"]," 16>"],[],["<CONSTANT ",["Iddef","STAKE"]," 8>"],[],["<CONSTANT ",["Iddef","SMANY"]," 4>"],[],["<CONSTANT ",["Iddef","SHAVE"]," 2>"],[],["<ROUTINE ",["Iddef","GET-OBJECT"]," (",["Localid","TBL"]],["\t\t     \"OPTIONAL\" (",["Localid","VRB"]," T)"],["\t\t     \"AUX\" ",["Localid","BITS"]," ",["Localid","LEN"]," ",["Localid","XBITS"]," ",["Localid","TLEN"]," (",["Localid","GCHECK"]," <>) (",["Localid","OLEN"]," 0) ",["Localid","OBJ"],")"],["\t <SET ",["Localid","XBITS"]," ,",["Id","P-SLOCBITS"],">"],["\t <SET ",["Localid","TLEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t <COND (<BTST ,",["Id","P-GETFLAGS"]," ,",["Id","P-INHIBIT"],"> <RTRUE>)>"],["\t <COND (<AND <NOT ,",["Id","P-NAM"],"> ,",["Id","P-ADJ"]," <",["Id","WT?"]," ,",["Id","P-ADJN"]," ,PS?OBJECT ,P1?OBJECT>>"],["\t\t<SETG ",["Id","P-NAM"]," ,",["Id","P-ADJN"],">"],["\t\t<SETG ",["Id","P-ADJ"]," <>>)>"],["\t <COND (<AND <NOT ,",["Id","P-NAM"],">"],["\t\t     <NOT ,",["Id","P-ADJ"],">"],["\t\t     <NOT <==? ,",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">>"],["\t\t     <0? ,",["Id","P-GWIMBIT"],">>"],["\t\t<COND (.",["Localid","VRB"]],["\t\t       <TELL"],[["Str","\"There seems to be a noun missing in that sentence!\""]," CR>)>"],["\t\t<RFALSE>)>"],["\t <COND (<OR <NOT <==? ,",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">> <0? ,",["Id","P-SLOCBITS"],">>"],["\t\t<SETG ",["Id","P-SLOCBITS"]," -1>)>"],["\t <SETG ",["Id","P-TABLE"]," .",["Localid","TBL"],">"],["\t <PROG ()"],["\t       <COND (.",["Localid","GCHECK"]," <",["Id","GLOBAL-CHECK"]," .",["Localid","TBL"],">)"],["\t\t     (T"],["\t\t      <COND (,",["Id","LIT"]],["\t\t\t     <FCLEAR ,",["Id","PLAYER"]," ,",["Implid","TRANSBIT"],">"],["\t\t\t     <",["Id","DO-SL"]," ,",["Id","HERE"]," ,",["Id","SOG"]," ,",["Id","SIR"],">"],["\t\t\t     <FSET ,",["Id","PLAYER"]," ,",["Implid","TRANSBIT"],">)>"],["\t\t      <",["Id","DO-SL"]," ,",["Id","PLAYER"]," ,",["Id","SH"]," ,",["Id","SC"],">)>"],["\t       <SET ",["Localid","LEN"]," <- <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],"> .",["Localid","TLEN"],">>"],["\t       <COND (<BTST ,",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">)"],["\t\t     (<AND <BTST ,",["Id","P-GETFLAGS"]," ,",["Id","P-ONE"],">"],["\t\t\t   <NOT <0? .",["Localid","LEN"],">>>"],["\t\t      <COND (<NOT <==? .",["Localid","LEN"]," 1>>"],["\t\t\t     <PUT .",["Localid","TBL"]," 1 <GET .",["Localid","TBL"]," <RANDOM .",["Localid","LEN"],">>>"],["\t\t\t     <TELL ",["Str","\"(How about the \""],">"],["\t\t\t     <PRINTD <GET .",["Localid","TBL"]," 1>>"],["\t\t\t     <TELL ",["Str","\"?)\""]," CR>)>"],["\t\t      <PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," 1>)"],["\t\t     (<OR <G? .",["Localid","LEN"]," 1>"],["\t\t\t  <AND <0? .",["Localid","LEN"],"> <NOT <==? ,",["Id","P-SLOCBITS"]," -1>>>>"],["\t\t      <COND (<==? ,",["Id","P-SLOCBITS"]," -1>"],["\t\t\t     <SETG ",["Id","P-SLOCBITS"]," .",["Localid","XBITS"],">"],["\t\t\t     <SET ",["Localid","OLEN"]," .",["Localid","LEN"],">"],["\t\t\t     <PUT .",["Localid","TBL"]],["\t\t\t\t  ,",["Id","P-MATCHLEN"]],["\t\t\t\t  <- <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],"> .",["Localid","LEN"],">>"],["\t\t\t     <AGAIN>)"],["\t\t\t    (T"],["\t\t\t     <COND (<0? .",["Localid","LEN"],"> <SET ",["Localid","LEN"]," .",["Localid","OLEN"],">)>"],["\t\t\t     <COND (<NOT <==? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t\t\t\t    <",["Id","CANT-ORPHAN"],">"],["\t\t\t\t    <RFALSE>)"],["\t\t\t\t   (<AND .",["Localid","VRB"]," ,",["Id","P-NAM"],">"],["\t\t\t\t    <",["Id","WHICH-PRINT"]," .",["Localid","TLEN"]," .",["Localid","LEN"]," .",["Localid","TBL"],">"],["\t\t\t\t    <SETG ",["Id","P-ACLAUSE"]],["\t\t\t\t\t  <COND (<==? .",["Localid","TBL"]," ,",["Id","P-PRSO"],"> ,",["Id","P-NC1"],")"],["\t\t\t\t\t\t(T ,",["Id","P-NC2"],")>>"],["\t\t\t\t    <SETG ",["Id","P-AADJ"]," ,",["Id","P-ADJ"],">"],["\t\t\t\t    <SETG ",["Id","P-ANAM"]," ,",["Id","P-NAM"],">"],["\t\t\t\t    <",["Id","ORPHAN"]," <> <>>"],["\t\t\t\t    <SETG ",["Id","P-OFLAG"]," T>)"],["\t\t\t\t   (.",["Localid","VRB"]],["\t\t\t\t    <TELL"],[["Str","\"There seems to be a noun missing in that sentence!\""]," CR>)>"],["\t\t\t     <SETG ",["Id","P-NAM"]," <>>"],["\t\t\t     <SETG ",["Id","P-ADJ"]," <>>"],["\t\t\t     <RFALSE>)>)"],["\t\t     (<AND <0? .",["Localid","LEN"],"> .",["Localid","GCHECK"],">"],["\t\t      <COND (.",["Localid","VRB"]],["\t\t\t     <COND (,",["Id","LIT"]],["\t\t\t\t    ",["Comment",";\"Changed 6/10/83 - MARC\""]],["\t\t\t\t    <",["Id","OBJ-FOUND"]," ,",["Id","NOT-HERE-OBJECT"]," .",["Localid","TBL"],">"],["\t\t\t\t    <SETG ",["Id","P-XNAM"]," ,",["Id","P-NAM"],">"],["\t\t\t\t    <SETG ",["Id","P-XADJ"]," ,",["Id","P-ADJ"],">"],["\t\t\t\t    <SETG ",["Id","P-XADJN"]," ,",["Id","P-ADJN"],">"],["\t\t\t\t    <SETG ",["Id","P-NAM"]," <>>"],["\t\t\t\t    <SETG ",["Id","P-ADJ"]," <>>"],["\t\t\t\t    <SETG ",["Id","P-ADJN"]," <>>"],["\t\t\t\t    <RTRUE>)"],["\t\t\t\t   (T <TELL ",["Str","\"It's too dark to see!\""]," CR>)>)>"],["\t\t      <SETG ",["Id","P-NAM"]," <>>"],["\t\t      <SETG ",["Id","P-ADJ"]," <>>"],["\t\t      <RFALSE>)"],["\t\t     (<0? .",["Localid","LEN"],"> <SET ",["Localid","GCHECK"]," T> <AGAIN>)>"],["\t       <SETG ",["Id","P-SLOCBITS"]," .",["Localid","XBITS"],">"],["\t       <SETG ",["Id","P-NAM"]," <>>"],["\t       <SETG ",["Id","P-ADJ"]," <>>"],["\t       <RTRUE>>>"],[],["<ROUTINE ",["Iddef","MOBY-FIND"]," (",["Localid","TBL"]," \"AUX\" ",["Localid","FOO"]," ",["Localid","LEN"],")"],["\t <SETG ",["Id","P-SLOCBITS"]," -1>"],["\t <SETG ",["Id","P-NAM"]," ,",["Id","P-XNAM"],">"],["\t <SETG ",["Id","P-ADJ"]," ,",["Id","P-XADJ"],">"],["\t <PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t <SET ",["Localid","FOO"]," <FIRST? ,",["Id","ROOMS"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","FOO"],"> <RETURN>)"],["\t\t       (T"],["\t\t\t<",["Id","SEARCH-LIST"]," .",["Localid","FOO"]," .",["Localid","TBL"]," ,",["Id","P-SRCALL"],">"],["\t\t\t<SET ",["Localid","FOO"]," <NEXT? .",["Localid","FOO"],">>)>>"],["\t <COND (<EQUAL? <SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">> 0>"],["\t\t<",["Id","DO-SL"]," ,",["Id","LOCAL-GLOBALS"]," 1 1>)>"],["\t <COND (<EQUAL? <SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">> 0>"],["\t\t<",["Id","DO-SL"]," ,",["Id","ROOMS"]," 1 1>)>"],["\t <COND (<EQUAL? <SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">> 1>"],["\t\t<SETG ",["Id","P-MOBY-FOUND"]," <GET .",["Localid","TBL"]," 1>>)>"],["\t <SETG ",["Id","P-NAM"]," <>>"],["\t <SETG ",["Id","P-ADJ"]," <>>"],["\t .",["Localid","LEN"],">"],[],["<GLOBAL ",["Iddef","P-MOBY-FOUND"]," <>>"],["<GLOBAL ",["Iddef","P-XNAM"]," <>>"],["<GLOBAL ",["Iddef","P-XADJ"]," <>>"],["<GLOBAL ",["Iddef","P-XADJN"]," <>>"],[],["<ROUTINE ",["Iddef","WHICH-PRINT"]," (",["Localid","TLEN"]," ",["Localid","LEN"]," ",["Localid","TBL"]," \"AUX\" ",["Localid","OBJ"]," ",["Localid","RLEN"],")"],["\t <SET ",["Localid","RLEN"]," .",["Localid","LEN"],">"],["\t <TELL ",["Str","\"Which\""],">"],["         <COND (<OR ,",["Id","P-OFLAG"]," ,",["Id","P-MERGED"]," ,",["Id","P-AND"],"> <TELL ",["Str","\" \""],"> <PRINTB ,",["Id","P-NAM"],">)"],["\t       (<==? .",["Localid","TBL"]," ,",["Id","P-PRSO"],">"],["\t\t<",["Id","CLAUSE-PRINT"]," ,",["Id","P-NC1"]," ,",["Id","P-NC1L"]," <>>)"],["\t       (T <",["Id","CLAUSE-PRINT"]," ,",["Id","P-NC2"]," ,",["Id","P-NC2L"]," <>>)>"],["\t <TELL ",["Str","\" do you mean, \""],">"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","TLEN"]," <+ .",["Localid","TLEN"]," 1>>"],["\t\t <SET ",["Localid","OBJ"]," <GET .",["Localid","TBL"]," .",["Localid","TLEN"],">>"],["\t\t <TELL ",["Str","\"the \""]," D .",["Localid","OBJ"],">"],["\t\t <COND (<==? .",["Localid","LEN"]," 2>"],["\t\t        <COND (<NOT <==? .",["Localid","RLEN"]," 2>> <TELL ",["Str","\",\""],">)>"],["\t\t        <TELL ",["Str","\" or \""],">)"],["\t\t       (<G? .",["Localid","LEN"]," 2> <TELL ",["Str","\", \""],">)>"],["\t\t <COND (<L? <SET ",["Localid","LEN"]," <- .",["Localid","LEN"]," 1>> 1>"],["\t\t        <TELL ",["Str","\"?\""]," CR>"],["\t\t        <RETURN>)>>>"],[],[],["<ROUTINE ",["Iddef","GLOBAL-CHECK"]," (",["Localid","TBL"]," \"AUX\" ",["Localid","LEN"]," ",["Localid","RMG"]," ",["Localid","RMGL"]," (",["Localid","CNT"]," 0) ",["Localid","OBJ"]," ",["Localid","OBITS"]," ",["Localid","FOO"],")"],["\t<SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t<SET ",["Localid","OBITS"]," ,",["Id","P-SLOCBITS"],">"],["\t<COND (<SET ",["Localid","RMG"]," <GETPT ,",["Id","HERE"]," ,",["Implid","P?GLOBAL"],">>"],["\t       <SET ",["Localid","RMGL"]," <- <PTSIZE .",["Localid","RMG"],"> 1>>"],["\t       <REPEAT ()"],["\t\t       <COND (<",["Id","THIS-IT?"]," <SET ",["Localid","OBJ"]," <GETB .",["Localid","RMG"]," .",["Localid","CNT"],">> .",["Localid","TBL"],">"],["\t\t\t      <",["Id","OBJ-FOUND"]," .",["Localid","OBJ"]," .",["Localid","TBL"],">)>"],["\t\t       <COND (<IGRTR? ",["Localid","CNT"]," .",["Localid","RMGL"],"> <RETURN>)>>)>"],["\t<COND (<SET ",["Localid","RMG"]," <GETPT ,",["Id","HERE"]," ,",["Implid","P?PSEUDO"],">>"],["\t       <SET ",["Localid","RMGL"]," <- </ <PTSIZE .",["Localid","RMG"],"> 4> 1>>"],["\t       <SET ",["Localid","CNT"]," 0>"],["\t       <REPEAT ()"],["\t\t       <COND (<==? ,",["Id","P-NAM"]," <GET .",["Localid","RMG"]," <* .",["Localid","CNT"]," 2>>>"],["\t\t\t      <PUTP ,",["Id","PSEUDO-OBJECT"]],["\t\t\t\t    ,",["Implid","P?ACTION"]],["\t\t\t\t    <GET .",["Localid","RMG"]," <+ <* .",["Localid","CNT"]," 2> 1>>>"],["\t\t\t      <SET ",["Localid","FOO"]],["\t\t\t\t   <BACK <GETPT ,",["Id","PSEUDO-OBJECT"]," ,",["Implid","P?ACTION"],"> 5>>"],["\t\t\t      <PUT .",["Localid","FOO"]," 0 <GET ,",["Id","P-NAM"]," 0>>"],["\t\t\t      <PUT .",["Localid","FOO"]," 1 <GET ,",["Id","P-NAM"]," 1>>"],["\t\t\t      <",["Id","OBJ-FOUND"]," ,",["Id","PSEUDO-OBJECT"]," .",["Localid","TBL"],">"],["\t\t\t      <RETURN>)"],["\t\t             (<IGRTR? ",["Localid","CNT"]," .",["Localid","RMGL"],"> <RETURN>)>>)>"],["\t<COND (<==? <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],"> .",["Localid","LEN"],">"],["\t       <SETG ",["Id","P-SLOCBITS"]," -1>"],["\t       <SETG ",["Id","P-TABLE"]," .",["Localid","TBL"],">"],["\t       <",["Id","DO-SL"]," ,",["Id","GLOBAL-OBJECTS"]," 1 1>"],["\t       <SETG ",["Id","P-SLOCBITS"]," .",["Localid","OBITS"],">"],["\t       <COND (<AND <0? <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t\t\t   <EQUAL? ,",["Id","PRSA"]," ,V?LOOK-INSIDE ,V?SEARCH ,V?EXAMINE>>"],["\t\t      <",["Id","DO-SL"]," ,",["Id","ROOMS"]," 1 1>)>)>>"],[],["<ROUTINE ",["Iddef","DO-SL"]," (",["Localid","OBJ"]," ",["Localid","BIT1"]," ",["Localid","BIT2"]," \"AUX\" ",["Localid","BTS"],")"],["\t<COND (<BTST ,",["Id","P-SLOCBITS"]," <+ .",["Localid","BIT1"]," .",["Localid","BIT2"],">>"],["\t       <",["Id","SEARCH-LIST"]," .",["Localid","OBJ"]," ,",["Id","P-TABLE"]," ,",["Id","P-SRCALL"],">)"],["\t      (T"],["\t       <COND (<BTST ,",["Id","P-SLOCBITS"]," .",["Localid","BIT1"],">"],["\t\t      <",["Id","SEARCH-LIST"]," .",["Localid","OBJ"]," ,",["Id","P-TABLE"]," ,",["Id","P-SRCTOP"],">)"],["\t\t     (<BTST ,",["Id","P-SLOCBITS"]," .",["Localid","BIT2"],">"],["\t\t      <",["Id","SEARCH-LIST"]," .",["Localid","OBJ"]," ,",["Id","P-TABLE"]," ,",["Id","P-SRCBOT"],">)"],["\t\t     (T <RTRUE>)>)>>"],[],["<CONSTANT ",["Iddef","P-SRCBOT"]," 2>"],[],["<CONSTANT ",["Iddef","P-SRCTOP"]," 0>"],[],["<CONSTANT ",["Iddef","P-SRCALL"]," 1>"],[],["<ROUTINE ",["Iddef","SEARCH-LIST"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Localid","LVL"]," \"AUX\" ",["Localid","FLS"]," ",["Localid","NOBJ"],")"],["\t<COND (<SET ",["Localid","OBJ"]," <FIRST? .",["Localid","OBJ"],">>"],["\t       <REPEAT ()"],["\t\t       <COND (<AND <NOT <==? .",["Localid","LVL"]," ,",["Id","P-SRCBOT"],">>"],["\t\t\t\t   <GETPT .",["Localid","OBJ"]," ,",["Implid","P?SYNONYM"],">"],["\t\t\t\t   <",["Id","THIS-IT?"]," .",["Localid","OBJ"]," .",["Localid","TBL"],">>"],["\t\t\t      <",["Id","OBJ-FOUND"]," .",["Localid","OBJ"]," .",["Localid","TBL"],">)>"],["\t\t       <COND (<AND <OR <NOT <==? .",["Localid","LVL"]," ,",["Id","P-SRCTOP"],">>"],["\t\t\t\t       <FSET? .",["Localid","OBJ"]," ,",["Implid","SEARCHBIT"],">"],["\t\t\t\t       <FSET? .",["Localid","OBJ"]," ,",["Implid","SURFACEBIT"],">>"],["\t\t\t\t   <SET ",["Localid","NOBJ"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t\t\t   <OR <FSET? .",["Localid","OBJ"]," ,",["Implid","OPENBIT"],">"],["\t\t\t\t       <FSET? .",["Localid","OBJ"]," ,",["Implid","TRANSBIT"],">>>"],["\t\t\t      <SET ",["Localid","FLS"]],["\t\t\t\t   <",["Iddef","SEARCH-LIST"]," .",["Localid","OBJ"]],["\t\t\t\t\t\t.",["Localid","TBL"]],["\t\t\t\t\t\t<COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","SURFACEBIT"],">"],["\t\t\t\t\t\t       ,",["Id","P-SRCALL"],")"],["\t\t\t\t\t\t      (<FSET? .",["Localid","OBJ"]," ,",["Implid","SEARCHBIT"],">"],["\t\t\t\t\t\t       ,",["Id","P-SRCALL"],")"],["\t\t\t\t\t\t      (T ,",["Id","P-SRCTOP"],")>>>)>"],["\t\t       <COND (<SET ",["Localid","OBJ"]," <NEXT? .",["Localid","OBJ"],">>) (T <RETURN>)>>)>>"],[],["<ROUTINE ",["Iddef","OBJ-FOUND"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," \"AUX\" ",["Localid","PTR"],")"],["\t<SET ",["Localid","PTR"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t<PUT .",["Localid","TBL"]," <+ .",["Localid","PTR"]," 1> .",["Localid","OBJ"],">"],["\t<PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," <+ .",["Localid","PTR"]," 1>>>"],[],["<ROUTINE ",["Iddef","TAKE-CHECK"]," ()"],["\t<AND <",["Id","ITAKE-CHECK"]," ,",["Id","P-PRSO"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC1"],">>"],["\t     <",["Id","ITAKE-CHECK"]," ,",["Id","P-PRSI"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC2"],">>>>"],[],["<ROUTINE ",["Iddef","ITAKE-CHECK"]," (",["Localid","TBL"]," ",["Localid","IBITS"]," \"AUX\" ",["Localid","PTR"]," ",["Localid","OBJ"]," ",["Localid","TAKEN"],")"],["\t #DECL ((",["Localid","TBL"],") TABLE (",["Localid","IBITS"]," ",["Localid","PTR"],") FIX (",["Localid","OBJ"],") OBJECT"],["\t\t(",["Localid","TAKEN"],") <OR FALSE FIX ATOM>)"],["\t <COND (<AND <SET ",["Localid","PTR"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t\t     <OR <BTST .",["Localid","IBITS"]," ,",["Id","SHAVE"],">"],["\t\t\t <BTST .",["Localid","IBITS"]," ,",["Id","STAKE"],">>>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<L? <SET ",["Localid","PTR"]," <- .",["Localid","PTR"]," 1>> 0> <RETURN>)"],["\t\t\t      (T"],["\t\t\t       <SET ",["Localid","OBJ"]," <GET .",["Localid","TBL"]," <+ .",["Localid","PTR"]," 1>>>"],["\t\t\t       <COND (<==? .",["Localid","OBJ"]," ,",["Id","IT"],"> <SET ",["Localid","OBJ"]," ,",["Id","P-IT-OBJECT"],">)>"],["\t\t\t       <COND (<AND <NOT <",["Id","HELD?"]," .",["Localid","OBJ"],">>"],["\t\t\t\t\t   <NOT <==? .",["Localid","OBJ"]," ,",["Id","HANDS"],">>>"],["\t\t\t\t      <SETG ",["Id","PRSO"]," .",["Localid","OBJ"],">"],["\t\t\t\t      <COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","TRYTAKEBIT"],">"],["\t\t\t\t\t     <SET ",["Localid","TAKEN"]," T>)"],["\t\t\t\t\t    (<NOT <==? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t\t     <SET ",["Localid","TAKEN"]," <>>)"],["\t\t\t\t\t    (<AND <BTST .",["Localid","IBITS"]," ,",["Id","STAKE"],">"],["\t\t\t\t\t\t  <==? <",["Id","ITAKE"]," <>> T>>"],["\t\t\t\t\t     <SET ",["Localid","TAKEN"]," <>>)"],["\t\t\t\t\t    (T <SET ",["Localid","TAKEN"]," T>)>"],["\t\t\t\t      <COND (<AND .",["Localid","TAKEN"]],["\t\t\t\t\t\t  <BTST .",["Localid","IBITS"]," ,",["Id","SHAVE"],">"],["\t\t\t\t\t\t  <EQUAL? ,",["Id","WINNER"]],["\t\t\t\t\t\t\t  ,",["Id","ADVENTURER"],">>"],["\t\t\t\t\t     <COND (<EQUAL? .",["Localid","OBJ"]],["\t\t\t\t\t\t\t    ,",["Id","NOT-HERE-OBJECT"],">"],["\t\t\t\t\t\t    <TELL"],[["Str","\"You don't have that!\""]," CR>"],["\t\t\t\t\t\t    <RFALSE>)>"],["\t\t\t\t\t     <TELL ",["Str","\"You don't have the \""],">"],["\t\t\t\t\t     <PRINTD .",["Localid","OBJ"],">"],["\t\t\t\t\t     <TELL ",["Str","\".\""]," CR>"],["\t\t\t\t\t     <RFALSE>)"],["\t\t\t\t\t    (<AND <NOT .",["Localid","TAKEN"],">"],["\t\t\t\t\t\t  <==? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t\t     <TELL ",["Str","\"(Taken)\""]," CR>)>)>)>>)"],["\t       (T)>>"],[],["<ROUTINE ",["Iddef","MANY-CHECK"]," (\"AUX\" (",["Localid","LOSS"]," <>) ",["Localid","TMP"],")"],["\t<COND (<AND <G? <GET ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t    <NOT <BTST <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC1"],"> ,",["Id","SMANY"],">>>"],["\t       <SET ",["Localid","LOSS"]," 1>)"],["\t      (<AND <G? <GET ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t    <NOT <BTST <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC2"],"> ,",["Id","SMANY"],">>>"],["\t       <SET ",["Localid","LOSS"]," 2>)>"],["\t<COND (.",["Localid","LOSS"]],["\t       <TELL ",["Str","\"You can't use multiple \""],">"],["\t       <COND (<==? .",["Localid","LOSS"]," 2> <TELL ",["Str","\"in\""],">)>"],["\t       <TELL ",["Str","\"direct objects with \\\"\""],">"],["\t       <SET ",["Localid","TMP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"],">>"],["\t       <COND (<0? .",["Localid","TMP"],"> <TELL ",["Str","\"tell\""],">)"],["\t\t     (<OR ,",["Id","P-OFLAG"]," ,",["Id","P-MERGED"],">"],["\t\t      <PRINTB <GET .",["Localid","TMP"]," 0>>)"],["\t\t     (T"],["\t\t      <",["Id","WORD-PRINT"]," <GETB .",["Localid","TMP"]," 2> <GETB .",["Localid","TMP"]," 3>>)>"],["\t       <TELL ",["Str","\"\\\".\""]," CR>"],["\t       <RFALSE>)"],["\t      (T)>>"],[],["<ROUTINE ",["Iddef","ZMEMQ"]," (",["Localid","ITM"]," ",["Localid","TBL"]," \"OPTIONAL\" (",["Localid","SIZE"]," -1) \"AUX\" (",["Localid","CNT"]," 1))"],["\t<COND (<NOT .",["Localid","TBL"],"> <RFALSE>)>"],["\t<COND (<NOT <L? .",["Localid","SIZE"]," 0>> <SET ",["Localid","CNT"]," 0>)"],["\t      (ELSE <SET ",["Localid","SIZE"]," <GET .",["Localid","TBL"]," 0>>)>"],["\t<REPEAT ()"],["\t\t<COND (<==? .",["Localid","ITM"]," <GET .",["Localid","TBL"]," .",["Localid","CNT"],">> <RTRUE>)"],["\t\t      (<IGRTR? ",["Localid","CNT"]," .",["Localid","SIZE"],"> <RFALSE>)>>>"],[],["<ROUTINE ",["Iddef","ZMEMQB"]," (",["Localid","ITM"]," ",["Localid","TBL"]," ",["Localid","SIZE"]," \"AUX\" (",["Localid","CNT"]," 0))"],["\t<REPEAT ()"],["\t\t<COND (<==? .",["Localid","ITM"]," <GETB .",["Localid","TBL"]," .",["Localid","CNT"],">> <RTRUE>)"],["\t\t      (<IGRTR? ",["Localid","CNT"]," .",["Localid","SIZE"],"> <RFALSE>)>>>"],[],["<GLOBAL ",["Iddef","ALWAYS-LIT"]," <>>"],[],["<ROUTINE ",["Iddef","LIT?"]," (",["Localid","RM"]," \"OPTIONAL\" (",["Localid","RMBIT"]," T) \"AUX\" ",["Localid","OHERE"]," (",["Localid","LIT"]," <>))"],["\t<COND (<AND ,",["Id","ALWAYS-LIT"]," <EQUAL? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t       <RTRUE>)>"],["\t<SETG ",["Id","P-GWIMBIT"]," ,",["Implid","ONBIT"],">"],["\t<SET ",["Localid","OHERE"]," ,",["Id","HERE"],">"],["\t<SETG ",["Id","HERE"]," .",["Localid","RM"],">"],["\t<COND (<AND .",["Localid","RMBIT"]],["\t\t    <FSET? .",["Localid","RM"]," ,",["Implid","ONBIT"],">>"],["\t       <SET ",["Localid","LIT"]," T>)"],["\t      (T"],["\t       <PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t       <SETG ",["Id","P-TABLE"]," ,",["Id","P-MERGE"],">"],["\t       <SETG ",["Id","P-SLOCBITS"]," -1>"],["\t       <COND (<==? .",["Localid","OHERE"]," .",["Localid","RM"],">"],["\t\t      <",["Id","DO-SL"]," ,",["Id","WINNER"]," 1 1>"],["\t\t      <COND (<AND <NOT <EQUAL? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t\t\t\t  <IN? ,",["Id","PLAYER"]," .",["Localid","RM"],">>"],["\t\t\t     <",["Id","DO-SL"]," ,",["Id","PLAYER"]," 1 1>)>)>"],["\t       <",["Id","DO-SL"]," .",["Localid","RM"]," 1 1>"],["\t       <COND (<G? <GET ,",["Id","P-TABLE"]," ,",["Id","P-MATCHLEN"],"> 0> <SET ",["Localid","LIT"]," T>)>)>"],["\t<SETG ",["Id","HERE"]," .",["Localid","OHERE"],">"],["\t<SETG ",["Id","P-GWIMBIT"]," 0>"],["\t.",["Localid","LIT"],">"],[],["<ROUTINE ",["Iddef","PRSO-PRINT"]," (\"AUX\" ",["Localid","PTR"],")"],["\t <COND (<OR ,",["Id","P-MERGED"]],["\t\t    <==? <GET <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">> 0> ,W?IT>>"],["\t\t<TELL ",["Str","\" \""]," D ,",["Id","PRSO"],">)"],["\t       (T <",["Id","BUFFER-PRINT"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],"> <>>)>>"],[],["<ROUTINE ",["Iddef","PRSI-PRINT"]," (\"AUX\" ",["Localid","PTR"],")"],["\t <COND (<OR ,",["Id","P-MERGED"]],["\t\t    <==? <GET <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2"],">> 0> ,W?IT>>"],["\t\t<TELL ",["Str","\" \""]," D ,",["Id","PRSO"],">)"],["\t       (T <",["Id","BUFFER-PRINT"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2L"],"> <>>)>>"],[],[["Comment",";\"former CRUFTY routine, re-written by SWG\""]],[],["<ROUTINE ",["Iddef","THIS-IT?"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," \"AUX\" ",["Localid","SYNS"],")"],[" <COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","INVISIBLE"],"> <RFALSE>)"],["       (<AND ,",["Id","P-NAM"]],["\t     <NOT <",["Id","ZMEMQ"]," ,",["Id","P-NAM"]],["\t\t\t <SET ",["Localid","SYNS"]," <GETPT .",["Localid","OBJ"]," ,",["Implid","P?SYNONYM"],">>"],["\t\t\t <- </ <PTSIZE .",["Localid","SYNS"],"> 2> 1>>>>"],["\t<RFALSE>)"],["       (<AND ,",["Id","P-ADJ"]],["\t     <OR <NOT <SET ",["Localid","SYNS"]," <GETPT .",["Localid","OBJ"]," ,",["Implid","P?ADJECTIVE"],">>>"],["\t\t <NOT <",["Id","ZMEMQB"]," ,",["Id","P-ADJ"]," .",["Localid","SYNS"]," <- <PTSIZE .",["Localid","SYNS"],"> 1>>>>>"],["\t<RFALSE>)"],["       (<AND <NOT <0? ,",["Id","P-GWIMBIT"],">> <NOT <FSET? .",["Localid","OBJ"]," ,",["Id","P-GWIMBIT"],">>>"],["\t<RFALSE>)>"],[" <RTRUE>>"]],"gsyntax.zil":[["\t\t\t",["Str","\"Generic SYNTAX file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/21/83 by SEM\""]],[],["^L"],[],[["Str","\"Buzzwords, Prepositions and Directions\""]],[],["<BUZZ ",["Dict","A"]," ",["Dict","AN"]," ",["Dict","THE"]," ",["Dict","IS"]," ",["Dict","AND"]," ",["Dict","OF"]," ",["Dict","THEN"]," ",["Dict","ALL"]," ",["Dict","ONE"]," ",["Dict","BUT"]," ",["Dict","EXCEPT"]," ",["Dict","\\."]," ",["Dict","\\,"]," ",["Dict","\\\""]," ",["Dict","YES"]," ",["Dict","NO"]," ",["Dict","Y"]," ",["Dict","HERE"]],["      ",["Dict","FEEBLE"]," ",["Dict","FUMBLE"]," ",["Dict","FEAR"]," ",["Dict","FILCH"]," ",["Dict","FREEZE"]," ",["Dict","FALL"]," ",["Dict","FRY"]," ",["Dict","FLUORESCE"]],["      ",["Dict","FERMENT"]," ",["Dict","FIERCE"]," ",["Dict","FLOAT"]," ",["Dict","FIREPROOF"]," ",["Dict","FENCE"]," ",["Dict","FUDGE"]," ",["Dict","FANTASIZE"]],["      ",["Dict","FROTZ"]," ",["Dict","OZMOO"],">"],[],["<SYNONYM ",["Dict","WITH"]," ",["Dict","USING"]," ",["Dict","THROUGH"]," ",["Dict","THRU"],">"],["<SYNONYM ",["Dict","IN"]," ",["Dict","INSIDE"]," ",["Dict","INTO"],">"],["<SYNONYM ",["Dict","ON"]," ",["Dict","ONTO"],">"],["<SYNONYM ",["Dict","UNDER"]," ",["Dict","UNDERNEATH"]," ",["Dict","BENEATH"]," ",["Dict","BELOW"],">"],[],["<SYNONYM ",["Dict","NORTH"]," ",["Dict","N"],">"],["<SYNONYM ",["Dict","SOUTH"]," ",["Dict","S"],">"],["<SYNONYM ",["Dict","EAST"]," ",["Dict","E"],">"],["<SYNONYM ",["Dict","WEST"]," ",["Dict","W"],">"],["<SYNONYM ",["Dict","DOWN"]," ",["Dict","D"],">"],["<SYNONYM ",["Dict","UP"]," ",["Dict","U"],">"],["<SYNONYM ",["Dict","NW"]," ",["Dict","NORTHWEST"],">"],["<SYNONYM ",["Dict","NE"]," ",["Dict","NORTHE"],">"],["<SYNONYM ",["Dict","SW"]," ",["Dict","SOUTHWEST"],">"],["<SYNONYM ",["Dict","SE"]," ",["Dict","SOUTHE"],">"],[],["^L"],[],[["Str","\"Game Commands\""]],[],["<SYNTAX ",["Dict","VERBOSE"]," = ",["Id","V-VERBOSE"],">"],[],["<SYNTAX ",["Dict","BRIEF"]," = ",["Id","V-BRIEF"],">"],[],["<SYNTAX ",["Dict","SUPER"]," = ",["Id","V-SUPER-BRIEF"],">"],["<SYNONYM ",["Dict","SUPER"]," ",["Dict","SUPERBRIEF"],">"],[],["<SYNTAX ",["Dict","DIAGNOSE"]," = ",["Id","V-DIAGNOSE"],">"],[],["<SYNTAX ",["Dict","INVENTORY"]," = ",["Id","V-INVENTORY"],">"],["<SYNONYM ",["Dict","INVENTORY"]," ",["Dict","I"],">"],[],["<SYNTAX ",["Dict","QUIT"]," = ",["Id","V-QUIT"],">"],["<SYNONYM ",["Dict","QUIT"]," ",["Dict","Q"],">"],[],["<SYNTAX ",["Dict","RESTART"]," = ",["Id","V-RESTART"],">"],[],["<SYNTAX ",["Dict","RESTORE"]," = ",["Id","V-RESTORE"],">"],[],["<SYNTAX ",["Dict","SAVE"]," = ",["Id","V-SAVE"],">"],[],["<SYNTAX ",["Dict","SCORE"]," = ",["Id","V-SCORE"],">"],[],["<SYNTAX ",["Dict","SCRIPT"]," = ",["Id","V-SCRIPT"],">"],[],["<SYNTAX ",["Dict","UNSCRIPT"]," = ",["Id","V-UNSCRIPT"],">"],[],["<SYNTAX ",["Dict","VERSION"]," = ",["Id","V-VERSION"],">"],[],["<SYNTAX ",["Dict","$"],["Dict","VERIFY"]," = ",["Id","V-VERIFY"],">"],[],["<SYNTAX ",["Dict","DEBUG"]," = ",["Id","V-DEBUG"],">"],[],["^L"],[],[["Str","\"Real Verbs\""]],[],["<SYNTAX ",["Dict","ACTIVATE"]," OBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-LAMP-ON"],">"],[],["<SYNTAX ",["Dict","AGAIN"]," = ",["Id","V-AGAIN"],">"],["<SYNONYM ",["Dict","AGAIN"]," ",["Dict","G"],">"],[],["<SYNTAX ",["Dict","ANSWER"]," = ",["Id","V-ANSWER"],">"],["<SYNTAX ",["Dict","ANSWER"]," OBJECT = ",["Id","V-REPLY"],">"],["<SYNONYM ",["Dict","ANSWER"]," ",["Dict","REPLY"],">"],[],["<SYNTAX ",["Dict","APPLY"]," OBJECT ",["Dict","TO"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],[],["<SYNTAX ",["Dict","ATTACK"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ATTACK"],">"],["<SYNTAX ",["Dict","ATTACK"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-ATTACK"],">"],["<SYNONYM ",["Dict","ATTACK"]," ",["Dict","FIGHT"]," ",["Dict","HURT"]," ",["Dict","INJURE"]," ",["Dict","HIT"],">"],[],["<SYNTAX ",["Dict","BACK"]," = ",["Id","V-BACK"],">"],[],["<SYNTAX ",["Dict","BLAST"]," = ",["Id","V-BLAST"],">"],[],["<SYNTAX ",["Dict","BLOW"]," ",["Dict","OUT"]," OBJECT = ",["Id","V-LAMP-OFF"],">"],["<SYNTAX ",["Dict","BLOW"]," ",["Dict","UP"],"\tOBJECT ",["Dict","WITH"]],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-INFLATE"],">"],["<SYNTAX ",["Dict","BLOW"]," ",["Dict","UP"]," OBJECT = ",["Id","V-BLAST"],">"],["<SYNTAX ",["Dict","BLOW"]," ",["Dict","IN"]," OBJECT = ",["Id","V-BREATHE"],">"],[],["<SYNTAX ",["Dict","BOARD"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-BOARD"]," ",["Id","PRE-BOARD"],">"],[],["<SYNTAX ",["Dict","BRUSH"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-BRUSH"],">"],["<SYNTAX ",["Dict","BRUSH"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT = ",["Id","V-BRUSH"],">"],["<SYNONYM ",["Dict","BRUSH"]," ",["Dict","CLEAN"],">"],[],["<SYNTAX ",["Dict","BUG"]," = ",["Id","V-BUG"],">"],[],["<SYNTAX ",["Dict","BURN"]," OBJECT (FIND BURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE)"],["\t= ",["Id","V-BURN"]," ",["Id","PRE-BURN"],">"],["<SYNTAX ",["Dict","BURN"]," ",["Dict","DOWN"]," OBJECT (FIND BURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE)"],["\t= ",["Id","V-BURN"]," ",["Id","PRE-BURN"],">"],["<SYNONYM ",["Dict","BURN"]," ",["Dict","INCINERATE"]," ",["Dict","IGNITE"],">"],[],["<SYNTAX ",["Dict","CHOMP"]," = ",["Id","V-CHOMP"],">"],["<SYNONYM ",["Dict","CHOMP"]," ",["Dict","LOSE"]," ",["Dict","BARF"],">"],[],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","UP"]," OBJECT (FIND RMUNGBIT) = ",["Id","V-CLIMB-UP"],">"],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","UP"]," OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-UP"],">"],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","DOWN"]," (FIND RMUNGBIT) = ",["Id","V-CLIMB-DOWN"],">"],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","DOWN"]," OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-DOWN"],">"],["<SYNTAX ",["Dict","CLIMB"]," OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-FOO"],">"],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","IN"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-BOARD"]," ",["Id","PRE-BOARD"],">"],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","ON"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-ON"],">"],["<SYNTAX ",["Dict","CLIMB"]," ",["Dict","WITH"]," OBJECT = ",["Id","V-THROUGH"],">"],["<SYNONYM ",["Dict","CLIMB"]," ",["Dict","SIT"],">"],[],["<SYNTAX ",["Dict","CLOSE"]," OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-CLOSE"],">"],[],["<SYNTAX ",["Dict","COMMAND"]," OBJECT (FIND ACTORBIT) = ",["Id","V-COMMAND"],">"],[],["<SYNTAX ",["Dict","COUNT"]," OBJECT = ",["Id","V-COUNT"],">"],[],["<SYNTAX ",["Dict","CROSS"]," OBJECT = ",["Id","V-CROSS"],">"],["<SYNONYM ",["Dict","CROSS"]," ",["Dict","FORD"],">"],[],["<SYNTAX ",["Dict","CUT"]," OBJECT ",["Dict","WITH"]," OBJECT (FIND WEAPONBIT) (CARRIED HELD) = ",["Id","V-CUT"],">"],["<SYNONYM ",["Dict","CUT"]," ",["Dict","SLICE"]," ",["Dict","PIERCE"],">"],[],["<SYNTAX ",["Dict","CURSE"]," = ",["Id","V-CURSES"],">"],["<SYNTAX ",["Dict","CURSE"]," OBJECT (FIND ACTORBIT) = ",["Id","V-CURSES"],">"],["<SYNONYM ",["Dict","CURSE"]," ",["Dict","SHIT"]," ",["Dict","FUCK"]," ",["Dict","DAMN"],">"],[],["<SYNTAX ",["Dict","DEFLATE"]," OBJECT = ",["Id","V-DEFLATE"],">"],[],["<SYNTAX ",["Dict","DESTROY"]," OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\t",["Dict","WITH"]," OBJECT (HELD CARRIED TAKE)\t= ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],["<SYNTAX ",["Dict","DESTROY"]," ",["Dict","DOWN"]," OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\t",["Dict","WITH"]," OBJECT (HELD CARRIED TAKE)\t= ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],["<SYNTAX ",["Dict","DESTROY"]," ",["Dict","IN"]," OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-OPEN"],">"],["<SYNONYM ",["Dict","DESTROY"]," ",["Dict","DAMAGE"]," ",["Dict","BREAK"]," ",["Dict","BLOCK"]," ",["Dict","SMASH"],">"],[],["<SYNTAX ",["Dict","DIG"]," ",["Dict","IN"]," OBJECT = ",["Id","V-DIG"],">"],["<SYNTAX ",["Dict","DIG"]," OBJECT (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND TOOLBIT) (HELD CARRIED HAVE) = ",["Id","V-DIG"],">"],["<SYNTAX ",["Dict","DIG"]," ",["Dict","IN"]," OBJECT (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND TOOLBIT) (HELD CARRIED HAVE) = ",["Id","V-DIG"],">"],[],["<SYNTAX ",["Dict","DISEMBARK"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM)"],["\t= ",["Id","V-DISEMBARK"],">"],[],["<SYNTAX ",["Dict","DISENCHANT"]," OBJECT = ",["Id","V-DISENCHANT"],">"],[],["<SYNTAX ",["Dict","DRINK"]," OBJECT (FIND DRINKBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t= ",["Id","V-DRINK"],">"],["<SYNTAX ",["Dict","DRINK"]," ",["Dict","FROM"]," OBJECT (HELD CARRIED) = ",["Id","V-DRINK-FROM"],">"],["<SYNONYM ",["Dict","DRINK"]," ",["Dict","IMBIBE"]," ",["Dict","SWALLOW"],">"],[],["<SYNTAX ",["Dict","DROP"]," OBJECT (HELD MANY HAVE) = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX ",["Dict","DROP"]," OBJECT (HELD MANY HAVE) ",["Dict","DOWN"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","DROP"]," OBJECT (HELD MANY HAVE) ",["Dict","IN"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","DROP"]," OBJECT (HELD MANY HAVE) ",["Dict","ON"]," OBJECT = ",["Id","V-PUT-ON"]," ",["Id","PRE-PUT"],">"],["<SYNONYM ",["Dict","DROP"]," ",["Dict","RELEASE"],">"],[],["<SYNTAX ",["Dict","EAT"]," OBJECT (FIND FOODBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= ",["Id","V-EAT"],">"],["<SYNONYM ",["Dict","EAT"]," ",["Dict","CONSUME"]," ",["Dict","TASTE"]," ",["Dict","BITE"],">"],[],["<SYNTAX ",["Dict","ECHO"]," = ",["Id","V-ECHO"],">"],[],["<SYNTAX ",["Dict","ENCHANT"]," OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-ENCHANT"],">"],[],["<SYNTAX ",["Dict","ENTER"]," = ",["Id","V-ENTER"],">"],["<SYNTAX ",["Dict","ENTER"]," OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX ",["Dict","EXIT"]," = ",["Id","V-EXIT"],">"],["<SYNTAX ",["Dict","EXIT"]," OBJECT = ",["Id","V-EXIT"],">"],[],["<SYNTAX ",["Dict","EXAMINE"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-EXAMINE"],">"],["<SYNTAX ",["Dict","EXAMINE"]," ",["Dict","IN"]," OBJECT (HELD CARRIED IN-ROOM ON-GROUND MANY)"],["\t= ",["Id","V-LOOK-INSIDE"],">"],["<SYNTAX ",["Dict","EXAMINE"]," ",["Dict","ON"]," OBJECT (HELD CARRIED IN-ROOM ON-GROUND MANY)"],["\t= ",["Id","V-LOOK-INSIDE"],">"],["<SYNONYM ",["Dict","EXAMINE"]," ",["Dict","DESCRIBE"]," ",["Dict","WHAT"]," ",["Dict","WHATS"],">"],[],["<SYNTAX ",["Dict","EXORCISE"]," OBJECT = ",["Id","V-EXORCISE"],">"],["<SYNTAX ",["Dict","EXORCISE"]," ",["Dict","OUT"]," OBJECT (FIND ACTORBIT) = ",["Id","V-EXORCISE"],">"],["<SYNTAX ",["Dict","EXORCISE"]," ",["Dict","AWAY"]," OBJECT (FIND ACTORBIT) = ",["Id","V-EXORCISE"],">"],["<SYNONYM ",["Dict","EXORCISE"]," ",["Dict","BANISH"]," ",["Dict","CAST"]," ",["Dict","DRIVE"]," ",["Dict","BEGONE"],">"],[],["<SYNTAX ",["Dict","EXTINGUISH"]," OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-OFF"],">"],["<SYNONYM ",["Dict","EXTINGUISH"]," ",["Dict","DOUSE"],">"],[],["<SYNTAX ",["Dict","FILL"]," OBJECT (FIND CONTBIT) (TAKE HAVE HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT = ",["Id","V-FILL"]," ",["Id","PRE-FILL"],">"],["<SYNTAX ",["Dict","FILL"]," OBJECT (FIND CONTBIT)"],["\t(TAKE HAVE HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-FILL"]," ",["Id","PRE-FILL"],">"],[],["<SYNTAX ",["Dict","FIND"]," OBJECT = ",["Id","V-FIND"],">"],["<SYNONYM ",["Dict","FIND"]," ",["Dict","WHERE"]," ",["Dict","SEEK"]," ",["Dict","SEE"],">"],[],["<SYNTAX ",["Dict","FOLLOW"]," = ",["Id","V-FOLLOW"],">"],["<SYNTAX ",["Dict","FOLLOW"]," OBJECT = ",["Id","V-FOLLOW"],">"],["<SYNONYM ",["Dict","FOLLOW"]," ",["Dict","PURSUE"]," ",["Dict","CHASE"]," ",["Dict","COME"],">"],[],["<SYNTAX ",["Dict","FROBOZZ"]," = ",["Id","V-FROBOZZ"],">"],[],["<SYNTAX ",["Dict","GIVE"]," OBJECT (MANY HELD HAVE)"],["\t",["Dict","TO"]," OBJECT (FIND ACTORBIT) (ON-GROUND) = ",["Id","V-GIVE"]," ",["Id","PRE-GIVE"],">"],["<SYNTAX ",["Dict","GIVE"]," OBJECT (FIND ACTORBIT) (ON-GROUND)"],["\tOBJECT (MANY HELD HAVE)\t= ",["Id","V-SGIVE"]," ",["Id","PRE-SGIVE"],">"],["<SYNTAX ",["Dict","HAND"]," OBJECT (MANY HELD HAVE)"],["\t",["Dict","TO"]," OBJECT (FIND ACTORBIT) (ON-GROUND) = ",["Id","V-GIVE"]," ",["Id","PRE-GIVE"],">"],["<SYNTAX ",["Dict","HAND"]," OBJECT (FIND ACTORBIT) (ON-GROUND)"],["\tOBJECT (MANY HELD HAVE)\t= ",["Id","V-SGIVE"]," ",["Id","PRE-SGIVE"],">"],["<SYNONYM ",["Dict","GIVE"]," ",["Dict","DONATE"]," ",["Dict","OFFER"]," ",["Dict","FEED"],">"],[],["<SYNTAX ",["Dict","HATCH"]," OBJECT = ",["Id","V-HATCH"],">"],[],["<SYNTAX ",["Dict","HELLO"]," = ",["Id","V-HELLO"],">"],["<SYNTAX ",["Dict","HELLO"]," OBJECT = ",["Id","V-HELLO"],">"],["<SYNONYM ",["Dict","HELLO"]," ",["Dict","HI"],">"],[],["<SYNTAX ",["Dict","INCANT"]," = ",["Id","V-INCANT"],">"],["<SYNONYM ",["Dict","INCANT"]," ",["Dict","CHANT"],">"],[],["<SYNTAX ",["Dict","INFLAT"]," OBJECT ",["Dict","WITH"]],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-INFLATE"],">"],[],["<SYNTAX ",["Dict","IS"]," OBJECT ",["Dict","IN"]," OBJECT = ",["Id","V-IS-IN"],">"],["<SYNTAX ",["Dict","IS"]," OBJECT ",["Dict","ON"]," OBJECT = ",["Id","V-IS-IN"],">"],[],["<SYNTAX ",["Dict","JUMP"]," = ",["Id","V-LEAP"],">"],["<SYNTAX ",["Dict","JUMP"]," ",["Dict","OVER"]," OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX ",["Dict","JUMP"]," ",["Dict","ACROSS"]," OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX ",["Dict","JUMP"]," ",["Dict","IN"]," OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX ",["Dict","JUMP"]," ",["Dict","FROM"]," OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX ",["Dict","JUMP"]," ",["Dict","OFF"]," OBJECT = ",["Id","V-LEAP"],">"],["<SYNONYM ",["Dict","JUMP"]," ",["Dict","LEAP"]," ",["Dict","DIVE"],">"],[],["<SYNTAX ",["Dict","KICK"]," OBJECT = ",["Id","V-KICK"],">"],["<SYNONYM ",["Dict","KICK"]," ",["Dict","TAUNT"],">"],[],["<SYNTAX ",["Dict","KILL"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ATTACK"],">"],["<SYNTAX ",["Dict","KILL"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-ATTACK"],">"],["<SYNONYM ",["Dict","KILL"]," ",["Dict","MURDER"]," ",["Dict","SLAY"]," ",["Dict","DISPATCH"],">"],[],["<SYNTAX ",["Dict","STAB"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-STAB"],">"],["<SYNTAX ",["Dict","STAB"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-ATTACK"],">"],[],["<SYNTAX ",["Dict","KISS"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-KISS"],">"],[],["<SYNTAX ",["Dict","KNOCK"]," ",["Dict","AT"]," OBJECT = ",["Id","V-KNOCK"],">"],["<SYNTAX ",["Dict","KNOCK"]," ",["Dict","ON"]," OBJECT = ",["Id","V-KNOCK"],">"],["<SYNTAX ",["Dict","KNOCK"]," ",["Dict","DOWN"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ATTACK"],">"],["<SYNONYM ",["Dict","KNOCK"]," ",["Dict","RAP"],">"],[],["<SYNTAX ",["Dict","LAUNCH"]," OBJECT (FIND VEHBIT) = ",["Id","V-LAUNCH"],">"],[],["<SYNTAX ",["Dict","LEAN"]," ",["Dict","ON"]," OBJECT (HELD HAVE) = ",["Id","V-LEAN-ON"],">"],[],["<SYNTAX ",["Dict","LEAVE"]," = ",["Id","V-LEAVE"],">"],["<SYNTAX ",["Dict","LEAVE"]," OBJECT = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],[],["<SYNTAX ",["Dict","LIGHT"]," OBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-ON"],">"],["<SYNTAX ",["Dict","LIGHT"]," OBJECT (FIND LIGHTBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND FLAMEBIT) (HELD CARRIED TAKE HAVE) = ",["Id","V-BURN"]," ",["Id","PRE-BURN"],">"],[],["<SYNTAX ",["Dict","LISTEN"]," ",["Dict","TO"]," OBJECT = ",["Id","V-LISTEN"],">"],["<SYNTAX ",["Dict","LISTEN"]," ",["Dict","FOR"]," OBJECT = ",["Id","V-LISTEN"],">"],[],["<SYNTAX ",["Dict","LOCK"]," OBJECT (ON-GROUND IN-ROOM)\t",["Dict","WITH"]],["\tOBJECT (FIND TOOLBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE) = ",["Id","V-LOCK"],">"],[],["<SYNTAX ",["Dict","LOOK"]," = ",["Id","V-LOOK"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","AROUND"]," OBJECT (FIND RMUNGBIT) = ",["Id","V-LOOK"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","UP"]," OBJECT (FIND RMUNGBIT) = ",["Id","V-LOOK"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","DOWN"]," OBJECT (FIND RMUNGBIT) = ",["Id","V-LOOK"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","AT"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-EXAMINE"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","ON"]," OBJECT = ",["Id","V-LOOK-ON"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","WITH"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-LOOK-INSIDE"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","UNDER"]," OBJECT = ",["Id","V-LOOK-UNDER"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","BEHIND"]," OBJECT = ",["Id","V-LOOK-BEHIND"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","IN"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-LOOK-INSIDE"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","AT"]," OBJECT (HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT = ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX ",["Dict","LOOK"]," ",["Dict","FOR"]," OBJECT = ",["Id","V-FIND"],">"],["<SYNONYM ",["Dict","LOOK"]," ",["Dict","L"]," ",["Dict","STARE"]," ",["Dict","GAZE"],">"],[],["<SYNTAX ",["Dict","LOWER"]," OBJECT = ",["Id","V-LOWER"],">"],[],["<SYNTAX ",["Dict","LUBRICATE"]," OBJECT ",["Dict","WITH"]," OBJECT (HELD CARRIED) = ",["Id","V-OIL"],">"],["<SYNONYM ",["Dict","LUBRICATE"]," ",["Dict","OIL"]," ",["Dict","GREASE"],">"],[],["<SYNTAX ",["Dict","MAKE"]," OBJECT = ",["Id","V-MAKE"],">"],[],["<SYNTAX ",["Dict","MELT"]," OBJECT"],["\t",["Dict","WITH"]," OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-MELT"],">"],["<SYNONYM ",["Dict","MELT"]," ",["Dict","LIQUIFY"],">"],[],["<SYNTAX ",["Dict","MOVE"]," OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX ",["Dict","MOVE"]," OBJECT (HELD MANY HAVE) ",["Dict","IN"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","MOVE"]," OBJECT ",["Dict","WITH"]," OBJECT (FIND TOOLBIT) = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX ",["Dict","ROLL"]," ",["Dict","UP"]," OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],[],["<SYNTAX ",["Dict","MUMBLE"]," = ",["Id","V-MUMBLE"],">"],["<SYNONYM ",["Dict","MUMBLE"]," ",["Dict","SIGH"],">"],[],["<SYNTAX ",["Dict","ODYSSEUS"]," = ",["Id","V-ODYSSEUS"],">"],["<SYNONYM ",["Dict","ODYSSEUS"]," ",["Dict","ULYSSES"],">"],[],["<SYNTAX ",["Dict","OPEN"]," OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-OPEN"],">"],["<SYNTAX ",["Dict","OPEN"]," ",["Dict","UP"],"\tOBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t= ",["Id","V-OPEN"],">"],["<SYNTAX ",["Dict","OPEN"]," OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) ",["Dict","WITH"]],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE) = ",["Id","V-OPEN"],">"],[],["<SYNTAX ",["Dict","PICK"]," OBJECT = ",["Id","V-PICK"],">"],["<SYNTAX ",["Dict","PICK"]," OBJECT ",["Dict","WITH"]," OBJECT = ",["Id","V-PICK"],">"],["<SYNTAX ",["Dict","PICK"]," ",["Dict","UP"],"\tOBJECT (FIND TAKEBIT) (ON-GROUND MANY) = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],[],["<SYNTAX ",["Dict","PLAY"]," OBJECT = ",["Id","V-PLAY"],">"],[],["<SYNTAX ",["Dict","PLUG"]," OBJECT ",["Dict","WITH"]," OBJECT = ",["Id","V-PLUG"],">"],["<SYNONYM ",["Dict","PLUG"]," ",["Dict","GLUE"]," ",["Dict","PATCH"]," ",["Dict","REPAIR"]," ",["Dict","FIX"],">"],[],["<SYNTAX ",["Dict","PLUGH"]," = ",["Id","V-ADVENT"],">"],["<SYNONYM ",["Dict","PLUGH"]," ",["Dict","XYZZY"],">"],[],["<SYNTAX ",["Dict","POKE"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],["<SYNTAX ",["Dict","PUNCTURE"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],[],["<SYNTAX ",["Dict","POUR"]," OBJECT (HELD CARRIED) = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX ",["Dict","POUR"]," OBJECT (HELD CARRIED) ",["Dict","IN"]," OBJECT = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX ",["Dict","POUR"]," OBJECT (HELD CARRIED) ",["Dict","ON"]," OBJECT = ",["Id","V-POUR-ON"],">"],["<SYNTAX ",["Dict","POUR"]," OBJECT (HELD CARRIED) ",["Dict","FROM"]," OBJECT = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNONYM ",["Dict","POUR"]," ",["Dict","SPILL"],">"],[],["<SYNTAX ",["Dict","PRAY"]," = ",["Id","V-PRAY"],">"],[],["<SYNTAX ",["Dict","PULL"]," OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX ",["Dict","PULL"]," ",["Dict","ON"]," OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX ",["Dict","PULL"]," ",["Dict","UP"]," OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNONYM ",["Dict","PULL"]," ",["Dict","TUG"]," ",["Dict","YANK"],">"],[],["<SYNTAX ",["Dict","PUMP"]," ",["Dict","UP"]," OBJECT = ",["Id","V-PUMP"],">"],["<SYNTAX ",["Dict","PUMP"]," ",["Dict","UP"]," OBJECT ",["Dict","WITH"]," OBJECT = ",["Id","V-PUMP"],">"],[],["<SYNTAX ",["Dict","PUSH"]," OBJECT (IN-ROOM ON-GROUND) OBJECT = ",["Id","V-PUSH-TO"],">"],["<SYNTAX ",["Dict","PUSH"]," OBJECT (IN-ROOM ON-GROUND) ",["Dict","TO"]," OBJECT = ",["Id","V-PUSH-TO"],">"],["<SYNTAX ",["Dict","PUSH"]," OBJECT (IN-ROOM ON-GROUND MANY) = ",["Id","V-PUSH"],">"],["<SYNTAX ",["Dict","PUSH"]," ",["Dict","ON"]," OBJECT (IN-ROOM ON-GROUND MANY) = ",["Id","V-PUSH"],">"],["<SYNTAX ",["Dict","PUSH"]," OBJECT ",["Dict","WITH"]," OBJECT (FIND TOOLBIT) = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX ",["Dict","PUSH"]," OBJECT ",["Dict","UNDER"]," OBJECT = ",["Id","V-PUT-UNDER"],">"],["<SYNONYM ",["Dict","PUSH"]," ",["Dict","PRESS"],">"],[],["<SYNTAX ",["Dict","PUT"]," OBJECT (HELD MANY HAVE) ",["Dict","IN"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","PUT"]," OBJECT (HELD MANY HAVE) ",["Dict","ON"]," OBJECT = ",["Id","V-PUT-ON"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","PUT"]," ",["Dict","DOWN"]," OBJECT (HELD MANY) = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX ",["Dict","PUT"]," OBJECT (HELD HAVE) ",["Dict","UNDER"]," OBJECT = ",["Id","V-PUT-UNDER"],">"],["<SYNTAX ",["Dict","PUT"]," ",["Dict","OUT"]," OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-OFF"],">"],["<SYNTAX ",["Dict","PUT"]," ",["Dict","ON"]," OBJECT (IN-ROOM ON-GROUND CARRIED MANY) = ",["Id","V-WEAR"],">"],["<SYNTAX ",["Dict","PUT"]," OBJECT (HELD MANY HAVE) ",["Dict","BEHIND"]," OBJECT = ",["Id","V-PUT-BEHIND"],">"],["<SYNONYM ",["Dict","PUT"]," ",["Dict","STUFF"]," ",["Dict","INSERT"]," ",["Dict","PLACE"]," ",["Dict","HIDE"],">"],[],["<SYNTAX ",["Dict","RAISE"]," OBJECT = ",["Id","V-RAISE"],">"],["<SYNTAX ",["Dict","RAISE"]," ",["Dict","UP"]," OBJECT = ",["Id","V-RAISE"],">"],["<SYNONYM ",["Dict","RAISE"]," ",["Dict","LIFT"],">"],[],["<SYNTAX ",["Dict","RAPE"]," OBJECT (FIND ACTORBIT) = ",["Id","V-RAPE"],">"],["<SYNONYM ",["Dict","RAPE"]," ",["Dict","MOLEST"],">"],[],["<SYNTAX ",["Dict","READ"]," OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX ",["Dict","READ"]," ",["Dict","FROM"]," OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX ",["Dict","READ"]," OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t",["Dict","WITH"]," OBJECT = ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX ",["Dict","READ"]," OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\tOBJECT = ",["Id","V-READ-PAGE"],">"],["<SYNONYM ",["Dict","READ"]," ",["Dict","SKIM"],">"],[],["<SYNTAX ",["Dict","REPENT"]," = ",["Id","V-REPENT"],">"],[],["<SYNTAX ",["Dict","RING"]," OBJECT (TAKE) = ",["Id","V-RING"],">"],["<SYNTAX ",["Dict","RING"]," OBJECT (TAKE) ",["Dict","WITH"]," OBJECT = ",["Id","V-RING"],">"],["<SYNONYM ",["Dict","RING"]," ",["Dict","PEAL"],">"],[],["<SYNTAX ",["Dict","RUB"]," OBJECT = ",["Id","V-RUB"],">"],["<SYNTAX ",["Dict","RUB"]," OBJECT ",["Dict","WITH"]," OBJECT = ",["Id","V-RUB"],">"],["<SYNONYM ",["Dict","RUB"]," ",["Dict","TOUCH"]," ",["Dict","FEEL"]," ",["Dict","PAT"]," ",["Dict","PET"],">"],[],["<SYNTAX ",["Dict","TALK"]," ",["Dict","TO"]," OBJECT (FIND ACTORBIT) (IN-ROOM) = ",["Id","V-TELL"],">"],["<SYNTAX ",["Dict","SAY"]," = ",["Id","V-SAY"],">"],[],["<SYNTAX ",["Dict","SEARCH"]," OBJECT = ",["Id","V-SEARCH"],">"],["<SYNTAX ",["Dict","SEARCH"]," ",["Dict","IN"]," OBJECT = ",["Id","V-SEARCH"],">"],["<SYNTAX ",["Dict","SEARCH"]," ",["Dict","FOR"]," OBJECT = ",["Id","V-FIND"],">"],[],["<SYNTAX ",["Dict","SEND"]," ",["Dict","FOR"]," OBJECT = ",["Id","V-SEND"],">"],[],["<SYNTAX ",["Dict","SHAKE"]," OBJECT = ",["Id","V-SHAKE"],">"],[],["<SYNTAX ",["Dict","SKIP"]," = ",["Id","V-SKIP"],">"],["<SYNONYM ",["Dict","SKIP"]," ",["Dict","HOP"],">"],[],[["Comment",";<SYNTAX SLIDE OBJECT = V-PUSH>"]],["<SYNTAX ",["Dict","SLIDE"]," OBJECT ",["Dict","UNDER"]," OBJECT = ",["Id","V-PUT-UNDER"],">"],["<SYNTAX ",["Dict","SLIDE"]," OBJECT (IN-ROOM ON-GROUND) OBJECT = ",["Id","V-PUSH-TO"],">"],["<SYNTAX ",["Dict","SLIDE"]," OBJECT (IN-ROOM ON-GROUND) ",["Dict","TO"]," OBJECT = ",["Id","V-PUSH-TO"],">"],[],["<SYNTAX ",["Dict","SMELL"]," OBJECT = ",["Id","V-SMELL"],">"],["<SYNONYM ",["Dict","SMELL"]," ",["Dict","SNIFF"],">"],[],["<SYNTAX ",["Dict","SPIN"]," OBJECT = ",["Id","V-SPIN"],">"],[],["<SYNTAX ",["Dict","SPRAY"]," OBJECT ",["Dict","ON"]," OBJECT = ",["Id","V-SPRAY"],">"],["<SYNTAX ",["Dict","SPRAY"]," OBJECT ",["Dict","WITH"]," OBJECT = ",["Id","V-SSPRAY"],">"],[],["<SYNTAX ",["Dict","SQUEEZE"]," OBJECT = ",["Id","V-SQUEEZE"],">"],["<SYNTAX ",["Dict","SQUEEZE"]," OBJECT ",["Dict","ON"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],[],["<SYNTAX ",["Dict","STAND"]," = ",["Id","V-STAND"],">"],["<SYNTAX ",["Dict","STAND"]," ",["Dict","UP"]," OBJECT (FIND RMUNGBIT) = ",["Id","V-STAND"],">"],[],["<SYNTAX ",["Dict","STAY"]," = ",["Id","V-STAY"],">"],[],["<SYNTAX ",["Dict","STRIKE"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) ",["Dict","WITH"]," OBJECT"],["\t(FIND WEAPONBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE) = ",["Id","V-ATTACK"],">"],["<SYNTAX ",["Dict","STRIKE"]," OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-STRIKE"],">"],[],["<SYNTAX ",["Dict","SWIM"]," = ",["Id","V-SWIM"],">"],["<SYNTAX ",["Dict","SWIM"]," ",["Dict","IN"]," OBJECT = ",["Id","V-SWIM"],">"],["<SYNONYM ",["Dict","SWIM"]," ",["Dict","BATHE"]," ",["Dict","WADE"],">"],[],["<SYNTAX ",["Dict","SWING"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-SWING"],">"],["<SYNTAX ",["Dict","SWING"]," OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE)"],["\t",["Dict","AT"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-SWING"],">"],["<SYNONYM ",["Dict","SWING"]," ",["Dict","THRUST"],">"],[],["<SYNTAX ",["Dict","TAKE"]," OBJECT (FIND TAKEBIT) (ON-GROUND IN-ROOM MANY) = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNTAX ",["Dict","TAKE"]," ",["Dict","IN"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-BOARD"]," ",["Id","PRE-BOARD"],">"],["<SYNTAX ",["Dict","TAKE"]," ",["Dict","OUT"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-DISEMBARK"],">"],["<SYNTAX ",["Dict","TAKE"]," ",["Dict","ON"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-ON"],">"],["<SYNTAX ",["Dict","TAKE"]," ",["Dict","UP"]," OBJECT (FIND RMUNGBIT) = ",["Id","V-STAND"],">"],["<SYNTAX ",["Dict","TAKE"]," OBJECT (FIND TAKEBIT) (CARRIED IN-ROOM MANY)"],["\t",["Dict","OUT"]," OBJECT = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNTAX ",["Dict","TAKE"]," OBJECT (FIND TAKEBIT) (CARRIED IN-ROOM MANY)"],["\t",["Dict","OFF"]," OBJECT = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNTAX ",["Dict","TAKE"]," OBJECT (FIND TAKEBIT) (IN-ROOM CARRIED MANY)"],["\t",["Dict","FROM"]," OBJECT = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNONYM ",["Dict","TAKE"]," ",["Dict","GET"]," ",["Dict","HOLD"]," ",["Dict","CARRY"]," ",["Dict","REMOVE"]," ",["Dict","GRAB"]," ",["Dict","CATCH"],">"],[],["<SYNTAX ",["Dict","TELL"]," OBJECT (FIND ACTORBIT) (IN-ROOM) = ",["Id","V-TELL"],">"],["<SYNTAX ",["Dict","TELL"]," OBJECT (FIND ACTORBIT) (IN-ROOM) ",["Dict","ABOUT"]," OBJECT = ",["Id","V-TELL"],">"],["<SYNONYM ",["Dict","TELL"]," ",["Dict","ASK"],">"],[],["<SYNTAX ",["Dict","THROW"]," OBJECT (HELD CARRIED HAVE)"],["\t",["Dict","AT"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-THROW"],">"],["<SYNTAX ",["Dict","THROW"]," OBJECT (HELD CARRIED HAVE)"],["\t",["Dict","WITH"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-THROW"],">"],["<SYNTAX ",["Dict","THROW"]," OBJECT OBJECT = ",["Id","V-OVERBOARD"],">"],["<SYNTAX ",["Dict","THROW"]," OBJECT (HELD CARRIED HAVE) ",["Dict","IN"]," OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","THROW"]," OBJECT (HELD CARRIED HAVE) ",["Dict","ON"]," OBJECT = ",["Id","V-PUT-ON"]," ",["Id","PRE-PUT"],">"],["<SYNTAX ",["Dict","THROW"]," OBJECT (HELD CARRIED HAVE) ",["Dict","OFF"]," OBJECT = ",["Id","V-THROW-OFF"],">"],["<SYNTAX ",["Dict","THROW"]," OBJECT (HELD CARRIED HAVE) ",["Dict","OVER"]," OBJECT = ",["Id","V-THROW-OFF"],">"],["<SYNONYM ",["Dict","THROW"]," ",["Dict","HURL"]," ",["Dict","CHUCK"]," ",["Dict","TOSS"],">"],[],["<SYNTAX ",["Dict","TIE"]," OBJECT ",["Dict","TO"]," OBJECT = ",["Id","V-TIE"],">"],["<SYNTAX ",["Dict","TIE"]," ",["Dict","UP"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) ",["Dict","WITH"]," OBJECT"],["\t(FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE) = ",["Id","V-TIE-UP"],">"],["<SYNONYM ",["Dict","TIE"]," ",["Dict","FASTEN"]," ",["Dict","SECURE"]," ",["Dict","ATTACH"],">"],[],["<SYNTAX ",["Dict","TREASURE"]," = ",["Id","V-TREASURE"],">"],["<SYNONYM ",["Dict","TREASURE"]," ",["Dict","TEMPLE"],">"],[],["<SYNTAX ",["Dict","TURN"]," OBJECT (FIND TURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t",["Dict","WITH"]," OBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE)"],["\t= ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX ",["Dict","TURN"]," ",["Dict","ON"],"\tOBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-LAMP-ON"],">"],["<SYNTAX ",["Dict","TURN"]," ",["Dict","ON"]," OBJECT ",["Dict","WITH"]," OBJECT (HAVE) = ",["Id","V-LAMP-ON"],">"],["<SYNTAX ",["Dict","TURN"]," ",["Dict","OFF"]," OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-OFF"],">"],["<SYNTAX ",["Dict","TURN"]," OBJECT (FIND TURNBIT) ",["Dict","TO"]," OBJECT = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX ",["Dict","TURN"]," OBJECT (FIND TURNBIT) ",["Dict","FOR"]," OBJECT = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],[["Comment",";<SYNTAX TURN OBJECT (FIND TURNBIT) = V-TURN PRE-TURN>"]],["<SYNONYM ",["Dict","TURN"]," ",["Dict","SET"]," ",["Dict","FLIP"]," ",["Dict","SHUT"],">"],[],["<SYNTAX ",["Dict","UNLOCK"]," OBJECT (ON-GROUND IN-ROOM) ",["Dict","WITH"]," OBJECT"],["\t(FIND TOOLBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE) = ",["Id","V-UNLOCK"],">"],[],["<SYNTAX ",["Dict","UNTIE"]," OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-UNTIE"],">"],["<SYNTAX ",["Dict","UNTIE"]," OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\t",["Dict","FROM"]," OBJECT = ",["Id","V-UNTIE"],">"],["<SYNONYM ",["Dict","UNTIE"]," ",["Dict","FREE"]," ",["Dict","RELEASE"]," ",["Dict","UNFASTEN"]," ",["Dict","UNATTACH"]," ",["Dict","UNHOOK"],">"],[],["<SYNTAX ",["Dict","WAIT"]," = ",["Id","V-WAIT"],">"],["<SYNONYM ",["Dict","WAIT"]," ",["Dict","Z"],">"],[],["<SYNTAX ",["Dict","WAKE"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ALARM"],">"],["<SYNTAX ",["Dict","WAKE"]," ",["Dict","UP"]," OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ALARM"],">"],["<SYNONYM ",["Dict","WAKE"]," ",["Dict","AWAKE"]," ",["Dict","SURPRISE"]," ",["Dict","STARTLE"],">"],[],["<SYNTAX ",["Dict","WALK"]," OBJECT = ",["Id","V-WALK"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","AWAY"]," OBJECT = ",["Id","V-WALK"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","IN"]," OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","WITH"]," OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","ON"]," OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","OVER"]," OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","TO"]," OBJECT = ",["Id","V-WALK-TO"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","AROUND"]," OBJECT = ",["Id","V-WALK-AROUND"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","UP"]," OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-UP"],">"],["<SYNTAX ",["Dict","WALK"]," ",["Dict","DOWN"]," OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-DOWN"],">"],["<SYNONYM ",["Dict","WALK"]," ",["Dict","GO"]," ",["Dict","RUN"]," ",["Dict","PROCEED"]," ",["Dict","STEP"],">"],[],["<SYNTAX ",["Dict","WAVE"]," OBJECT (HELD CARRIED TAKE HAVE) = ",["Id","V-WAVE"],">"],["<SYNTAX ",["Dict","WAVE"]," OBJECT (HELD CARRIED TAKE HAVE) ",["Dict","AT"]," OBJECT = ",["Id","V-WAVE"],">"],["<SYNTAX ",["Dict","WAVE"]," ",["Dict","AT"]," OBJECT = ",["Id","V-WAVE"],">"],["<SYNONYM ",["Dict","WAVE"]," ",["Dict","BRANDISH"]," ",["Dict","POINT"]," ",["Dict","AIM"],">"],[],["<SYNTAX ",["Dict","WEAR"]," OBJECT = ",["Id","V-WEAR"],">"],[],["<SYNTAX ",["Dict","WIN"]," = ",["Id","V-WIN"],">"],["<SYNONYM ",["Dict","WIN"]," ",["Dict","WINNAGE"],">"],[],["<SYNTAX ",["Dict","WIND"]," OBJECT = ",["Id","V-WIND"],">"],["<SYNTAX ",["Dict","WIND"]," ",["Dict","UP"]," OBJECT = ",["Id","V-WIND"],">"],[],["<SYNTAX ",["Dict","WISH"]," = ",["Id","V-WISH"],">"],[],["<SYNTAX ",["Dict","YELL"]," = ",["Id","V-YELL"],">"],["<SYNONYM ",["Dict","YELL"]," ",["Dict","SCREAM"]," ",["Dict","SHOUT"],">"],[],["<SYNTAX ",["Dict","ZORK"]," = ",["Id","V-ZORK"],">"]],"gverbs.zil":[["\t\t\t",["Str","\"Generic VERBS file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/25/83 by SEM\""]],[],["^L"],[],[["Str","\"Verb Functions for Game Commands\""]],[],["<GLOBAL ",["Iddef","VERBOSE"]," <>>"],["<GLOBAL ",["Iddef","SUPER-BRIEF"]," <>>"],["<GDECL (",["Id","VERBOSE"]," ",["Id","SUPER-BRIEF"],") <OR ATOM FALSE>>"],[],["<ROUTINE ",["Iddef","V-VERBOSE"]," ()"],["\t <SETG ",["Id","VERBOSE"]," T>"],["\t <SETG ",["Id","SUPER-BRIEF"]," <>>"],["\t <TELL ",["Str","\"Maximum verbosity.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-BRIEF"]," ()"],["\t <SETG ",["Id","VERBOSE"]," <>>"],["\t <SETG ",["Id","SUPER-BRIEF"]," <>>"],["\t <TELL ",["Str","\"Brief descriptions.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SUPER-BRIEF"]," ()"],["\t <SETG ",["Id","SUPER-BRIEF"]," T>"],["\t <TELL ",["Str","\"Super-brief descriptions.\""]," CR>>"],[],[["Comment",";\"V-DIAGNOSE is in ACTIONS.ZIL\""]],[],["<ROUTINE ",["Iddef","V-INVENTORY"]," ()"],["\t <COND (<FIRST? ,",["Id","WINNER"],"> <",["Id","PRINT-CONT"]," ,",["Id","WINNER"],">)"],["\t       (T <TELL ",["Str","\"You are empty-handed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-QUIT"]," (\"OPTIONAL\" (",["Localid","ASK?"]," T) \"AUX\" ",["Localid","SCOR"],")"],["\t <",["Id","V-SCORE"],">"],["\t <COND (<OR <AND .",["Localid","ASK?"]],["\t\t\t <TELL"],[["Str","\"Do you wish to leave the game? (Y is affirmative): \""],">"],["\t\t\t <",["Id","YES?"],">>"],["\t\t    <NOT .",["Localid","ASK?"],">>"],["\t\t<QUIT>)"],["\t       (ELSE <TELL ",["Str","\"Ok.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-RESTART"]," ()"],["\t <",["Id","V-SCORE"]," T>"],["\t <TELL ",["Str","\"Do you wish to restart? (Y is affirmative): \""],">"],["\t <COND (<",["Id","YES?"],">"],["\t\t<TELL ",["Str","\"Restarting.\""]," CR>"],["\t\t<RESTART>"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-RESTORE"]," ()"],["\t <COND (<RESTORE>"],["\t\t<TELL ",["Str","\"Ok.\""]," CR>"],["\t\t<",["Id","V-FIRST-LOOK"],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-SAVE"]," ()"],["\t <COND (<SAVE>"],["\t        <TELL ",["Str","\"Ok.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],[["Comment",";\"V-SCORE is in ACTIONS.ZIL\""]],[],["<ROUTINE ",["Iddef","V-SCRIPT"]," ()"],["\t<PUT 0 8 <BOR <GET 0 8> 1>>"],["\t<TELL ",["Str","\"Here begins a transcript of interaction with\""]," CR>"],["\t<",["Id","V-VERSION"],">"],["\t<RTRUE>>"],[],["<ROUTINE ",["Iddef","V-UNSCRIPT"]," ()"],["\t<TELL ",["Str","\"Here ends a transcript of interaction with\""]," CR>"],["\t<",["Id","V-VERSION"],">"],["\t<PUT 0 8 <BAND <GET 0 8> -2>>"],["\t<RTRUE>>"],[],["<ROUTINE ",["Iddef","V-VERSION"]," (\"AUX\" (",["Localid","CNT"]," 17))"],["\t%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t'<TELL \"ZORK I: The Great Underground Empire|"]],[["Ifndef","Copyright (c) 1981, 1982, 1983 Infocom, Inc. \">)"]],["\t       (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t'<TELL ",["Str","\"ZORK II: The Wizard of Frobozz|"]],[["Str","Copyright (c) 1981, 1982, 1983 Infocom, Inc. \""],">)"],["\t       ",["Ifndef","(T"]],[["Ifndef","\t\t'<TELL \"ZORK III: The Dungeon Master|"]],[["Ifndef","Copyright (c) 1982, 1983 Infocom, Inc. \">)"],">"],["\t<TELL ",["Str","\"All rights reserved.\""]," CR>"],["\t<COND (<NOT <==? <BAND <GETB 0 1> 8> 0>>"],["\t       <TELL ",["Str","\"Licensed to Tandy Corporation.\""]," CR>)>"],["\t<TELL ",["Str","\"ZORK is a registered trademark of Infocom, Inc.|"]],[["Str","Version \""],">"],["\t<PRINTN <BAND <GET 0 1> *3777*>>"],["\t<TELL ",["Str","\" / Serial number \""],">"],["\t<REPEAT ()"],["\t\t<COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> 23>"],["\t\t       <RETURN>)"],["\t\t      (T"],["\t\t       <PRINTC <GETB 0 .",["Localid","CNT"],">>)>>"],["\t<CRLF>>"],[],["<ROUTINE ",["Iddef","V-VERIFY"]," ()"],["\t <TELL ",["Str","\"Verifying disk...\""]," CR>"],["\t <COND (<VERIFY>"],["\t\t<TELL ",["Str","\"The disk is correct.\""]," CR>)"],["\t       (T"],["\t\t<TELL CR ",["Str","\"** Disk Failure **\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-DEBUG"]," ()"],["\t <TELL ",["Str","\"Turning debugging feature \""],">"],["\t <COND (,",["Id","DEBUG"]],["\t\t<SETG ",["Id","DEBUG"]," <>>"],["\t\t<TELL ",["Str","\"off\""],">)"],["\t       (T"],["\t\t<SETG ",["Id","DEBUG"]," T>"],["\t\t<TELL ",["Str","\"on\""],">)>"],["\t <TELL ",["Str","\".\""]," CR>>"],[],["^L"],[],[["Str","\"Real Verb Functions\""]],[],["<ROUTINE ",["Iddef","V-ADVENT"]," ()"],["\t <TELL ",["Str","\"A hollow voice says \\\"Fool.\\\"\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-AGAIN"]," (\"AUX\" (",["Localid","OBJ"]," <>))"],["\t <COND (<EQUAL? ,",["Id","L-PRSA"]," ,V?WALK>"],["\t\t<",["Id","PERFORM"]," ,",["Id","L-PRSA"]," ,",["Id","L-PRSO"],">)"],["\t       (T"],["\t\t<COND (,",["Id","L-PRSO"]],["\t\t       <COND (<OR <NOT <LOC ,",["Id","L-PRSO"],">>"],["\t\t\t\t  <FSET? ,",["Id","L-PRSO"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t      <SET ",["Localid","OBJ"]," ,",["Id","L-PRSO"],">)>)>"],["\t\t<COND (,",["Id","L-PRSI"]],["\t\t       <COND (<OR <NOT <LOC ,",["Id","L-PRSI"],">>"],["\t\t\t\t  <FSET? ,",["Id","L-PRSI"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t      <SET ",["Localid","OBJ"]," ,",["Id","L-PRSI"],">)>)>"],["\t\t<COND (<AND .",["Localid","OBJ"]],["\t\t\t    <NOT <EQUAL? .",["Localid","OBJ"]," ,",["Id","PSEUDO-OBJECT"]," ,",["Id","ROOMS"],">>>"],["\t\t       <TELL ",["Str","\"You can't see the \""]," D .",["Localid","OBJ"]," ",["Str","\" anymore.\""]," CR>"],["\t\t       <RFATAL>)"],["\t\t      (T"],["\t\t       <",["Id","PERFORM"]," ,",["Id","L-PRSA"]," ,",["Id","L-PRSO"]," ,",["Id","L-PRSI"],">)>)>>"],[],["<ROUTINE ",["Iddef","V-ALARM"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t\t      '(<L? <GETP ,PRSO ,P?STRENGTH> 0>"]],[["Ifndef","\t\t                <TELL \"The \" D ,PRSO \" is rudely awakened.\" CR>"]],[["Ifndef","\t\t                <AWAKEN ,PRSO>))"]],["\t\t\t     (T"],["\t\t\t      '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"He's wide awake, or haven't you noticed...\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" isn't sleeping.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-ANSWER"]," ()"],["\t <TELL ",["Str","\"Nobody seems to be awaiting your answer.\""]," CR>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-ATTACK"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">>"],["\t\t<TELL"],[["Str","\"I've known strange people, but fighting a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)"],["\t       (<OR <NOT ,",["Id","PRSI"],">"],["\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","HANDS"],">>"],["\t\t<TELL"],[["Str","\"Trying to attack a \""]," D ,",["Id","PRSO"]," ",["Str","\" with your bare hands is suicidal.\""]," CR>)"],["\t       (<NOT <IN? ,",["Id","PRSI"]," ,",["Id","WINNER"],">>"],["\t\t<TELL ",["Str","\"You aren't even holding the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t       (<NOT <FSET? ,",["Id","PRSI"]," ,",["Implid","WEAPONBIT"],">>"],["\t\t<TELL"],[["Str","\"Trying to attack the \""]," D ,",["Id","PRSO"]," ",["Str","\" with a \""]," D ,",["Id","PRSI"]," ",["Str","\" is suicidal.\""]," CR>)"],["\t       (T"],["\t        %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t\t'<HERO-BLOW>)"]],["\t\t       (T"],["\t\t\t'<TELL ",["Str","\"You can't.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","V-BACK"]," ()"],["\t <TELL ",["Str","\"Sorry, my memory is poor. Please give a direction.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-BLAST"]," ()"],["\t <TELL ",["Str","\"You can't blast anything by using words.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-BOARD"]," (\"AUX\" ",["Localid","AV"],")"],["\t <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,WATER-CHANNEL>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","VEHBIT"],">"],["\t\t<COND (<NOT <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" must be on the ground to be boarded.\""]," CR>)"],["\t\t      (<FSET? .",["Localid","AV"]," ,",["Implid","VEHBIT"],">"],["\t\t       <TELL ",["Str","\"You are already in the \""]," D .",["Localid","AV"]," ",["Str","\"!\""]," CR>)"],["\t\t      (T"],["\t\t       <RFALSE>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You have a theory on how to board a \""]," D ,",["Id","PRSO"]," ",["Str","\", perhaps?\""]," CR>)>"],["\t <RFATAL>>"],[],["<ROUTINE ",["Iddef","V-BOARD"]," (\"AUX\" ",["Localid","AV"],")"],["\t <TELL ",["Str","\"You are now in the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t <MOVE ,",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t <APPLY <GETP ,",["Id","PRSO"]," ,",["Implid","P?ACTION"],"> ,",["Id","M-ENTER"],">"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-BREATHE"]," ()"],["\t <",["Id","PERFORM"]," ,V?INFLATE ,",["Id","PRSO"]," ,",["Id","LUNGS"],">>"],[],["<ROUTINE ",["Iddef","V-BRUSH"]," ()"],["\t <TELL ",["Str","\"If you wish, but heaven only knows why.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-BUG"]," ()"],["\t <TELL"],[["Str","\"Bug? Not in a flawless program like this! (Cough, cough).\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-BURN"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"You should say what you want to burn it with.\""]," CR>)"],["\t       (<FLAMING? ,",["Id","PRSI"],">"],["\t        <RFALSE>)"],["\t       (T"],["\t        <TELL ",["Str","\"With a \""]," D ,",["Id","PRSI"]," ",["Str","\"??!?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-BURN"]," ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t       '(<EQUAL? <LOC ,",["Id","PRSO"],"> ,",["Id","RECEPTACLE"],">"],["\t\t         <",["Id","BALLOON-BURN"],">"],["\t\t         <RTRUE>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RFALSE>))"],">"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","BURNBIT"],">"],["\t\t<COND (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"],">"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\" catches fire. Unfortunately, you were holding it at the time.\""],">)"],["\t\t      (T"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" catches fire and is consumed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't burn a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CHOMP"]," ()"],["\t <TELL ",["Str","\"Preposterous!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-CLIMB-DOWN"]," () <",["Id","V-CLIMB-UP"]," ,",["Implid","P?DOWN"]," ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-CLIMB-FOO"]," ()"],["\t <",["Id","V-CLIMB-UP"]," ,",["Implid","P?UP"]," ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-CLIMB-ON"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<FSET? ,PRSO ,VEHBIT>"]],[["Ifndef","\t\t\t <V-CLIMB-UP ,P?UP ,PRSO>))"]],["\t\t      (T"],["\t\t       '(<FSET? ,",["Id","PRSO"]," ,",["Implid","VEHBIT"],">"],["\t\t\t <",["Id","PERFORM"]," ,V?BOARD ,",["Id","PRSO"],">"],["\t\t\t <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't climb onto the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CLIMB-UP"]," (\"OPTIONAL\" (",["Localid","DIR"]," ,",["Implid","P?UP"],") (",["Localid","OBJ"]," <>) \"AUX\" ",["Localid","X"]," ",["Localid","TX"],")"],["\t <COND (<AND <NOT .",["Localid","OBJ"],"> ,",["Id","PRSO"],">"],["\t\t<SET ",["Localid","OBJ"]," ,",["Id","PRSO"],">)>"],["\t <COND (<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","DIR"],">>"],["\t\t<COND (.",["Localid","OBJ"]],["\t\t       <SET ",["Localid","X"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t       <COND (<OR <EQUAL? .",["Localid","X"]," ,",["Id","NEXIT"],">"],["\t\t\t\t  <AND <EQUAL? .",["Localid","X"]," ,",["Id","CEXIT"]," ,",["Id","DEXIT"]," ,",["Id","UEXIT"],">"],["\t\t\t\t       <NOT <",["Id","GLOBAL-IN?"]," ,",["Id","PRSO"]," <GETB .",["Localid","TX"]," 0>>>>>"],["\t\t\t      <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" do\""],">"],["\t\t\t      <COND (<NOT <EQUAL? .",["Localid","OBJ"]," ,",["Id","STAIRS"],">>"],["\t\t\t\t     <TELL ",["Str","\"es\""],">)>"],["\t\t\t      <TELL ",["Str","\"n't lead \""],">"],["\t\t\t      <COND (<==? .",["Localid","DIR"]," ,",["Implid","P?UP"],">"],["\t\t\t\t     <TELL ",["Str","\"up\""],">)"],["\t\t\t\t    (T <TELL ",["Str","\"down\""],">)>"],["\t\t\t      <TELL ",["Str","\"ward.\""]," CR>"],["\t\t\t      <RTRUE>)>)>"],["\t\t<",["Id","DO-WALK"]," .",["Localid","DIR"],">"],["\t\t<RTRUE>)"],["\t       (<NOT .",["Localid","OBJ"],">"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>)"],["\t       (<AND .",["Localid","OBJ"]],["\t\t     <",["Id","ZMEMQ"]," ,W?WALL"],["\t\t\t    <SET ",["Localid","X"]," <GETPT ,",["Id","PRSO"]," ,",["Implid","P?SYNONYM"],">> <PTSIZE .",["Localid","X"],">>>"],["\t\t<TELL ",["Str","\"Climbing the walls is to no avail.\""]," CR>)"],["\t       (T"],["\t        <TELL ",["Str","\"You can't do that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CLOSE"]," ()"],["\t <COND (<AND <NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","CONTBIT"],">>"],["\t\t     <NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">>>"],["\t\t<TELL ",["Str","\"You must tell me how to do that to a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t       (<AND <NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","SURFACEBIT"],">>"],["\t\t     <NOT <EQUAL? <GETP ,",["Id","PRSO"]," ,",["Implid","P?CAPACITY"],"> 0>>>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <FCLEAR ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"Closed.\""]," CR>"],["\t\t       <COND (<AND ,",["Id","LIT"]," <NOT <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>>>"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t \t       <TELL ",["Str","\"It is already closed.\""]," CR>)>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <FCLEAR ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now closed.\""]," CR>)"],["\t\t      (T"],["\t \t       <TELL ",["Str","\"It is already closed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You cannot close that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-COMMAND"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" pays no attention.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You cannot talk to that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-COUNT"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BLESSINGS"],">"],["\t \t<TELL ",["Str","\"Well, for one, you are playing Zork...\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You have lost your mind.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CROSS"]," ()"],["\t <TELL ",["Str","\"You can't cross that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-CURSES"]," ()"],["\t <COND (,",["Id","PRSO"]],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t       <TELL ",["Str","\"Insults of this nature won't help you.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"What a loony!\""]," CR>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"Such language in a high-class establishment like this!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CUT"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSO"]," ,",["Id","PRSI"],">)"],["\t       (<AND <FSET? ,",["Id","PRSO"]," ,",["Implid","BURNBIT"],">"],["\t\t     <FSET? ,",["Id","PRSI"]," ,",["Implid","WEAPONBIT"],">>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"Your skillful \""]," D ,",["Id","PRSI"]," ",["Str","\"smanship slices the \""]," D ,",["Id","PRSO"]],[["Str","\" into innumerable slivers which blow away.\""]," CR>)"],["\t       (<NOT <FSET? ,",["Id","PRSI"]," ,",["Implid","WEAPONBIT"],">>"],["\t\t<TELL"],[["Str","\"The \\\"cutting edge\\\" of a \""]," D ,",["Id","PRSI"]," ",["Str","\" is hardly adequate.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Strange concept, cutting the \""]," D ,",["Id","PRSO"]," ",["Str","\"....\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-DEFLATE"]," ()"],["\t <TELL ",["Str","\"Come on, now!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-DIG"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<SETG ",["Id","PRSI"]," ,",["Id","HANDS"],">)>"],["\t <COND (<FSET? ,",["Id","PRSI"]," ,",["Implid","TOOLBIT"],">"],["\t\t<TELL ",["Str","\"Digging with the \""]," D ,",["Id","PRSI"]," ",["Str","\" is slow and tedious.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Digging with a \""]," D ,",["Id","PRSI"]," ",["Str","\" is silly.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-DISEMBARK"]," ()"],["\t <COND (<NOT <EQUAL? <LOC ,",["Id","WINNER"],"> ,",["Id","PRSO"],">>"],["\t\t<TELL ",["Str","\"You're not in that!\""]," CR>"],["\t\t<RFATAL>)"],["\t       (<FSET? ,",["Id","HERE"]," ,",["Implid","RLANDBIT"],">"],["\t\t<TELL ",["Str","\"You are on your own feet again.\""]," CR>"],["\t\t<MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You realize that getting out here would be fatal.\""]," CR>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE ",["Iddef","V-DISENCHANT"]," ()"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<COND (<NOT <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">>"],["\t\t         <RTRUE>)"],["\t                (<OR <EQUAL? ,",["Id","SPELL-USED"]," ,W?FEEBLE ,W?FUMBLE ,W?FEAR>"],["\t\t          <EQUAL? ,",["Id","SPELL-USED"]," ,W?FREEZE ,W?FALL ,W?FERMENT>"],["\t\t          <EQUAL? ,",["Id","SPELL-USED"]," ,W?FIERCE ,W?FENCE ,W?FANTASIZE>>"],["\t\t          <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t                 <COND (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FEEBLE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" seems stronger now.\""]," CR>)"],["\t\t\t               (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FUMBLE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" no longer appears clumsy.\""]," CR>)"],["\t\t\t               (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FEAR>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" no longer appears afraid.\""]," CR>)"],["\t\t\t               (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FREEZE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" moves again.\""]," CR>)"],["\t\t\t               (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FERMENT>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" stops swaying.\""]," CR>)"],["\t\t\t               (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FIERCE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" appears more peaceful.\""]," CR>)>)>)"],["\t                        (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>"],["\t\t                 <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" sinks to the ground.\""]," CR>)"],["\t                        (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FUDGE>"],["\t\t                 <TELL ",["Str","\"The sweet smell has dispersed.\""]," CR>)>)"],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<TELL \"Nothing happens.\" CR>)"],">>"],[],["<ROUTINE ",["Iddef","V-DRINK"]," ()"],["\t <",["Id","V-EAT"],">>"],[],["<ROUTINE ",["Iddef","V-DRINK-FROM"]," ()"],["\t <TELL ",["Str","\"How peculiar!\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-DROP"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<",["Id","PERFORM"]," ,V?DISEMBARK ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-DROP"]," ()"],["\t <COND (<",["Id","IDROP"],">"],["\t\t<TELL ",["Str","\"Dropped.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-EAT"]," (\"AUX\" (",["Localid","EAT?"]," <>) (",["Localid","DRINK?"]," <>) (",["Localid","NOBJ"]," <>))"],["\t <COND (<AND <SET ",["Localid","EAT?"]," <FSET? ,",["Id","PRSO"]," ,",["Implid","FOODBIT"],">> <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">>"],["\t\t<COND (<VERB? DRINK>"],["\t\t       <TELL ",["Str","\"How can you drink that?\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Thank you very much. It really hit the spot.\""],">"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">)>"],["\t\t<CRLF>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","DRINKBIT"],">"],["\t\t<SET ",["Localid","DRINK?"]," T>"],["\t\t<SET ",["Localid","NOBJ"]," <LOC ,",["Id","PRSO"],">>"],["\t\t<COND (<OR <IN? ,",["Id","PRSO"]," ,",["Id","GLOBAL-OBJECTS"],">"],["\t\t\t   <IN? ,",["Id","PRSO"]," ,",["Id","LOCAL-GLOBALS"],">"],["\t\t\t   <",["Id","GLOBAL-IN?"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","HERE"],">"],["\t\t\t   <EQUAL? ,",["Id","PRSO"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t       <",["Id","HIT-SPOT"],">)"],["\t\t      (<NOT .",["Localid","NOBJ"],">"],["\t\t       <TELL"],[["Str","\"There isn't any water here.\""]," CR>)"],["\t\t      (<NOT <IN? .",["Localid","NOBJ"]," ,",["Id","WINNER"],">>"],["\t\t       <TELL"],[["Str","\"You have to be holding the \""]," D .",["Localid","NOBJ"]," ",["Str","\" first.\""]," CR>)"],["\t\t      (<NOT <FSET? .",["Localid","NOBJ"]," ,",["Implid","OPENBIT"],">>"],["\t\t       <TELL"],[["Str","\"You'll have to open the \""]," D .",["Localid","NOBJ"]," ",["Str","\" first.\""]," CR>)"],["\t\t      (T"],["\t\t       <",["Id","HIT-SPOT"],">)>)"],["\t       (<NOT <OR .",["Localid","EAT?"]," .",["Localid","DRINK?"],">>"],["\t\t<TELL"],[["Str","\"I don't think that the \""]," D ,",["Id","PRSO"]," ",["Str","\" would agree with you.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","HIT-SPOT"]," ()"],["\t <TELL"],[["Str","\"Thank you very much. I was rather thirsty (from all this talking,"]],[["Str","probably).\""]," CR>"],["         <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t     <NOT <",["Id","GLOBAL-IN?"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","HERE"],">>>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">)>>"],[],["<ROUTINE ",["Iddef","V-ECHO"]," (\"AUX\" ",["Localid","LST"]," ",["Localid","MAX"]," (",["Localid","ECH"]," 0) ",["Localid","CNT"],")"],["\t #DECL ((",["Localid","LST"],") <PRIMTYPE VECTOR> (",["Localid","MAX"]," ",["Localid","CNT"]," ",["Localid","ECH"],") FIX)"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t '<COND (<G? <GETB ,P-LEXV ,P-LEXWORDS> 0>"]],[["Ifndef","\t                 <SET LST <REST"]],[["Ifndef","\t\t\t\t   ,P-LEXV"]],[["Ifndef","\t\t\t\t   <* <GETB ,P-LEXV ,P-LEXWORDS> ,P-WORDLEN>>>"]],[["Ifndef","\t                 <SET MAX <- <+ <GETB .LST 0> <GETB .LST 1>> 1>>"]],[["Ifndef","\t                 <REPEAT ()"]],[["Ifndef","\t\t            <COND (<G? <SET ECH <+ .ECH 1>> 2>"]],[["Ifndef","\t\t\t           <TELL \"...\" CR>"]],[["Ifndef","\t\t\t\t   <RETURN>)"]],[["Ifndef","\t\t\t          (T"]],[["Ifndef","\t\t\t           <SET CNT <- <GETB .LST 1> 1>>"]],[["Ifndef","\t\t\t           <REPEAT ()"]],[["Ifndef","\t\t\t\t      <COND (<G? <SET CNT <+ .CNT 1>> .MAX>"]],[["Ifndef","\t\t\t\t\t     <RETURN>)"]],[["Ifndef","\t\t\t\t\t    (T"]],[["Ifndef","\t\t\t\t\t     <PRINTC <GETB ,P-INBUF .CNT>>)>>"]],[["Ifndef","\t\t\t           <TELL \" \">)>>)"]],[["Ifndef","\t\t\t(T <TELL \"echo echo ...\" CR>)>)"]],["\t\t(T"],["\t\t '<TELL ",["Str","\"echo echo ...\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-ENCHANT"]," ()"],["%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t'<COND (,",["Id","WAND-ON"]," <SETG ",["Id","SPELL-VICTIM"]," ,",["Id","WAND-ON"],">)>)"],["       ",["Ifndef","(T"]],[["Ifndef","\t'<NULL-F>)"],">"],["%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t'<COND (,",["Id","SPELL-VICTIM"]],["\t\t<COND (<NOT ,",["Id","SPELL-USED"],">"],["\t\t       <TELL ",["Str","\"You must be more specific.\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<COND (<OR <EQUAL? ,",["Id","SPELL-USED"]," ,W?FEEBLE ,W?FUMBLE ,W?FEAR>"],["\t\t\t   <EQUAL? ,",["Id","SPELL-USED"]," ,W?FREEZE ,W?FALL ,W?FERMENT>"],["\t\t\t   <EQUAL? ,",["Id","SPELL-USED"]," ,W?FIERCE ,W?FENCE ,W?FANTASIZE>>"],["\t\t       <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t\t      <TELL"],[["Str","\"The wand stops glowing, but there is no other obvious effect.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"That might have done something, but it's hard to tell with a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>)"],["\t\t      ",["Comment",";(<EQUAL? ,SPELL-USED ,W?FIREPROOF>"]],[["Comment","\t\t       <RTRUE>)"]],["\t\t      (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FUDGE>"],["\t\t       <TELL"],[["Str","\"A strong odor of chocolate permeates the room.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FLUORESCE>"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","LIGHTBIT"],">"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","ONBIT"],">"],["\t\t       <SETG ",["Id","LIT"]," T>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" begins to glow.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FILCH>"],["\t\t       <SETG ",["Id","SPELL-HANDLED?"]," T>"],["\t\t       <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">"],["\t\t\t      <MOVE ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t\t      <",["Id","SCORE-OBJ"]," ,",["Id","PRSO"],">"],["\t\t\t      <TELL ",["Str","\"Filched!\""]," CR>)"],["\t\t\t     (ELSE"],["\t\t\t      <TELL ",["Str","\"You can't filch the \""]," D ,",["Id","PRSO"]," ",["Str","\"!\""]," CR>)>)"],["\t\t      (<AND <EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>"],["\t\t\t    <FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">>"],["\t\t       <COND (<AND <EQUAL? ,",["Id","SPELL-VICTIM"]," ,",["Id","COLLAR"],">"],["\t\t\t\t   <IN? ,",["Id","COLLAR"]," ,",["Id","CERBERUS"],">>"],["\t\t\t      <SETG ",["Id","SPELL-VICTIM"]," ,",["Id","CERBERUS"],">)>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" floats serenely in mid-air.\""]," CR>)"],["\t\t      (<AND <EQUAL? ,",["Id","SPELL-USED"]," ,W?FRY>"],["\t\t\t    <FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">>"],["\t\t       <SETG ",["Id","SPELL-HANDLED?"]," T>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" goes up in a puff of smoke.\""]," CR>)"],["\t\t      (ELSE"],["\t\t       <SETG ",["Id","SPELL-VICTIM"]," <>>"],["\t\t       <TELL"],[["Str","\"The wand stops glowing, but there is no other apparent effect.\""]," CR>)>)"],["\t       (ELSE"],["\t\t<SETG ",["Id","SPELL-VICTIM"]," <>>"],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)>)"],["       ",["Ifndef","(T"]],[["Ifndef","\t'<V-DISENCHANT>)"],">>"],[],["<ROUTINE ",["Iddef","REMOVE-CAREFULLY"]," (",["Localid","OBJ"]," \"AUX\" ",["Localid","OLIT"],")"],["\t <COND (<EQUAL? .",["Localid","OBJ"]," ,",["Id","P-IT-OBJECT"],">"],["\t\t<SETG ",["Id","P-IT-OBJECT"]," <>>"],["\t\t<SETG ",["Id","P-IT-LOC"]," <>>)>"],["\t <SET ",["Localid","OLIT"]," ,",["Id","LIT"],">"],["\t <REMOVE .",["Localid","OBJ"],">"],["\t <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t <COND (<AND .",["Localid","OLIT"]," <NOT <EQUAL? .",["Localid","OLIT"]," ,",["Id","LIT"],">>>"],["\t\t<TELL ",["Str","\"You are left in the dark...\""]," CR>)>"],["\t T>"],[],["<ROUTINE ",["Iddef","V-ENTER"]," ()"],["\t<",["Id","DO-WALK"]," ,",["Implid","P?IN"],">>"],[],["<ROUTINE ",["Iddef","V-EXAMINE"]," ()"],["\t <COND (<GETP ,",["Id","PRSO"]," ,",["Implid","P?TEXT"],">"],["\t\t<TELL <GETP ,",["Id","PRSO"]," ,",["Implid","P?TEXT"],"> CR>)"],["\t       (<OR <FSET? ,",["Id","PRSO"]," ,",["Implid","CONTBIT"],">"],["\t\t    <FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">>"],["\t\t<",["Id","V-LOOK-INSIDE"],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"There's nothing special about the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-EXIT"]," ()"],["\t <COND (<IN? ,",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t\t<",["Id","PERFORM"]," ,V?DISEMBARK ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (T <",["Id","DO-WALK"]," ,",["Implid","P?OUT"],">)>>"],[],["<ROUTINE ",["Iddef","V-EXORCISE"]," ()"],["\t <TELL ",["Str","\"What a bizarre concept!\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-FILL"]," (\"AUX\" ",["Localid","TX"],")"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," ,",["Implid","P?GLOBAL"],">>"],["\t\t<COND (<AND .",["Localid","TX"]," <",["Id","ZMEMQB"]," ,",["Id","GLOBAL-WATER"]," .",["Localid","TX"]," <- <PTSIZE .",["Localid","TX"],"> 1>>>"],["\t\t       <",["Id","PERFORM"]," ,V?FILL ,",["Id","PRSO"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t       <RTRUE>)"],["\t\t      (<IN? ,",["Id","WATER"]," <LOC ,",["Id","WINNER"],">>"],["\t\t       <",["Id","PERFORM"]," ,V?FILL ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There is nothing to fill it with.\""]," CR>"],["\t\t       <RTRUE>)>)>"],["\t <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","WATER"],">"],["\t\t<RFALSE>)"],["\t       (<NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","GLOBAL-WATER"],">>"],["\t\t<",["Id","PERFORM"]," ,V?PUT ,",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-FILL"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<COND (<",["Id","GLOBAL-IN?"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","HERE"],">"],["\t\t       <",["Id","PERFORM"]," ,V?FILL ,",["Id","PRSO"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t       <RTRUE>)"],["\t\t      (<IN? ,",["Id","WATER"]," <LOC ,",["Id","WINNER"],">>"],["\t\t       <",["Id","PERFORM"]," ,V?FILL ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There's nothing to fill it with.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You may know how to do that, but I don't.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-FIND"]," (\"AUX\" (",["Localid","L"]," <LOC ,",["Id","PRSO"],">))"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","HANDS"]," ,",["Id","LUNGS"],">"],["\t\t<TELL"],[["Str","\"Within six feet of your head, assuming you haven't left that"]],[["Str","somewhere.\""]," CR>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">"],["\t\t<TELL ",["Str","\"You're around here somewhere...\""]," CR>)"],["\t       (<EQUAL? .",["Localid","L"]," ,",["Id","GLOBAL-OBJECTS"],">"],["\t\t<TELL ",["Str","\"You find it.\""]," CR>)"],["\t       (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t<TELL ",["Str","\"You have it.\""]," CR>)"],["\t       (<OR <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t    <",["Id","GLOBAL-IN?"]," ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t<TELL ",["Str","\"It's right here.\""]," CR>)"],["\t       (<FSET? .",["Localid","L"]," ,",["Implid","ACTORBIT"],">"],["\t\t<TELL ",["Str","\"The \""]," D .",["Localid","L"]," ",["Str","\" has it.\""]," CR>)"],["\t       (<FSET? .",["Localid","L"]," ,",["Implid","SURFACEBIT"],">"],["\t\t<TELL ",["Str","\"It's on the \""]," D .",["Localid","L"]," ",["Str","\".\""]," CR>)"],["\t       (<FSET? .",["Localid","L"]," ,",["Implid","CONTBIT"],">"],["\t\t<TELL ",["Str","\"It's in the \""]," D .",["Localid","L"]," ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Beats me.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-FOLLOW"]," ()"],["\t <TELL ",["Str","\"You're nuts!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-FROBOZZ"]," ()"],["\t <TELL"],[["Str","\"The FROBOZZ Corporation created, owns, and operates this dungeon.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-GIVE"]," ()"],["\t <COND (<NOT <",["Id","HELD?"]," ,",["Id","PRSO"],">>"],["\t\t<TELL"],[["Str","\"That's easy for you to say since you don't even have the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-GIVE"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSI"]," ,",["Implid","ACTORBIT"],">>"],["\t\t<TELL ",["Str","\"You can't give a \""]," D ,",["Id","PRSO"]," ",["Str","\" to a \""]," D ,",["Id","PRSI"]," ",["Str","\"!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" refuses it politely.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-HATCH"]," ()"],["\t <TELL ",["Str","\"Bizarre!\""]," CR>>"],[],["<GLOBAL ",["Iddef","HS"]," 0> ",["Comment",";\"counts occurences of HELLO, SAILOR\""]],[],["<ROUTINE ",["Iddef","V-HELLO"]," ()"],["\t <COND (,",["Id","PRSO"]],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" bows his head to you in greeting.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"It's a well known fact that only schizophrenics say \\\"Hello\\\" to a \""]],["D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>)"],["\t       (T"],["\t\t<TELL <",["Id","PICK-ONE"]," ,",["Id","HELLOS"],"> CR>)>>"],[],["<ROUTINE ",["Iddef","V-INCANT"]," ()"],["%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t'<COND (,",["Id","SPELL-USED"]],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)"],["\t       (,",["Id","WAND-ON"]],["\t\t<SETG ",["Id","SPELL-VICTIM"]," ,",["Id","WAND-ON"],">"],["\t\t<SETG ",["Id","SPELL-USED"]," <GET ,",["Id","P-LEXV"]," ,",["Id","P-CONT"],">>"],["\t\t<TELL ",["Str","\"The wand glows very brightly for a moment.\""]," CR>"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-SPELL"]," <+ 10 <RANDOM 10>>>>"],["\t\t<SETG ",["Id","WAND-ON"]," <>>"],["\t\t<",["Id","PERFORM"]," ,V?ENCHANT ,",["Id","SPELL-VICTIM"],">)"],["\t       (T"],["\t\t<TELL"],[["Str","\"The incantation echoes back faintly, but nothing else happens.\""]," CR>)>)"],["       ",["Ifndef","(T"]],[["Ifndef","\t'<TELL"]],[["Ifndef","\"The incantation echoes back faintly, but nothing else happens.\" CR>)"],">"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-INFLATE"]," ()"],["\t <TELL ",["Str","\"How can you inflate that?\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-IS-IN"]," ()"],["\t <COND (<IN? ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"Yes, it is \""],">"],["\t\t<COND (<FSET? ,",["Id","PRSI"]," ,",["Implid","SURFACEBIT"],">"],["\t\t       <TELL ",["Str","\"on\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"in\""],">)>"],["\t\t<TELL ",["Str","\" the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"No, it isn't.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-KICK"]," () <",["Id","HACK-HACK"]," ",["Str","\"Kicking the \""],">>"],[],["<ROUTINE ",["Iddef","V-KISS"]," ()"],["\t <TELL ",["Str","\"I'd sooner kiss a pig.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-KNOCK"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">"],["\t\t<TELL ",["Str","\"Nobody's home.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Why knock on a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LAMP-OFF"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","LIGHTBIT"],">"],["\t\t<COND (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","ONBIT"],">>"],["\t\t       <TELL ",["Str","\"It is already off.\""]," CR>)"],["\t\t      (T"],["\t\t       <FCLEAR ,",["Id","PRSO"]," ,",["Implid","ONBIT"],">"],["\t\t       <COND (,",["Id","LIT"]],["\t\t\t      <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>)>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now off.\""]," CR>"],["\t\t       <COND (<NOT ,",["Id","LIT"],">"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't turn that off.\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-LAMP-ON"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","LIGHTBIT"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ONBIT"],">"],["\t\t       <TELL ",["Str","\"It is already on.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","ONBIT"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now on.\""]," CR>"],["\t\t       <COND (<NOT ,",["Id","LIT"],">"],["\t\t\t      <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t\t\t      <CRLF>"],["\t\t\t      <",["Id","V-LOOK"],">)>)>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","BURNBIT"],">"],["\t\t<TELL"],[["Str","\"If you wish to burn the \""]," D ,",["Id","PRSO"]," ",["Str","\", you should say so.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't turn that on.\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-LAUNCH"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","VEHBIT"],">"],["\t\t<TELL ",["Str","\"You can't launch that by saying \\\"launch\\\"!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"That's pretty weird.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LEAN-ON"]," ()"],["\t <TELL ",["Str","\"Getting tired?\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LEAP"]," (\"AUX\" ",["Localid","TX"]," ",["Localid","S"],")"],["\t <COND (,",["Id","PRSO"]],["\t\t<COND (<IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t       <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is too big to jump over.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","V-SKIP"],">)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"That would be a good trick.\""]," CR>)>)"],["\t       (<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," ,",["Implid","P?DOWN"],">>"],["\t\t<SET ",["Localid","S"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t<COND (<OR <EQUAL? .",["Localid","S"]," 2> ",["Comment",";NEXIT"]],["       \t\t\t   <AND <EQUAL? .",["Localid","S"]," 4> ",["Comment",";CEXIT"]],["\t\t\t\t<NOT <VALUE <GETB .",["Localid","TX"]," 1>>>>>"],["\t\t       <TELL"],[["Str","\"This was not a very safe place to try jumping.\""]," CR>"],["\t\t       <",["Id","JIGS-UP"]," <",["Id","PICK-ONE"]," ,",["Id","JUMPLOSS"],">>)"],["\t\t      %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t\t      '(<EQUAL? ,HERE ,UP-A-TREE>"]],[["Ifndef","\t\t                <TELL"]],[["Ifndef","\"In a feat of unaccustomed daring, you manage to land on your feet without"]],[["Ifndef","killing yourself.\" CR CR>"]],[["Ifndef","\t\t                <DO-WALK ,P?DOWN>"]],[["Ifndef","\t\t                <RTRUE>))"]],["\t\t\t     (T '(<",["Id","NULL-F"],"> T))>"],["\t\t      (T"],["\t\t       <",["Id","V-SKIP"],">)>)"],["\t       (T"],["\t\t<",["Id","V-SKIP"],">)>>"],[],["<GLOBAL ",["Iddef","JUMPLOSS"]],["\t<LTABLE 0"],["\t       ",["Str","\"You should have looked before you leaped.\""]],["\t       ",["Str","\"In the movies, your life would be passing before your eyes.\""]],["\t       ",["Str","\"Geronimo...\""],">>"],[],["<ROUTINE ",["Iddef","V-LEAVE"]," () <",["Id","DO-WALK"]," ,",["Implid","P?OUT"],">>"],[],["<ROUTINE ",["Iddef","V-LISTEN"]," ()"],["\t <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" makes no sound.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOCK"]," ()"],["\t <TELL ",["Str","\"It doesn't seem to work.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOOK"]," ()"],["\t <COND (<",["Id","DESCRIBE-ROOM"]," T>"],["\t\t<",["Id","DESCRIBE-OBJECTS"]," T>)>>"],[],["<ROUTINE ",["Iddef","V-LOOK-BEHIND"]," ()"],["\t <TELL ",["Str","\"There is nothing behind the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOOK-INSIDE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is open, but I can't tell what's beyond it.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is closed.\""],">)>"],["\t\t<CRLF>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","CONTBIT"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t       <TELL ",["Str","\"There is nothing special to be seen.\""]," CR>)"],["\t\t      (<",["Id","SEE-INSIDE?"]," ,",["Id","PRSO"],">"],["\t\t       <COND (<AND <FIRST? ,",["Id","PRSO"],">"],["\t\t\t\t   <",["Id","PRINT-CONT"]," ,",["Id","PRSO"],">>"],["\t\t\t      <RTRUE>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is empty.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is closed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't look inside a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LOOK-ON"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","SURFACEBIT"],">"],["\t\t<",["Id","PERFORM"]," ,V?LOOK-INSIDE ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Look on a \""]," D ,",["Id","PRSO"]," ",["Str","\"???\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LOOK-UNDER"]," ()"],["\t <TELL ",["Str","\"There is nothing but dust there.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOWER"]," () <",["Id","HACK-HACK"]," ",["Str","\"Playing in this way with the \""],">>"],[],["<ROUTINE ",["Iddef","V-MAKE"]," ()"],["    \t<TELL ",["Str","\"You can't do that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-MELT"]," ()"],["\t <TELL ",["Str","\"It's not clear that a \""]," D ,",["Id","PRSO"]," ",["Str","\" can be melted.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-MOVE"]," ()"],["\t <COND (<",["Id","HELD?"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"You aren't an accomplished enough juggler.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-MOVE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">"],["\t\t<TELL ",["Str","\"Moving the \""]," D ,",["Id","PRSO"]," ",["Str","\" reveals nothing.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't move the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-MUMBLE"]," ()"],["\t <TELL ",["Str","\"You'll have to speak up if you expect me to hear you!\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-MUNG"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,BEAM>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (<OR <NOT ,",["Id","PRSI"],">"],["\t\t    <NOT <FSET? ,",["Id","PRSI"]," ,",["Implid","WEAPONBIT"],">>>"],["\t\t<TELL ",["Str","\"Trying to destroy the \""]," D ,",["Id","PRSO"]," ",["Str","\" with \""],">"],["\t\t<COND (<NOT ,",["Id","PRSI"],">"],["\t\t       <TELL ",["Str","\"your bare hands\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"a \""]," D ,",["Id","PRSI"],">)>"],["\t\t<TELL ",["Str","\" is futile.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-MUNG"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Nice try.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-ODYSSEUS"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<AND <EQUAL? ,HERE ,CYCLOPS-ROOM>"]],[["Ifndef","\t\t\t      <IN? ,CYCLOPS ,HERE>"]],[["Ifndef","\t\t\t      <NOT ,CYCLOPS-FLAG>>"]],[["Ifndef","\t\t         <DISABLE <INT I-CYCLOPS>>"]],[["Ifndef","\t\t         <SETG CYCLOPS-FLAG T>"]],[["Ifndef","\t\t         <TELL"]],[["Ifndef","\"The cyclops, hearing the name of his father's deadly nemesis, flees the room"]],[["Ifndef","by knocking down the wall on the east of the room.\" CR>"]],[["Ifndef","\t\t        <SETG MAGIC-FLAG T>"]],[["Ifndef","\t\t        <FCLEAR ,CYCLOPS ,FIGHTBIT>"]],[["Ifndef","\t\t        <REMOVE-CAREFULLY ,CYCLOPS>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> T))>"],["\t       (T"],["\t\t<TELL ",["Ifndef","\"Wasn't he a sailor?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-OIL"]," ()"],["\t <TELL ",["Str","\"You probably put spinach in your gas tank, too.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-OPEN"]," (\"AUX\" ",["Localid","F"]," ",["Localid","STR"],")"],["\t <COND (<AND <FSET? ,",["Id","PRSO"]," ,",["Implid","CONTBIT"],">"],["\t\t     <NOT <EQUAL? <GETP ,",["Id","PRSO"]," ,",["Implid","P?CAPACITY"],"> 0>>>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"It is already open.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","TOUCHBIT"],">"],["\t\t       <COND (<OR <NOT <FIRST? ,",["Id","PRSO"],">> <FSET? ,",["Id","PRSO"]," ,",["Implid","TRANSBIT"],">>"],["\t\t\t      <TELL ",["Str","\"Opened.\""]," CR>)"],["\t\t\t     (<AND <SET ",["Localid","F"]," <FIRST? ,",["Id","PRSO"],">>"],["\t\t\t\t   <NOT <NEXT? .",["Localid","F"],">>"],["\t\t\t\t   <NOT <FSET? .",["Localid","F"]," ,",["Implid","TOUCHBIT"],">>"],["\t\t\t\t   <SET ",["Localid","STR"]," <GETP .",["Localid","F"]," ,",["Implid","P?FDESC"],">>>"],["\t\t\t      <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" opens.\""]," CR>"],["\t\t\t      <TELL .",["Localid","STR"]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"Opening the \""]," D ,",["Id","PRSO"]," ",["Str","\" reveals \""],">"],["\t\t\t      <",["Id","PRINT-CONTENTS"]," ,",["Id","PRSO"],">"],["\t\t\t      <TELL ",["Str","\".\""]," CR>)>)>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <TELL ",["Str","\"It is already open.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" opens.\""]," CR>"],["\t\t       <FSET ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You must tell me how to do that to a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-OVERBOARD"]," (\"AUX\" ",["Localid","LOCN"],")"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSI ,TEETH>"]],[["Ifndef","\t\t\t <COND (<FSET? <SET LOCN <LOC ,WINNER>> ,VEHBIT>"]],[["Ifndef","\t\t\t\t<MOVE ,PRSO <LOC .LOCN>>"]],[["Ifndef","\t\t\t\t<TELL \"Ahoy -- \" D ,PRSO \" overboard!\" CR>)"]],[["Ifndef","\t\t\t       (T"]],[["Ifndef","\t\t\t\t<TELL \"You're not in anything!\" CR>)>))"]],["\t\t      (T '(<",["Id","NULL-F"],"> T))>"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?THROW ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-PICK"]," () <TELL ",["Str","\"You can't pick that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-PLAY"]," ()"],["    <TELL ",["Str","\"That's silly!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-PLUG"]," ()"],["\t <TELL ",["Str","\"This has no effect.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-POUR-ON"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t        <COND (<FLAMING? ,",["Id","PRSI"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" is extinguished.\""]," CR>"],["\t\t       <FCLEAR ,",["Id","PRSI"]," ,",["Implid","ONBIT"],">"],["\t\t       <FCLEAR ,",["Id","PRSI"]," ,",["Implid","FLAMEBIT"],">)"],["\t              (T"],["\t\t       <TELL"],[["Str","\"The water spills over the \""]," D ,",["Id","PRSI"]," ",["Str","\", to the floor, and evaporates.\""]," CR>)>)"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,PUTTY>"]],[["Ifndef","\t\t\t <PERFORM ,V?PUT ,PUTTY ,PRSI>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't pour that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PRAY"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,SOUTH-TEMPLE>"]],[["Ifndef","\t\t         <GOTO ,FOREST-1>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (T"],["\t\t<TELL"],[["Str","\"If you pray enough, your prayers may be answered.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUMP"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<AND ,PRSI <NOT <EQUAL? ,PRSI ,PUMP>>>"]],[["Ifndef","\t\t         <TELL \"Pump it up with a \" D ,PRSI \"?\" CR>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<IN? ,PUMP ,WINNER>"]],[["Ifndef","\t\t         <PERFORM ,V?INFLATE ,PRSO ,PUMP>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"It's really not clear how.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUSH"]," () <",["Id","HACK-HACK"]," ",["Str","\"Pushing the \""],">>"],[],["<ROUTINE ",["Iddef","V-PUSH-TO"]," ()"],["\t <TELL ",["Str","\"You can't push things to that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-PUT"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,SHORT-POLE>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (T"],["\t\t<",["Id","PRE-GIVE"],">)>> ",["Comment",";\"That's easy for you to say...\""]],[],["<ROUTINE ",["Iddef","V-PUT"]," ()"],["\t <COND (<OR <FSET? ,",["Id","PRSI"]," ,",["Implid","OPENBIT"],">"],["\t\t    <OPENABLE? ,",["Id","PRSI"],">"],["\t\t    <FSET? ,",["Id","PRSI"]," ,",["Implid","VEHBIT"],">>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't do that.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <COND (<NOT <FSET? ,",["Id","PRSI"]," ,",["Implid","OPENBIT"],">>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" isn't open.\""]," CR>"],["\t\t<",["Id","THIS-IS-IT"]," ,",["Id","PRSI"],">)"],["\t       (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"How can you do that?\""]," CR>)"],["\t       (<IN? ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is already in the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t       (<G? <- <+ <",["Id","WEIGHT"]," ,",["Id","PRSI"],"> <",["Id","WEIGHT"]," ,",["Id","PRSO"],">>"],["\t\t       <GETP ,",["Id","PRSI"]," ,",["Implid","P?SIZE"],">>"],["\t\t    <GETP ,",["Id","PRSI"]," ,",["Implid","P?CAPACITY"],">>"],["\t\t<TELL ",["Str","\"There's no room.\""]," CR>)"],["\t       (<AND <NOT <",["Id","HELD?"]," ,",["Id","PRSO"],">>"],["\t\t     <FSET? ,",["Id","PRSO"]," ,",["Implid","TRYTAKEBIT"],">>"],["\t\t<TELL ",["Str","\"You don't have the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t\t<RTRUE>)"],["\t       (<AND <NOT <",["Id","HELD?"]," ,",["Id","PRSO"],">>"],["\t\t     <NOT <",["Id","ITAKE"],">>>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<MOVE ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t<FSET ,",["Id","PRSO"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<",["Id","SCORE-OBJ"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"Done.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUT-BEHIND"]," ()"],["\t <TELL ",["Str","\"That hiding place is too obvious.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-PUT-ON"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GROUND"],">"],["\t\t<",["Id","PERFORM"]," ,V?DROP ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<FSET? ,",["Id","PRSI"]," ,",["Implid","SURFACEBIT"],">"],["\t\t<",["Id","V-PUT"],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"There's no good surface on the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUT-UNDER"]," ()"],["\t <TELL ",["Str","\"You can't do that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-RAISE"]," ()"],["\t <",["Id","V-LOWER"],">>"],[],["<ROUTINE ",["Iddef","V-RAPE"]," ()"],["\t <TELL ",["Str","\"What a (ahem!) strange idea.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-READ"]," ()"],["\t <COND (<NOT ,",["Id","LIT"],">"],["\t\t<TELL ",["Str","\"It is impossible to read in the dark.\""]," CR>)"],["\t       (<AND ,",["Id","PRSI"]," <NOT <FSET? ,",["Id","PRSI"]," ,",["Implid","TRANSBIT"],">>>"],["\t\t<TELL ",["Str","\"How does one look through a \""]," D ,",["Id","PRSI"]," ",["Str","\"?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-READ"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","READBIT"],">>"],["\t\t<TELL ",["Str","\"How does one read a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)"],["\t       (T"],["\t\t<TELL <GETP ,",["Id","PRSO"]," ,",["Implid","P?TEXT"],"> CR>)>>"],[],["<ROUTINE ",["Iddef","V-READ-PAGE"]," ()"],["\t <",["Id","PERFORM"]," ,V?READ ,",["Id","PRSO"],">"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-REPENT"]," ()"],["\t <TELL ",["Str","\"It could very well be too late!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-REPLY"]," ()"],["\t <TELL ",["Str","\"It is hardly likely that the \""]," D ,",["Id","PRSO"]," ",["Str","\" is interested.\""]," CR>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-RING"]," ()"],["\t <TELL ",["Str","\"How, exactly, can you ring that?\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-RUB"]," () <",["Id","HACK-HACK"]," ",["Str","\"Fiddling with the \""],">>"],[],["<ROUTINE ",["Iddef","V-SAY"]," (\"AUX\" ",["Localid","V"],")"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<COND (<OR ,",["Id","SPELL-USED"]," ,",["Id","WAND-ON"],">"],["\t\t         <",["Id","PERFORM"]," ,V?INCANT>"],["\t\t         <RTRUE>)>)"],["\t\t",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t '<COND (<AND <FSET? ,FRONT-DOOR ,TOUCHBIT>"]],[["Ifndef","\t\t              <EQUAL? <GET ,P-LEXV ,P-CONT> ,W?FROTZ>"]],[["Ifndef","\t\t              <EQUAL? <GET ,P-LEXV <+ ,P-CONT 2>> ,W?OZMOO>>"]],[["Ifndef","\t\t         <SETG P-CONT <>>"]],[["Ifndef","\t\t         <COND (<EQUAL? ,HERE ,MSTAIRS>"]],[["Ifndef","\t\t                <CRLF>"]],[["Ifndef","\t\t                <GOTO ,FRONT-DOOR>)"]],[["Ifndef","\t\t               (T"]],[["Ifndef","\t\t                <TELL \"Nothing happens.\" CR>)>"]],[["Ifndef","\t\t                <RTRUE>)>)"]],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<PROG ()"]],[["Ifndef","\t\t\t<COND (<NOT ,P-CONT>"]],[["Ifndef","\t\t\t       <TELL \"Say what?\" CR>"]],[["Ifndef","\t\t\t       <RTRUE>)"]],[["Ifndef","\t\t\t      (T <SETG QUOTE-FLAG <>> <RTRUE>)>>)"],">"],["\t <COND (<SET ",["Localid","V"]," <",["Id","FIND-IN"]," ,",["Id","HERE"]," ,",["Implid","ACTORBIT"],">>"],["\t\t<TELL ",["Str","\"You must address the \""]," D .",["Localid","V"]," ",["Str","\" directly.\""]," CR>"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<SETG ",["Id","P-CONT"]," <>>)"],["\t       (<EQUAL? <GET ,",["Id","P-LEXV"]," ,",["Id","P-CONT"],"> ,W?HELLO>"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<TELL"],[["Str","\"Talking to yourself is a sign of impending mental collapse.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-SEARCH"]," ()"],["\t <TELL ",["Str","\"You find nothing unusual.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SEND"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<TELL ",["Str","\"Why would you send for the \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"That doesn't make sends.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","PRE-SGIVE"]," ()"],["\t <",["Id","PERFORM"]," ,V?GIVE ,",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-SGIVE"]," ()"],["\t <TELL ",["Str","\"Foo!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SHAKE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<TELL ",["Str","\"This seems to have no effect.\""]," CR>)"],["\t       (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">>"],["\t\t<TELL ",["Str","\"You can't take it; thus, you can't shake it!\""]," CR>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,",["Implid","CONTBIT"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","OPENBIT"],">"],["\t\t       <COND (<FIRST? ,",["Id","PRSO"],">"],["\t\t\t      <",["Id","SHAKE-LOOP"],">"],["\t\t\t      <TELL ",["Str","\"The contents of the \""]," D, ",["Id","PRSO"]," ",["Str","\" spills \""],">"],["\t                      <COND (<NOT <FSET? ,",["Id","HERE"]," ,",["Implid","RLANDBIT"],">>"],["\t\t                     <TELL ",["Str","\"out and disappears\""],">)"],["\t                            (T"],["\t\t                     <TELL ",["Str","\"to the ground\""],">)>"],["\t                      <TELL ",["Str","\".\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"Shaken.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <COND (<FIRST? ,",["Id","PRSO"],">"],["\t\t\t      <TELL"],[["Str","\"It sounds like there is something inside the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D, ",["Id","PRSO"]," ",["Str","\" sounds empty.\""]," CR>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Shaken.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","SHAKE-LOOP"]," (\"AUX\" ",["Localid","X"],")"],["\t <REPEAT ()"],["\t\t <COND (<SET ",["Localid","X"]," <FIRST? ,",["Id","PRSO"],">>"],["\t\t\t<FSET .",["Localid","X"]," ,",["Implid","TOUCHBIT"],">"],["\t\t\t<MOVE .",["Localid","X"]],["\t\t\t      %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t\t\t      '<COND (<EQUAL? ,HERE ,UP-A-TREE>"]],[["Ifndef","\t\t\t\t              ,PATH)"]],[["Ifndef","\t\t\t\t             (<NOT <FSET? ,HERE ,RLANDBIT>>"]],[["Ifndef","\t\t\t\t              ,PSEUDO-OBJECT)"]],[["Ifndef","\t\t\t\t             (T"]],[["Ifndef","\t\t\t\t              ,HERE)>)"]],["\t\t\t\t     (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t\t      '<COND (<EQUAL? .",["Localid","X"]," ,",["Id","WATER"],">"],["\t\t\t\t              ,",["Id","PSEUDO-OBJECT"],")"],["\t\t\t\t             (<NOT <FSET? ,",["Id","HERE"]," ,",["Implid","RLANDBIT"],">>"],["\t\t\t\t              ,",["Id","PSEUDO-OBJECT"],")"],["\t\t\t\t             (T"],["\t\t\t\t              ,",["Id","HERE"],")>)"],["\t\t\t\t     ",["Ifndef","(T"]],[["Ifndef","\t\t\t\t      '<COND (<EQUAL? ,HERE ,ON-LAKE>"]],[["Ifndef","\t\t\t\t\t      ,IN-LAKE)"]],[["Ifndef","\t\t\t\t\t     (T"]],[["Ifndef","\t\t\t\t\t      ,HERE)>)"],">>)"],["\t\t       (T"],["\t\t\t<RETURN>)>>>"],[],["<ROUTINE ",["Iddef","V-SKIP"]," ()"],["\t <TELL <",["Id","PICK-ONE"]," ,",["Id","WHEEEEE"],"> CR>>"],[],["<GLOBAL ",["Iddef","WHEEEEE"]],["\t<LTABLE 0 ",["Str","\"Very good. Now you can go to the second grade.\""]],["\t       ",["Str","\"Are you enjoying yourself?\""]],["\t       ",["Str","\"Wheeeeeeeeee!!!!!\""]],["\t       ",["Str","\"Do you expect me to applaud?\""],">>"],[],["<ROUTINE ",["Iddef","V-SMELL"]," ()"],["\t <TELL ",["Str","\"It smells like a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SPIN"]," ()"],["\t <TELL ",["Str","\"You can't spin that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SPRAY"]," ()"],["\t <",["Id","V-SQUEEZE"],">>"],[],["<ROUTINE ",["Iddef","V-SQUEEZE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" does not understand this.\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"How singularly useless.\""],">)>"],["\t <CRLF>>"],[],["<ROUTINE ",["Iddef","V-SSPRAY"]," ()"],["\t <",["Id","PERFORM"]," ,V?SPRAY ,",["Id","PRSI"]," ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-STAB"]," (\"AUX\" ",["Localid","W"],")"],["\t <COND (<SET ",["Localid","W"]," <",["Id","FIND-WEAPON"]," ,",["Id","WINNER"],">>"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSO"]," .",["Localid","W"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"No doubt you propose to stab the \""]," D ,",["Id","PRSO"]," ",["Str","\" with your pinky?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-STAND"]," ()"],["\t <COND (<FSET? <LOC ,",["Id","WINNER"],"> ,",["Implid","VEHBIT"],">"],["\t\t<",["Id","PERFORM"]," ,V?DISEMBARK <LOC ,",["Id","WINNER"],">>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You are already standing, I think.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-STAY"]," ()"],["\t <TELL ",["Str","\"You will be lost without me!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-STRIKE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<TELL"],[["Str","\"Since you aren't versed in hand-to-hand combat, you'd better attack the \""]],["D ,",["Id","PRSO"]," ",["Str","\" with a weapon.\""]," CR>)"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?LAMP-ON ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-SWIM"]," ()"],["\t <COND %<COND (<OR <==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t   <==? ,",["Id","ZORK-NUMBER"]," 2>>"],["\t\t       '(<",["Id","GLOBAL-IN?"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","HERE"],">"],["\t\t         <TELL ",["Str","\"Swimming isn't usually allowed in the \""],">"],["\t\t         <COND (,",["Id","PRSO"]],["\t                        <TELL D ,",["Id","PRSO"]," ",["Str","\".\""],">)"],["\t\t               (T"],["\t\t                <TELL ",["Str","\"dungeon.\""],">)>"],["\t\t         <CRLF>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,ON-LAKE ,IN-LAKE>"]],[["Ifndef","\t\t         <TELL \"What do you think you're doing?\" CR>))"],">"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,FLATHEAD-OCEAN>"]],[["Ifndef","\t\t         <TELL"]],[["Ifndef","\"Between the rocks and waves, you wouldn't last a minute!\" CR>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Go jump in a lake!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-SWING"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"Whoosh!\""]," CR>)"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSI"]," ,",["Id","PRSO"],">)>>"],[],["<ROUTINE ",["Iddef","PRE-TAKE"]," ()"],["\t <COND (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","WEARBIT"],">"],["\t\t       <TELL ",["Str","\"You are already wearing it.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"You already have that!\""]," CR>)>)"],["\t       (<AND <FSET? <LOC ,",["Id","PRSO"],"> ,",["Implid","CONTBIT"],">"],["\t\t     <NOT <FSET? <LOC ,",["Id","PRSO"],"> ,",["Implid","OPENBIT"],">>>"],["\t\t<TELL"],[["Str","\"You can't reach something that's inside a closed container.\""]," CR>"],["\t\t<RTRUE>)"],["\t       (,",["Id","PRSI"]],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GROUND"],">"],["\t\t       <SETG ",["Id","PRSI"]," <>>"],["\t\t       <RFALSE>)"],["\t\t      %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t      '(<EQUAL? ,",["Id","PRSO"]," ,",["Id","DOOR-KEEPER"],">"],["\t\t\t\t<SETG ",["Id","PRSI"]," <>>"],["\t\t\t\t<RFALSE>))"],["\t\t\t     ",["Ifndef","(T"]],[["Ifndef","\t\t\t      '(<NULL-F> T))"],">"],["\t\t      (<NOT <EQUAL? ,",["Id","PRSI"]," <LOC ,",["Id","PRSO"],">>>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" isn't in the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <SETG ",["Id","PRSI"]," <>>"],["\t\t       <RFALSE>)>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<TELL ",["Str","\"You're inside of it!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-TAKE"]," ()"],["\t <COND (<EQUAL? <",["Id","ITAKE"],"> T>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","WEARBIT"],">"],["\t\t       <TELL ",["Str","\"You are now wearing the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Taken.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","V-TELL"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","ACTORBIT"],">"],["\t\t<COND (,",["Id","P-CONT"]],["\t\t       <SETG ",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t\t       <SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]],[["Str","\" pauses for a moment, perhaps thinking that you should re-read"]],[["Str","the manual.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't talk to the \""]," D ,",["Id","PRSO"]," ",["Str","\"!\""]," CR>"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE ",["Iddef","V-THROUGH"]," (\"OPTIONAL\" (",["Localid","OBJ"]," <>) \"AUX\" ",["Localid","M"],")"],["\t#DECL ((",["Localid","OBJ"],") <OR OBJECT FALSE> (",["Localid","M"],") <PRIMTYPE VECTOR>)"],["\t<COND (<FSET? ,",["Id","PRSO"]," ,",["Implid","DOORBIT"],">"],["\t       <",["Id","DO-WALK"]," <",["Id","OTHER-SIDE"]," ,",["Id","PRSO"],">>"],["\t       <RTRUE>)"],["\t      (<AND <NOT .",["Localid","OBJ"],"> <FSET? ,",["Id","PRSO"]," ,",["Implid","VEHBIT"],">>"],["\t       <",["Id","PERFORM"]," ,V?BOARD ,",["Id","PRSO"],">"],["\t       <RTRUE>)"],["\t      (<OR .",["Localid","OBJ"]," <NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">>>"],["\t       <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t             '(<AND ,",["Id","SCOL-ROOM"]],["\t\t\t            <OR .",["Localid","OBJ"]," <EQUAL? ,",["Id","PRSO"]," ,",["Id","CURTAIN"],">>>"],["\t                       <",["Id","SCOL-GO"]," .",["Localid","OBJ"],">"],["\t                       <RTRUE>))"],["\t\t\t    ",["Ifndef","(T"]],[["Ifndef","\t\t\t     '(<NULL-F> <RTRUE>))"],">"],["\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t    '(<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","DEPOSITORY"],">"],["\t                           <EQUAL? ,",["Id","PRSO"]," ,",["Id","SNWL"],">"],["\t       \t\t\t   ,",["Id","SCOL-ROOM"],">"],["\t       \t\t      <",["Id","SCOL-GO"]," .",["Localid","OBJ"],">"],["\t            \t      <RTRUE>))"],["\t\t\t    ",["Ifndef","(T"]],[["Ifndef","\t\t\t     '(<NULL-F> <RTRUE>))"],">"],["\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t     '(<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","SCOL-ACTIVE"],">"],["\t\t                    <EQUAL? ,",["Id","PRSO"]],["\t\t\t\t\t     <GET <SET ",["Localid","M"]," <",["Id","GET-WALL"]," ,",["Id","HERE"],">> 1>>>"],["\t                       <SETG ",["Id","SCOL-ROOM"]," <GET .",["Localid","M"]," 2>>"],["\t                       <SETG ",["Id","PRSO"]," <GETP ,",["Id","PRSO"]," ,",["Implid","P?SIZE"],">>"],["\t                       <COND (.",["Localid","OBJ"]," <",["Id","SCOL-OBJ"]," .",["Localid","OBJ"]," 0 ,",["Id","DEPOSITORY"],">)"],["\t\t                     (T"],["\t\t                      <",["Id","SCOL-THROUGH"]," 0 ,",["Id","DEPOSITORY"],">)>"],["\t                       <RTRUE>))"],["\t\t\t    ",["Ifndef","(T"]],[["Ifndef","\t\t\t     '(<NULL-F> <RTRUE>))"],">"],["\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t     '(<EQUAL? ,",["Id","PRSO"]," ,",["Id","CURTAIN"],">"],["\t                       <TELL"],[["Str","\"You can't go more than part way through the curtain.\""]," CR>"],["\t                             <RTRUE>))"],["\t\t\t    ",["Ifndef","(T"]],[["Ifndef","\t\t\t     '(<NULL-F> <RTRUE>))"],">"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You hit your head against the \""]," D ,",["Id","PRSO"]," ",["Str","\" as you attempt this feat.\""]," CR>)>)"],["\t      (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t       <TELL ",["Str","\"That would involve quite a contortion!\""]," CR>)"],["\t      (T"],["\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","YUKS"],"> CR>)>>"],[],["<ROUTINE ",["Iddef","V-THROW"]," ()"],["\t <COND (<",["Id","IDROP"],">"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","ME"],">"],["\t\t       <TELL"],[["Str","\"A terrific throw! The \""]," D ,",["Id","PRSO"],">"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\" hits you squarely in the head. Normally,"]],[["Str","this wouldn't do much damage, but by incredible mischance, you fall over"]],[["Str","backwards trying to duck, and break your neck, justice being swift and"]],[["Str","merciful in the Great Underground Empire.\""],">)"],["\t\t      (<AND ,",["Id","PRSI"]," <FSET? ,",["Id","PRSI"]," ,",["Implid","ACTORBIT"],">>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" ducks as the \""]," D ,",["Id","PRSO"]," ",["Str","\" flies by and crashes to the ground.\""]],["CR>)"],["\t\t      (T <TELL ",["Str","\"Thrown.\""]," CR>)>)"],["\t       (T <TELL ",["Str","\"Huh?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-THROW-OFF"]," ()"],["\t <TELL ",["Str","\"You can't throw anything off of that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-TIE"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","WINNER"],">"],["\t\t<TELL ",["Str","\"You can't tie anything to yourself.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't tie the \""]," D ,",["Id","PRSO"]," ",["Str","\" to that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-TIE-UP"]," ()"],["\t <TELL ",["Str","\"You could certainly never tie it with that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-TREASURE"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,NORTH-TEMPLE>"]],[["Ifndef","\t\t         <GOTO ,TREASURE-ROOM>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,TREASURE-ROOM>"]],[["Ifndef","\t\t         <GOTO ,NORTH-TEMPLE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","PRE-TURN"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","TURNBIT"],">>"],["\t\t<TELL ",["Str","\"You can't turn that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-TURN"]," ()"],["\t <TELL ",["Str","\"This has no effect.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-UNLOCK"]," ()"],["\t <",["Id","V-LOCK"],">>"],[],["<ROUTINE ",["Iddef","V-UNTIE"]," ()"],["\t <TELL ",["Str","\"This cannot be tied, so it cannot be untied!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WAIT"]," (\"OPTIONAL\" (",["Localid","NUM"]," 3))"],["\t <TELL ",["Str","\"Time passes...\""]," CR>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","NUM"]," <- .",["Localid","NUM"]," 1>> 0> <RETURN>)"],["\t\t       (<",["Id","CLOCKER"],"> <RETURN>)>>"],["\t <SETG ",["Id","CLOCK-WAIT"]," T>>"],[],["<ROUTINE ",["Iddef","V-WALK"]," (\"AUX\" ",["Localid","PT"]," ",["Localid","PTS"]," ",["Localid","STR"]," ",["Localid","OBJ"]," ",["Localid","RM"],")"],["\t <COND (<NOT ,",["Id","P-WALK-DIR"],">"],["\t\t<",["Id","PERFORM"]," ,V?WALK-TO ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<SET ",["Localid","PT"]," <GETPT ,",["Id","HERE"]," ,",["Id","PRSO"],">>"],["\t\t<COND (<EQUAL? <SET ",["Localid","PTS"]," <PTSIZE .",["Localid","PT"],">> ,",["Id","UEXIT"],">"],["\t\t       <",["Id","GOTO"]," <GETB .",["Localid","PT"]," ,",["Id","REXIT"],">>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","NEXIT"],">"],["\t\t       <TELL <GET .",["Localid","PT"]," ,",["Id","NEXITSTR"],"> CR>"],["\t\t       <RFATAL>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","FEXIT"],">"],["\t\t       <COND (<SET ",["Localid","RM"]," <APPLY <GET .",["Localid","PT"]," ,",["Id","FEXITFCN"],">>>"],["\t\t\t      <",["Id","GOTO"]," .",["Localid","RM"],">)"],["\t\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t\t     '(<AND <EQUAL? ,HERE ,CP> ,CP-MOVED>"]],[["Ifndef","\t\t                       <RTRUE>))"]],["\t\t\t\t    (T"],["\t\t\t\t     '(<",["Id","NULL-F"],"> <RFALSE>))>"],["\t\t\t     (T"],["\t\t\t      <RFATAL>)>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","CEXIT"],">"],["\t\t       <COND (<VALUE <GETB .",["Localid","PT"]," ,",["Id","CEXITFLAG"],">>"],["\t\t\t      <",["Id","GOTO"]," <GETB .",["Localid","PT"]," ,",["Id","REXIT"],">>)"],["\t\t\t     (<SET ",["Localid","STR"]," <GET .",["Localid","PT"]," ,",["Id","CEXITSTR"],">>"],["\t\t\t      <TELL .",["Localid","STR"]," CR>"],["\t\t\t      <RFATAL>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t\t      <RFATAL>)>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","DEXIT"],">"],["\t\t       <COND (<FSET? <SET ",["Localid","OBJ"]," <GETB .",["Localid","PT"]," ,",["Id","DEXITOBJ"],">> ,",["Implid","OPENBIT"],">"],["\t\t\t      <",["Id","GOTO"]," <GETB .",["Localid","PT"]," ,",["Id","REXIT"],">>)"],["\t\t\t     (<SET ",["Localid","STR"]," <GET .",["Localid","PT"]," ,",["Id","DEXITSTR"],">>"],["\t\t\t      <TELL .",["Localid","STR"]," CR>"],["\t\t\t      <RFATAL>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" is closed.\""]," CR>"],["\t\t\t      <",["Id","THIS-IS-IT"]," .",["Localid","OBJ"],">"],["\t\t\t      <RFATAL>)>)>)"],["\t       (<AND <NOT ,",["Id","LIT"],">"],["\t\t     <PROB 80>"],["\t\t     <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t     <NOT <FSET? ,",["Id","HERE"]," ,",["Implid","NONLANDBIT"],">>>"],["\t\t<COND (,",["Id","SPRAYED?"]],["\t\t       <TELL"],[["Str","\"There are odd noises in the darkness, and there is no exit in that"]],[["Str","direction.\""]," CR>"],["\t\t       <RFATAL>)"],["\t\t      %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t      '(<EQUAL? ,HERE ,DARK-1 ,DARK-2>"]],[["Ifndef","\t\t                <JIGS-UP"]],[["Ifndef","\"Oh, no! You have walked into a den of hungry grues and it's dinner time!\">))"]],["\t\t\t     (T"],["\t\t\t      '(<",["Id","NULL-F"],">"],["\t\t\t\t<RFALSE>))>"],["\t\t      (T"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"Oh, no! You have walked into the slavering fangs of a lurking grue!\""],">)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE ",["Iddef","V-WALK-AROUND"]," ()"],["\t <TELL ",["Str","\"Use compass directions for movement.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WALK-TO"]," ()"],["\t <COND (<OR <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t    <",["Id","GLOBAL-IN?"]," ,",["Id","PRSO"]," ,",["Id","HERE"],">>"],["\t\t<TELL ",["Str","\"It's here!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You should supply a direction!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-WAVE"]," ()"],["\t <",["Id","HACK-HACK"]," ",["Str","\"Waving the \""],">>"],[],["<ROUTINE ",["Iddef","V-WEAR"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","WEARBIT"],">>"],["\t\t<TELL ",["Str","\"You can't wear the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?TAKE ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-WIN"]," ()"],["\t <TELL ",["Str","\"Naturally!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WIND"]," ()"],["\t <TELL ",["Str","\"You cannot wind up a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WISH"]," ()"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<",["Id","PERFORM"]," ,V?MAKE ,",["Id","WISH"],">)"],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<TELL \"With luck, your wish will come true.\" CR>)"],">>"],[],["<ROUTINE ",["Iddef","V-YELL"]," () <TELL ",["Str","\"Aaaarrrrgggghhhh!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-ZORK"]," () <TELL ",["Str","\"At your service!\""]," CR>>"],[],["^L"],[],[["Str","\"Verb-Associated Routines\""]],[],[["Str","\"Descriptions\""]],[],["<GLOBAL ",["Iddef","LIT"]," <>>"],[],["<GLOBAL ",["Iddef","SPRAYED?"]," <>>"],[],["<ROUTINE ",["Iddef","V-FIRST-LOOK"]," ()"],["\t <COND (<",["Id","DESCRIBE-ROOM"],">"],["\t\t<COND (<NOT ,",["Id","SUPER-BRIEF"],">"],["\t\t       <",["Id","DESCRIBE-OBJECTS"],">)>)>>"],[],["<ROUTINE ",["Iddef","DESCRIBE-ROOM"]," (\"OPTIONAL\" (",["Localid","LOOK?"]," <>) \"AUX\" ",["Localid","V?"]," ",["Localid","STR"]," ",["Localid","AV"],")"],["\t <SET ",["Localid","V?"]," <OR .",["Localid","LOOK?"]," ,",["Id","VERBOSE"],">>"],["\t <COND (<NOT ,",["Id","LIT"],">"],["\t\t<TELL ",["Str","\"It is pitch black.\""],">"],["\t\t<COND (<NOT ,",["Id","SPRAYED?"],">"],["\t\t       <TELL ",["Str","\" You are likely to be eaten by a grue.\""],">)>"],["\t\t<CRLF>"],["\t\t%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t'<COND (<EQUAL? ,HERE ,DARK-2>"]],[["Ifndef","\t\t                <TELL"]],[["Ifndef","\"The ground continues to slope upwards away from the lake. You can barely"]],[["Ifndef","detect a dim light from the east.\" CR>)>)"]],["\t\t       (T"],["\t\t\t'<",["Id","NULL-F"],">)>"],["\t\t<RETURN <>>)>"],["\t <COND (<NOT <FSET? ,",["Id","HERE"]," ,",["Implid","TOUCHBIT"],">>"],["\t\t<FSET ,",["Id","HERE"]," ,",["Implid","TOUCHBIT"],">"],["\t\t<SET ",["Localid","V?"]," T>)>"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t '<COND (<FSET? ,HERE ,MAZEBIT>"]],[["Ifndef","\t\t         <FCLEAR ,HERE ,TOUCHBIT>)>)"]],["\t\t(T"],["\t\t '<",["Id","NULL-F"],">)>"],["\t <COND (<IN? ,",["Id","HERE"]," ,",["Id","ROOMS"],">"],["\t\t",["Comment",";\"Was <TELL D ,HERE CR>\""]],["\t\t<TELL D ,",["Id","HERE"],">"],["\t\t<COND (<FSET? <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">> ,",["Implid","VEHBIT"],">"],["\t\t       <TELL ",["Str","\", in the \""]," D .",["Localid","AV"],">)>"],["\t\t<CRLF>)>"],["\t <COND (<OR .",["Localid","LOOK?"]," <NOT ,",["Id","SUPER-BRIEF"],">>"],["\t\t<SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t\t",["Comment",";<COND (<FSET? .AV ,VEHBIT>"]],[["Comment","\t\t       <TELL \"(You are in the \" D .AV \".)\" CR>)>"]],["\t\t<COND (<AND .",["Localid","V?"]," <APPLY <GETP ,",["Id","HERE"]," ,",["Implid","P?ACTION"],"> ,",["Id","M-LOOK"],">>"],["\t\t       <RTRUE>)"],["\t\t      (<AND .",["Localid","V?"]," <SET ",["Localid","STR"]," <GETP ,",["Id","HERE"]," ,",["Implid","P?LDESC"],">>>"],["\t\t       <TELL .",["Localid","STR"]," CR>)"],["\t\t      (T"],["\t\t       <APPLY <GETP ,",["Id","HERE"]," ,",["Implid","P?ACTION"],"> ,",["Id","M-FLASH"],">)>"],["\t\t<COND (<AND <NOT <EQUAL? ,",["Id","HERE"]," .",["Localid","AV"],">> <FSET? .",["Localid","AV"]," ,",["Implid","VEHBIT"],">>"],["\t\t       <APPLY <GETP .",["Localid","AV"]," ,",["Implid","P?ACTION"],"> ,",["Id","M-LOOK"],">)>)>"],["\t T>"],[],["<ROUTINE ",["Iddef","DESCRIBE-OBJECTS"]," (\"OPTIONAL\" (",["Localid","V?"]," <>))"],["\t <COND (,",["Id","LIT"]],["\t\t<COND (<FIRST? ,",["Id","HERE"],">"],["\t\t       <",["Id","PRINT-CONT"]," ,",["Id","HERE"]," <SET ",["Localid","V?"]," <OR .",["Localid","V?"]," ,",["Id","VERBOSE"],">> -1>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Only bats can see in the dark. And you're not one.\""]," CR>)>>"],[],[["Str","\"DESCRIBE-OBJECT -- takes object and flag.  if flag is true will print a"]],[["Str","long description (fdesc or ldesc), otherwise will print short.\""]],[],["<GLOBAL ",["Iddef","DESC-OBJECT"]," <>>"],[],["<ROUTINE ",["Iddef","DESCRIBE-OBJECT"]," (",["Localid","OBJ"]," ",["Localid","V?"]," ",["Localid","LEVEL"]," \"AUX\" (",["Localid","STR"]," <>) ",["Localid","AV"],")"],["\t <SETG ",["Id","DESC-OBJECT"]," .",["Localid","OBJ"],">"],["\t <COND (<AND <0? .",["Localid","LEVEL"],">"],["\t\t     <APPLY <GETP .",["Localid","OBJ"]," ,",["Implid","P?DESCFCN"],"> ,",["Id","M-OBJDESC"],">>"],["\t\t<RTRUE>)"],["\t       (<AND <0? .",["Localid","LEVEL"],">"],["\t\t     <OR <AND <NOT <FSET? .",["Localid","OBJ"]," ,",["Implid","TOUCHBIT"],">>"],["\t\t\t      <SET ",["Localid","STR"]," <GETP .",["Localid","OBJ"]," ,",["Implid","P?FDESC"],">>>"],["\t\t\t <SET ",["Localid","STR"]," <GETP .",["Localid","OBJ"]," ,",["Implid","P?LDESC"],">>>>"],["\t\t<TELL .",["Localid","STR"],">)"],["\t       (<0? .",["Localid","LEVEL"],">"],["\t\t<TELL ",["Str","\"There is a \""]," D .",["Localid","OBJ"]," ",["Str","\" here\""],">"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","ONBIT"],">"],["\t\t       <TELL ",["Str","\" (providing light)\""],">)>"],["\t\t<TELL ",["Str","\".\""],">)"],["\t       (T"],["\t\t<TELL <GET ,",["Id","INDENTS"]," .",["Localid","LEVEL"],">>"],["\t\t<TELL ",["Str","\"A \""]," D .",["Localid","OBJ"],">"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","ONBIT"],">"],["\t\t       <TELL ",["Str","\" (providing light)\""],">)"],["\t\t      (<AND <FSET? .",["Localid","OBJ"]," ,",["Implid","WEARBIT"],">"],["\t\t\t    <IN? .",["Localid","OBJ"]," ,",["Id","WINNER"],">>"],["\t\t       <TELL ",["Str","\" (being worn)\""],">)>)>"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<COND (<AND <EQUAL? .",["Localid","OBJ"]," ,",["Id","SPELL-VICTIM"],">"],["\t\t              <EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>>"],["\t\t         <TELL ",["Str","\" (floating in midair)\""],">)>)"],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<NULL-F>)"],">"],["\t <COND (<AND <0? .",["Localid","LEVEL"],">"],["\t\t     <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t\t     <FSET? .",["Localid","AV"]," ,",["Implid","VEHBIT"],">>"],["\t\t<TELL ",["Str","\" (outside the \""]," D .",["Localid","AV"]," ",["Str","\")\""],">)>"],["\t <CRLF>"],["\t <COND (<AND <",["Id","SEE-INSIDE?"]," .",["Localid","OBJ"],"> <FIRST? .",["Localid","OBJ"],">>"],["\t\t<",["Id","PRINT-CONT"]," .",["Localid","OBJ"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)>>"],[],["<ROUTINE ",["Iddef","PRINT-CONTENTS"]," (",["Localid","OBJ"]," \"AUX\" ",["Localid","F"]," ",["Localid","N"]," (1ST? T) (",["Localid","IT?"]," <>) (",["Localid","TWO?"]," <>))"],["\t <COND (<SET ",["Localid","F"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t<REPEAT ()"],["\t\t\t<SET ",["Localid","N"]," <NEXT? .",["Localid","F"],">>"],["\t\t\t<COND (.1ST? <SET 1ST? <>>)"],["\t\t\t      (ELSE"],["\t\t\t       <TELL ",["Str","\", \""],">"],["\t\t\t       <COND (<NOT .",["Localid","N"],"> <TELL ",["Str","\"and \""],">)>)>"],["\t\t\t<TELL ",["Str","\"a \""]," D .",["Localid","F"],">"],["\t\t\t<COND (<AND <NOT .",["Localid","IT?"],"> <NOT .",["Localid","TWO?"],">>"],["\t\t\t       <SET ",["Localid","IT?"]," .",["Localid","F"],">)"],["\t\t\t      (ELSE"],["\t\t\t       <SET ",["Localid","TWO?"]," T>"],["\t\t\t       <SET ",["Localid","IT?"]," <>>)>"],["\t\t\t<SET ",["Localid","F"]," .",["Localid","N"],">"],["\t\t\t<COND (<NOT .",["Localid","F"],">"],["\t\t\t       <COND (<AND .",["Localid","IT?"]," <NOT .",["Localid","TWO?"],">>"],["\t\t\t\t      <",["Id","THIS-IS-IT"]," .",["Localid","IT?"],">)>"],["\t\t\t       <RTRUE>)>>)>>"],[],["<ROUTINE ",["Iddef","PRINT-CONT"]," (",["Localid","OBJ"]," \"OPTIONAL\" (",["Localid","V?"]," <>) (",["Localid","LEVEL"]," 0)"],["\t\t     \"AUX\" ",["Localid","Y"]," 1",["Localid","ST?"]," ",["Localid","AV"]," ",["Localid","STR"]," (",["Localid","PV?"]," <>) (",["Localid","INV?"]," <>))"],["\t <COND (<NOT <SET ",["Localid","Y"]," <FIRST? .",["Localid","OBJ"],">>> <RTRUE>)>"],["\t <COND (<AND <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">> <FSET? .",["Localid","AV"]," ,",["Implid","VEHBIT"],">>"],["\t\tT)"],["\t       (ELSE <SET ",["Localid","AV"]," <>>)>"],["\t <SET 1",["Localid","ST?"]," T>"],["\t <COND (<EQUAL? ,",["Id","WINNER"]," .",["Localid","OBJ"]," <LOC .",["Localid","OBJ"],">>"],["\t\t<SET ",["Localid","INV?"]," T>)"],["\t       (ELSE"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .",["Localid","Y"],"> <RETURN <NOT .1",["Localid","ST?"],">>)"],["\t\t\t      (<EQUAL? .",["Localid","Y"]," .",["Localid","AV"],"> <SET ",["Localid","PV?"]," T>)"],["\t\t\t      (<EQUAL? .",["Localid","Y"]," ,",["Id","WINNER"],">)"],["\t\t\t      (<AND <NOT <FSET? .",["Localid","Y"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t\t    <NOT <FSET? .",["Localid","Y"]," ,",["Implid","TOUCHBIT"],">>"],["\t\t\t\t    <SET ",["Localid","STR"]," <GETP .",["Localid","Y"]," ,",["Implid","P?FDESC"],">>>"],["\t\t\t       <COND (<NOT <FSET? .",["Localid","Y"]," ,",["Implid","NDESCBIT"],">>"],["\t\t\t\t      <TELL .",["Localid","STR"]," CR>"],["\t\t\t\t      ",["Comment",";<SET 1ST? <>>"],")>"],["\t\t\t       <COND (<AND <",["Id","SEE-INSIDE?"]," .",["Localid","Y"],">"],["\t\t\t\t\t   <NOT <GETP <LOC .",["Localid","Y"],"> ,",["Implid","P?DESCFCN"],">>"],["\t\t\t\t\t   <FIRST? .",["Localid","Y"],">>"],["\t\t\t\t      <COND (<",["Iddef","PRINT-CONT"]," .",["Localid","Y"]," .",["Localid","V?"]," 0>"],["\t\t\t\t\t     <SET 1",["Localid","ST?"]," <>>)>)>)>"],["\t\t\t<SET ",["Localid","Y"]," <NEXT? .",["Localid","Y"],">>>)>"],["\t <SET ",["Localid","Y"]," <FIRST? .",["Localid","OBJ"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","Y"],">"],["\t\t\t<COND (<AND .",["Localid","PV?"]," .",["Localid","AV"]," <FIRST? .",["Localid","AV"],">>"],["\t\t\t       <SET ",["Localid","LEVEL"]," <+ .",["Localid","LEVEL"]," 1>> ",["Comment",";\"not in Zork III\""]],["\t\t\t       <",["Iddef","PRINT-CONT"]," .",["Localid","AV"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)>"],["\t\t\t<RETURN <NOT .1",["Localid","ST?"],">>)"],["\t\t       (<EQUAL? .",["Localid","Y"]," .",["Localid","AV"]," ,",["Id","ADVENTURER"],">)"],["\t\t       (<AND <NOT <FSET? .",["Localid","Y"]," ,",["Implid","INVISIBLE"],">>"],["\t\t\t     <OR .",["Localid","INV?"]],["\t\t\t\t <FSET? .",["Localid","Y"]," ,",["Implid","TOUCHBIT"],">"],["\t\t\t\t <NOT <GETP .",["Localid","Y"]," ,",["Implid","P?FDESC"],">>>>"],["\t\t\t<COND (<NOT <FSET? .",["Localid","Y"]," ,",["Implid","NDESCBIT"],">>"],["\t\t\t       <COND (.1",["Localid","ST?"]],["\t\t\t\t      <COND (<",["Id","FIRSTER"]," .",["Localid","OBJ"]," .",["Localid","LEVEL"],">"],["\t\t\t\t\t     <COND (<L? .",["Localid","LEVEL"]," 0>"],["\t\t\t\t\t\t    <SET ",["Localid","LEVEL"]," 0>)>)>"],["\t\t\t\t      <SET ",["Localid","LEVEL"]," <+ 1 .",["Localid","LEVEL"],">>"],["\t\t\t\t      <SET 1",["Localid","ST?"]," <>>)>"],["\t\t\t       <COND (<L? .",["Localid","LEVEL"]," 0> <SET ",["Localid","LEVEL"]," 0>)>"],["\t\t\t       <",["Id","DESCRIBE-OBJECT"]," .",["Localid","Y"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)"],["\t\t\t      (<AND <FIRST? .",["Localid","Y"],"> <",["Id","SEE-INSIDE?"]," .",["Localid","Y"],">>"],["\t\t\t       <SET ",["Localid","LEVEL"]," <+ .",["Localid","LEVEL"]," 1>> ",["Comment",";\"not in Zork III\""]],["\t\t\t       <",["Iddef","PRINT-CONT"]," .",["Localid","Y"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)>)>"],["\t\t <SET ",["Localid","Y"]," <NEXT? .",["Localid","Y"],">>>>"],[],["<ROUTINE ",["Iddef","FIRSTER"]," (",["Localid","OBJ"]," ",["Localid","LEVEL"],")"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(<EQUAL? .OBJ ,TROPHY-CASE>"]],[["Ifndef","\t\t         <TELL"]],[["Ifndef","\"Your collection of treasures consists of:\" CR>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (<EQUAL? .",["Localid","OBJ"]," ,",["Id","WINNER"],">"],["\t\t<TELL ",["Str","\"You are carrying:\""]," CR>)"],["\t       (<NOT <IN? .",["Localid","OBJ"]," ,",["Id","ROOMS"],">>"],["\t\t<COND (<G? .",["Localid","LEVEL"]," 0>"],["\t\t       <TELL <GET ,",["Id","INDENTS"]," .",["Localid","LEVEL"],">>)>"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,",["Implid","SURFACEBIT"],">"],["\t\t       <TELL ",["Str","\"Sitting on the \""]," D .",["Localid","OBJ"]," ",["Str","\" is: \""]," CR>)"],["\t\t      (<FSET? .",["Localid","OBJ"]," ,",["Implid","ACTORBIT"],">"],["\t\t       <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" is holding: \""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" contains:\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","SEE-INSIDE?"]," (",["Localid","OBJ"],")"],["\t <AND <NOT <FSET? .",["Localid","OBJ"]," ,",["Implid","INVISIBLE"],">>"],["\t      <OR <FSET? .",["Localid","OBJ"]," ,",["Implid","TRANSBIT"],"> <FSET? .",["Localid","OBJ"]," ,",["Implid","OPENBIT"],">>>>"],[],[["Str","\"Scoring\""]],[],["<GLOBAL ",["Iddef","MOVES"]," 0>"],[],["<GLOBAL ",["Iddef","SCORE"]," 0>"],[],["<GLOBAL ",["Iddef","BASE-SCORE"]," 0>"],[],["<GLOBAL ",["Iddef","WON-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","SCORE-UPD"]," (",["Localid","NUM"],")"],["\t <SETG ",["Id","BASE-SCORE"]," <+ ,",["Id","BASE-SCORE"]," .",["Localid","NUM"],">>"],["\t <SETG ",["Id","SCORE"]," <+ ,",["Id","SCORE"]," .",["Localid","NUM"],">>"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t '<COND (<AND <EQUAL? ,SCORE 350>"]],[["Ifndef","\t\t              <NOT ,WON-FLAG>>"]],[["Ifndef","\t\t         <SETG WON-FLAG T>"]],[["Ifndef","\t\t         <FCLEAR ,MAP ,INVISIBLE>"]],[["Ifndef","\t\t         <FCLEAR ,WEST-OF-HOUSE ,TOUCHBIT>"]],[["Ifndef","\t\t         <TELL"]],[["Ifndef","\"An almost inaudible voice whispers in your ear, \\\"Look to your treasures"]],[["Ifndef","for the final secret.\\\"\" CR>)>)"]],["\t\t(T"],["\t\t '<",["Id","NULL-F"],">)>"],["\t T>"],[],["<ROUTINE ",["Iddef","SCORE-OBJ"]," (",["Localid","OBJ"]," \"AUX\" ",["Localid","TEMP"],")"],["\t <COND (<G? <SET ",["Localid","TEMP"]," <GETP .",["Localid","OBJ"]," ,",["Implid","P?VALUE"],">> 0>"],["\t\t<",["Id","SCORE-UPD"]," .",["Localid","TEMP"],">"],["\t\t<PUTP .",["Localid","OBJ"]," ,",["Implid","P?VALUE"]," 0>)>>"],[],["<ROUTINE ",["Iddef","FINISH"]," ()"],["\t <",["Id","V-SCORE"],">"],["\t <QUIT>>"],[],["<ROUTINE ",["Iddef","YES?"]," ()"],["\t <PRINTI ",["Str","\">\""],">"],["\t <READ ,",["Id","P-INBUF"]," ,",["Id","P-LEXV"],">"],["\t <COND (<EQUAL? <GET ,",["Id","P-LEXV"]," 1> ,W?YES ,W?Y>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<RFALSE>)>>"],[],[["Str","\"Death\""]],[],["<GLOBAL ",["Iddef","DEAD"]," <>>"],[],["<GLOBAL ",["Iddef","DEATHS"]," 0>"],[],["<GLOBAL ",["Iddef","LUCKY"]," 1>"],[],[["Comment",";\"JIGS-UP is in ACTIONS.ZIL\""]],[],[["Comment",";\"RANDOMIZE-OBJECTS is in ACTIONS.ZIL\""]],[],[["Comment",";\"KILL-INTERRUPTS is in ACTIONS.ZIL\""]],[],[["Str","\"Object Manipulation\""]],[],["<GLOBAL ",["Iddef","FUMBLE-NUMBER"]," 7>"],[],["<GLOBAL ",["Iddef","FUMBLE-PROB"]," 8>"],[],["<ROUTINE ",["Iddef","ITAKE"]," (\"OPTIONAL\" (",["Localid","VB"]," T) \"AUX\" ",["Localid","CNT"]," ",["Localid","OBJ"],")"],["\t #DECL ((",["Localid","VB"],") <OR ATOM FALSE> (",["Localid","CNT"],") FIX (",["Localid","OBJ"],") OBJECT)"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t       '(,DEAD"]],[["Ifndef","\t\t         <COND (.VB"]],[["Ifndef","\t\t\t\t<TELL"]],[["Ifndef","\"Your hand passes through its object.\" CR>)>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (<NOT <FSET? ,",["Id","PRSO"]," ,",["Implid","TAKEBIT"],">>"],["\t\t<COND (.",["Localid","VB"]],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","YUKS"],"> CR>)>"],["\t\t<RFALSE>)"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t       '(<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","SPELL-VICTIM"],">"],["\t\t              <EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT ,W?FREEZE>>"],["\t\t         <COND (<EQUAL? ,",["Id","SPELL-USED"]," ,W?FLOAT>"],["\t\t                <TELL"],[["Str","\"You can't reach that. It's floating above your head.\""]," CR>)"],["\t\t               (T"],["\t\t                <TELL ",["Str","\"It seems rooted to the spot.\""]," CR>)>"],["\t\t         <RFALSE>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F>"]],[["Ifndef","\t\t\t <RFALSE>))"],">"],["\t       (<AND <FSET? <LOC ,",["Id","PRSO"],"> ,",["Implid","CONTBIT"],">"],["\t\t     <NOT <FSET? <LOC ,",["Id","PRSO"],"> ,",["Implid","OPENBIT"],">>>"],["\t\t",["Comment",";\"Kludge for parser calling itake\""]],["\t\t<RFALSE>)"],["\t       (<AND <NOT <IN? <LOC ,",["Id","PRSO"],"> ,",["Id","WINNER"],">>"],["\t\t     <G? <+ <",["Id","WEIGHT"]," ,",["Id","PRSO"],"> <",["Id","WEIGHT"]," ,",["Id","WINNER"],">> ,",["Id","LOAD-ALLOWED"],">>"],["\t\t<COND (.",["Localid","VB"]],["\t\t       <TELL ",["Str","\"Your load is too heavy\""],">"],["\t\t       <COND (<L? ,",["Id","LOAD-ALLOWED"]," ,",["Id","LOAD-MAX"],">"],["\t\t\t      <TELL",["Str","\", especially in light of your condition.\""],">)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\".\""],">)>"],["\t\t       <CRLF>)>"],["\t\t<RFATAL>)"],["\t       (<AND <VERB? TAKE>"],["\t\t     <G? <SET ",["Localid","CNT"]," <",["Id","CCOUNT"]," ,",["Id","WINNER"],">> ,",["Id","FUMBLE-NUMBER"],">"],["\t\t     <PROB <* .",["Localid","CNT"]," ,",["Id","FUMBLE-PROB"],">>>"],["\t\t<TELL"],[["Str","\"You try to pick it up, but with everything else you have, you can't manage"]],[["Str","to hold onto it!\""]," CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<MOVE ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t<FCLEAR ,",["Id","PRSO"]," ,",["Implid","NDESCBIT"],">"],["\t\t<FSET ,",["Id","PRSO"]," ,",["Implid","TOUCHBIT"],">"],["\t\t%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t'<COND (<EQUAL? ,",["Id","SPELL?"]," ,",["Id","S-FILCH"],">"],["\t\t                <COND (<",["Id","RIPOFF"]," ,",["Id","PRSO"]," ,",["Id","WIZARD-CASE"],">"],["\t\t\t               <TELL"],[["Str","\"When you touch the \""]," D ,",["Id","PRSO"]," ",["Str","\" it immediately disappears!\""]," CR>"],["\t\t\t               <RFALSE>)>)>)"],["\t\t       ",["Ifndef","(T"]],[["Ifndef","\t\t\t'<NULL-F>)"],">"],["\t\t%<COND (<OR <==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t    <==? ,",["Id","ZORK-NUMBER"]," 2>>"],["\t\t\t'<",["Id","SCORE-OBJ"]," ,",["Id","PRSO"],">)"],["\t\t       ",["Ifndef","(T"]],[["Ifndef","\t\t\t'<NULL-F>)"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","IDROP"]," ()"],["\t <COND (<AND <NOT <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">>"],["\t\t     <NOT <IN? <LOC ,",["Id","PRSO"],"> ,",["Id","WINNER"],">>>"],["\t\t<TELL ",["Str","\"You're not carrying the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t\t<RFALSE>)"],["\t       (<AND <NOT <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">>"],["\t\t     <NOT <FSET? <LOC ,",["Id","PRSO"],"> ,",["Implid","OPENBIT"],">>>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is closed.\""]," CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<MOVE ,",["Id","PRSO"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","CCOUNT"]," (",["Localid","OBJ"]," \"AUX\" (",["Localid","CNT"]," 0) ",["Localid","X"],")"],["\t <COND (<SET ",["Localid","X"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT <FSET? .",["Localid","X"]," ,",["Implid","WEARBIT"],">>"],["\t\t\t       <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>)>"],["\t\t\t<COND (<NOT <SET ",["Localid","X"]," <NEXT? .",["Localid","X"],">>>"],["\t\t\t       <RETURN>)>>)>"],["\t .",["Localid","CNT"],">"],[],["<ROUTINE ",["Iddef","WEIGHT"]," (",["Localid","OBJ"]," \"AUX\" ",["Localid","CONT"]," (",["Localid","WT"]," 0))"],["\t <COND (<SET ",["Localid","CONT"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<AND <EQUAL? .",["Localid","OBJ"]," ,",["Id","PLAYER"],">"],["\t\t\t\t    <FSET? .",["Localid","CONT"]," ,",["Implid","WEARBIT"],">>"],["\t\t\t       <SET ",["Localid","WT"]," <+ .",["Localid","WT"]," 1>>)"],["\t\t\t      (T"],["\t\t\t       <SET ",["Localid","WT"]," <+ .",["Localid","WT"]," <",["Iddef","WEIGHT"]," .",["Localid","CONT"],">>>)>"],["\t\t\t<COND (<NOT <SET ",["Localid","CONT"]," <NEXT? .",["Localid","CONT"],">>> <RETURN>)>>)>"],["\t <+ .",["Localid","WT"]," <GETP .",["Localid","OBJ"]," ,",["Implid","P?SIZE"],">>>"],[],[["Str","\"Miscellaneous\""]],[],["<CONSTANT ",["Iddef","REXIT"]," 0>"],["<CONSTANT ",["Iddef","UEXIT"]," 1>"],["<CONSTANT ",["Iddef","NEXIT"]," 2>"],["<CONSTANT ",["Iddef","FEXIT"]," 3>"],["<CONSTANT ",["Iddef","CEXIT"]," 4>"],["<CONSTANT ",["Iddef","DEXIT"]," 5>"],[],["<CONSTANT ",["Iddef","NEXITSTR"]," 0>"],["<CONSTANT ",["Iddef","FEXITFCN"]," 0>"],["<CONSTANT ",["Iddef","CEXITFLAG"]," 1>"],["<CONSTANT ",["Iddef","CEXITSTR"]," 1>"],["<CONSTANT ",["Iddef","DEXITOBJ"]," 1>"],["<CONSTANT ",["Iddef","DEXITSTR"]," 1>"],[],["<GLOBAL ",["Iddef","INDENTS"]],["\t<TABLE ",["Str","\"\""]],["\t       ",["Str","\"  \""]],["\t       ",["Str","\"    \""]],["\t       ",["Str","\"      \""]],["\t       ",["Str","\"        \""]],["\t       ",["Str","\"          \""],">>"],[],["<ROUTINE ",["Iddef","HACK-HACK"]," (",["Localid","STR"],")"],["\t <COND (<AND <IN? ,",["Id","PRSO"]," ,",["Id","GLOBAL-OBJECTS"],">"],["\t\t     <VERB? WAVE RAISE LOWER>>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" isn't here!\""]," CR>)"],["\t       (T"],["\t\t<TELL .",["Localid","STR"]," D ,",["Id","PRSO"]," <",["Id","PICK-ONE"]," ,",["Id","HO-HUM"],"> CR>)>>"],[],["<GLOBAL ",["Iddef","HO-HUM"]],["\t<LTABLE"],["\t 0"],["\t ",["Str","\" doesn't seem to work.\""]],["\t ",["Str","\" isn't notably helpful.\""]],["\t ",["Str","\" has no effect.\""],">>"],[],["<ROUTINE ",["Iddef","NO-GO-TELL"]," (",["Localid","AV"]," ",["Localid","WLOC"],")"],["\t <COND (.",["Localid","AV"]],["\t\t<TELL ",["Str","\"You can't go there in a \""]," D .",["Localid","WLOC"]," ",["Str","\".\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go there without a vehicle.\""],">)>"],["\t <CRLF>>"],[],["<ROUTINE ",["Iddef","GOTO"]," (",["Localid","RM"]," \"OPTIONAL\" (",["Localid","V?"]," T)"],["\t       \"AUX\" (",["Localid","LB"]," <FSET? .",["Localid","RM"]," ,",["Implid","RLANDBIT"],">) (",["Localid","WLOC"]," <LOC ,",["Id","WINNER"],">)"],["\t             (",["Localid","AV"]," <>) ",["Localid","OLIT"]," ",["Localid","OHERE"],")"],["\t <SET ",["Localid","OLIT"]," ,",["Id","LIT"],">"],["\t <SET ",["Localid","OHERE"]," ,",["Id","HERE"],">"],["\t <COND (<FSET? .",["Localid","WLOC"]," ,",["Implid","VEHBIT"],">"],["\t\t<SET ",["Localid","AV"]," <GETP .",["Localid","WLOC"]," ,",["Implid","P?VTYPE"],">>)>"],["\t <COND (<AND <NOT .",["Localid","LB"],">"],["\t\t     <NOT .",["Localid","AV"],">>"],["\t\t<",["Id","NO-GO-TELL"]," .",["Localid","AV"]," .",["Localid","WLOC"],">"],["\t\t<RFALSE>)"],["\t       (<AND <NOT .",["Localid","LB"],">"],["\t\t     <NOT <FSET? .",["Localid","RM"]," .",["Localid","AV"],">>>"],["\t\t<",["Id","NO-GO-TELL"]," .",["Localid","AV"]," .",["Localid","WLOC"],">"],["\t\t<RFALSE>)"],["\t       (<AND <FSET? ,",["Id","HERE"]," ,",["Implid","RLANDBIT"],">"],["\t\t     .",["Localid","LB"]],["\t\t     .",["Localid","AV"]],["\t\t     <NOT <EQUAL? .",["Localid","AV"]," ,",["Implid","RLANDBIT"],">>"],["\t\t     <NOT <FSET? .",["Localid","RM"]," .",["Localid","AV"],">>>"],["\t\t<",["Id","NO-GO-TELL"]," .",["Localid","AV"]," .",["Localid","WLOC"],">"],["\t\t<RFALSE>)"],["\t       (<FSET? .",["Localid","RM"]," ,",["Implid","RMUNGBIT"],">"],["\t\t<TELL <GETP .",["Localid","RM"]," ,",["Implid","P?LDESC"],"> CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<COND (<AND .",["Localid","LB"]," <NOT <FSET? ,",["Id","HERE"]," ,",["Implid","RLANDBIT"],">> <NOT ,",["Id","DEAD"],">>"],["\t\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 1>"]],[["Ifndef","\t\t\t       '<TELL"]],[["Ifndef","\"The \" D .WLOC \" comes to a rest on the shore.\" CR CR>)"]],["\t\t\t      (T"],["\t\t\t       '<COND (<EQUAL? .",["Localid","AV"]," ,",["Id","BALLOON"],">"],["\t\t\t\t       <TELL"],[["Str","\"The balloon lands.\""]," CR>)"],["\t\t\t\t      (<FSET? .",["Localid","WLOC"]," ,",["Implid","VEHBIT"],">"],["\t\t\t\t       <TELL"],[["Str","\"The \""]," D .",["Localid","WLOC"]," ",["Str","\" comes to a stop.\""]," CR CR>)>)>)>"],["\t\t<COND (.",["Localid","AV"]],["\t\t       <MOVE .",["Localid","WLOC"]," .",["Localid","RM"],">)"],["\t\t      (T"],["\t\t       <MOVE ,",["Id","WINNER"]," .",["Localid","RM"],">)>"],["\t\t<SETG ",["Id","HERE"]," .",["Localid","RM"],">"],["\t\t<SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t\t<COND (<AND <NOT .",["Localid","OLIT"],">"],["\t\t\t    <NOT ,",["Id","LIT"],">"],["\t\t\t    <PROB 80>>"],["\t\t       <COND (,",["Id","SPRAYED?"]],["\t\t\t      <TELL"],[["Str","\"There are sinister gurgling noises in the darkness all around you!\""]," CR>)"],["\t\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t\t     '(<EQUAL? ,HERE ,DARK-1 ,DARK-2>"]],[["Ifndef","\t\t                       <JIGS-UP"]],[["Ifndef","\"Oh, no! Dozen of lurking grues attack and devour you! You must have"]],[["Ifndef","stumbled into an authentic grue lair!\">))"]],["\t\t\t\t    (T"],["\t\t\t\t     '(<",["Id","NULL-F"],">"],["\t\t\t\t       <RFALSE>))>"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"Oh, no! A lurking grue slithered into the \""],">"],["\t\t\t      <COND (<FSET? <LOC ,",["Id","WINNER"],"> ,",["Implid","VEHBIT"],">"],["\t\t\t\t     <TELL D <LOC ,",["Id","WINNER"],">>)"],["\t\t\t\t    (T <TELL ",["Str","\"room\""],">)>"],["\t\t\t      <",["Id","JIGS-UP"]," ",["Str","\" and devoured you!\""],">"],["\t\t\t      <RTRUE>)>)>"],["\t\t<COND (<AND <NOT ,",["Id","LIT"],">"],["\t\t\t    <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t       <TELL ",["Str","\"You have moved into a dark place.\""]," CR>"],["\t\t       <SETG ",["Id","P-CONT"]," <>>)>"],["\t\t<APPLY <GETP ,",["Id","HERE"]," ,",["Implid","P?ACTION"],"> ,",["Id","M-ENTER"],">"],["\t\t<",["Id","SCORE-OBJ"]," .",["Localid","RM"],">"],["\t\t<COND (<NOT <EQUAL? ,",["Id","HERE"]," .",["Localid","RM"],">> <RTRUE>)"],["\t\t      (<AND <NOT <EQUAL? ,",["Id","ADVENTURER"]," ,",["Id","WINNER"],">>"],["\t\t\t    <IN? ,",["Id","ADVENTURER"]," .",["Localid","OHERE"],">>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","WINNER"]," ",["Str","\" leaves the room.\""]," CR>)"],["\t\t      (<AND .",["Localid","V?"]],["\t\t\t    <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t       <",["Id","V-FIRST-LOOK"],">)>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","GO-NEXT"]," (",["Localid","TBL"]," \"AUX\" ",["Localid","VAL"],")"],["\t <COND (<SET ",["Localid","VAL"]," <",["Id","LKP"]," ,",["Id","HERE"]," .",["Localid","TBL"],">>"],["\t\t<",["Id","GOTO"]," .",["Localid","VAL"],">)>>"],[],["<ROUTINE ",["Iddef","LKP"]," (",["Localid","ITM"]," ",["Localid","TBL"]," \"AUX\" (",["Localid","CNT"]," 0) (",["Localid","LEN"]," <GET .",["Localid","TBL"]," 0>))"],["\t <REPEAT ()"],["\t\t <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> .",["Localid","LEN"],">"],["\t\t\t<RFALSE>)"],["\t\t       (<EQUAL? <GET .",["Localid","TBL"]," .",["Localid","CNT"],"> .",["Localid","ITM"],">"],["\t\t\t<COND (<EQUAL? .",["Localid","CNT"]," .",["Localid","LEN"],"> <RFALSE>)"],["\t\t\t      (T"],["\t\t\t       <RETURN <GET .",["Localid","TBL"]," <+ .",["Localid","CNT"]," 1>>>)>)>>>"],[],["<ROUTINE ",["Iddef","DO-WALK"]," (",["Localid","DIR"],")"],["\t <SETG ",["Id","P-WALK-DIR"]," .",["Localid","DIR"],">"],["\t <",["Id","PERFORM"]," ,V?WALK .",["Localid","DIR"],">>"],[],["<ROUTINE ",["Iddef","WORD-TYPE"]," (",["Localid","OBJ"]," ",["Localid","WORD"]," \"AUX\" ",["Localid","SYNS"],")"],["\t <",["Id","ZMEMQ"]," .",["Localid","WORD"]],["\t\t<SET ",["Localid","SYNS"]," <GETPT .",["Localid","OBJ"]," ,",["Implid","P?SYNONYM"],">>"],["\t\t<- </ <PTSIZE .",["Localid","SYNS"],"> 2> 1>>>"],[],["<ROUTINE ",["Iddef","GLOBAL-IN?"]," (",["Localid","OBJ1"]," ",["Localid","OBJ2"]," \"AUX\" ",["Localid","TX"],")"],["\t <COND (<SET ",["Localid","TX"]," <GETPT .",["Localid","OBJ2"]," ,",["Implid","P?GLOBAL"],">>"],["\t\t<",["Id","ZMEMQB"]," .",["Localid","OBJ1"]," .",["Localid","TX"]," <- <PTSIZE .",["Localid","TX"],"> 1>>)>>"],[],["<ROUTINE ",["Iddef","FIND-IN"]," (",["Localid","WHERE"]," ",["Localid","WHAT"]," \"AUX\" ",["Localid","W"],")"],["\t <SET ",["Localid","W"]," <FIRST? .",["Localid","WHERE"],">>"],["\t <COND (<NOT .",["Localid","W"],">"],["\t\t<RFALSE>)>"],["\t <REPEAT ()"],["\t\t <COND (<AND <FSET? .",["Localid","W"]," .",["Localid","WHAT"],">"],["\t\t\t     <NOT <EQUAL? .",["Localid","W"]," ,",["Id","ADVENTURER"],">>>"],["\t\t\t<RETURN .",["Localid","W"],">)"],["\t\t       (<NOT <SET ",["Localid","W"]," <NEXT? .",["Localid","W"],">>>"],["\t\t\t<RETURN <>>)>>>"],[],[],["<ROUTINE ",["Iddef","IN-HERE?"]," (",["Localid","OBJ"],")"],["\t <OR <IN? .",["Localid","OBJ"]," ,",["Id","HERE"],">"],["\t     <",["Id","GLOBAL-IN?"]," .",["Localid","OBJ"]," ,",["Id","HERE"],">>>"],[],["<ROUTINE ",["Iddef","HELD?"]," (",["Localid","CAN"],")"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","CAN"]," <LOC .",["Localid","CAN"],">>"],["\t\t <COND (<NOT .",["Localid","CAN"],"> <RFALSE>)"],["\t\t       (<EQUAL? .",["Localid","CAN"]," ,",["Id","WINNER"],"> <RTRUE>)>>>"],[],["<ROUTINE ",["Iddef","OTHER-SIDE"]," (",["Localid","DOBJ"]," \"AUX\" (",["Localid","P"]," 0) ",["Localid","TX"],") ",["Comment",";\"finds room beyond given door\""]],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","P"]," <NEXTP ,",["Id","HERE"]," .",["Localid","P"],">> ,",["Id","LOW-DIRECTION"],">"],["\t\t\t<RETURN <>>)"],["\t\t       (ELSE"],["\t\t\t<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","P"],">>"],["\t\t\t<COND (<AND <EQUAL? <PTSIZE .",["Localid","TX"],"> ,",["Id","DEXIT"],">"],["\t\t\t\t    <EQUAL? <GETB .",["Localid","TX"]," ,",["Id","DEXITOBJ"],"> .",["Localid","DOBJ"],">>"],["\t\t\t       <RETURN .",["Localid","P"],">)>)>>>"],[],["<ROUTINE ",["Iddef","MUNG-ROOM"]," (",["Localid","RM"]," ",["Localid","STR"],")"],["\t <COND (<EQUAL? .",["Localid","RM"]," ,",["Id","INSIDE-BARROW"],">"],["\t\t<RFALSE>)>"],["\t <FSET .",["Localid","RM"]," ,",["Implid","RMUNGBIT"],">"],["\t <PUTP .",["Localid","RM"]," ,",["Implid","P?LDESC"]," .",["Localid","STR"],">>"],[],["<ROUTINE ",["Iddef","THIS-IS-IT"]," (",["Localid","OBJ"],")"],["\t <SETG ",["Id","P-IT-OBJECT"]," .",["Localid","OBJ"],">"],["\t <SETG ",["Id","P-IT-LOC"]," ,",["Id","HERE"],">>"],[],["<GLOBAL ",["Iddef","SWIMYUKS"]],["\t<LTABLE 0 ",["Str","\"You can't swim in the dungeon.\""],">>"],[],["<GLOBAL ",["Iddef","HELLOS"]],["\t<LTABLE 0 ",["Str","\"Hello.\""]],["\t       ",["Str","\"Good day.\""]],["\t       ",["Str","\"Nice weather we've been having lately.\""]],["\t       ",["Str","\"Goodbye.\""],">>"],[],["<GLOBAL ",["Iddef","YUKS"]],["\t<LTABLE"],["\t 0"],["\t ",["Str","\"A valiant attempt.\""]],["\t ",["Str","\"You can't be serious.\""]],["\t ",["Comment",";\"Not bloody likely.\""]],["\t ",["Str","\"An interesting idea...\""]],["\t ",["Str","\"What a concept!\""],">>"],[],[["Ifndef","<GLOBAL DUMMY"]],[["Ifndef","\t<LTABLE 0"]],[["Ifndef","\t\t\"Look around.\""]],[["Ifndef","\t        \"Too late for that.\""]],[["Ifndef","\t        \"Have your eyes checked.\">"],">"]],"crufty.zil":[[["Str","\"CRUFTY2 for"]],[["Str","\t\t      Zork: The Wizard of Frobozz"]],[["Str","\t\t The Great Underground Empire (Part 2)"]],[["Str","\t(c) Copyright 1981 Infocom, Inc.  All Rights Reserved."]],[["Str","\""]],[],["<ROUTINE ",["Iddef","I-LANTERN"]," ()"],["\t <",["Id","LIGHT-INT"]," ,",["Id","LAMP"]," ",["Iddef","I-LANTERN"]," ",["Id","LAMP-TABLE"],">>"],[],[],[]]};
